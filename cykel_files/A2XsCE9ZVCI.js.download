if (self.CavalryLogger) { CavalryLogger.start_js(["gU+Hs"]); }

__d("AdsInterfaceCreativeLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ADS_ADGROUP_PREVIEW_GENERATE_ERROR:"ADS_ADGROUP_PREVIEW_GENERATE_ERROR",CAROUSEL_IMAGE_CONFIRMED_IN_IMAGE_LIBRARY_DIALOG:"CAROUSEL_IMAGE_CONFIRMED_IN_IMAGE_LIBRARY_DIALOG",CAROUSEL_IMAGE_CROP_COMPLETED:"CAROUSEL_IMAGE_CROP_COMPLETED",CAROUSEL_IMAGE_CROP_DIALOG_OPENED:"CAROUSEL_IMAGE_CROP_DIALOG_OPENED",CAROUSEL_SELECT_OR_CHANGE_IMAGE_DIALOG_OPEN:"CAROUSEL_SELECT_OR_CHANGE_IMAGE_DIALOG_OPEN",IMAGE_TOO_SMALL_ERROR:"IMAGE_TOO_SMALL_ERROR",IMAGE_UPLOAD_FAILURE:"IMAGE_UPLOAD_FAILURE",IMAGE_UPLOAD_SUCCESSFUL:"IMAGE_UPLOAD_SUCCESSFUL"});e.exports=a}),null);
__d("SignalsHomeRedirectUtils",["AdsCMPageValues","AdsCMURLParams","FacebookSubdomain","URI","XAdsCMController","XSignalsEventsManagerController","goURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return(window.location.pathname+"/").indexOf(b("XSignalsEventsManagerController").getURIBuilder().getURI().getPath())===0}function h(a,c){c===void 0&&(c=null);var d=new(b("URI"))(window.location.href),e=d.getQueryData(),f={};e.selected_data_sources!=null&&(f.selected_data_sources=e.selected_data_sources);e.date_range!=null&&(f.date_range=e.date_range);a!=null&&(f.business_id=a);c!=null&&(f.act=c);d.setQueryData(f);d.setSubdomain(a!=null?b("FacebookSubdomain").BUSINESS:b("FacebookSubdomain").WWW);return d}function a(a,b){b===void 0&&(b=null);return g()?h(a,b):i(a,b)}function i(a,c,d,e,f,g,h,i){__p&&__p();c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=null);h===void 0&&(h=null);i===void 0&&(i=null);var j=b("XSignalsEventsManagerController").getURIBuilder();c!=null&&j.setInt("act",c);a!=null&&j.setFBID("business_id",a);e!=null&&j.setFBID("dataset_id",e);d!=null&&j.setFBID("pixel_id",d);i!=null&&j.setFBID("app_id",i);f!=null&&j.setFBID("business_unit_id",f);g!=null&&j.setEnum("selected_data_sources",g);c=j.getURI();if(h!=null){e=["events_manager"].concat(h.split("/").filter(function(a){return a.length>0}));c.setPath("/"+e.join("/")+"/")}c.setSubdomain(a!=null?b("FacebookSubdomain").BUSINESS:b("FacebookSubdomain").WWW);return c}function c(a,c,d,e,f,g){c===void 0&&(c=null),d===void 0&&(d=null),e===void 0&&(e=null),g===void 0&&(g=null),b("goURI")(i(a,c,d,e,null,f,g))}function j(a,c){var d=b("XAdsCMController").getURIBuilder().setEnum(b("AdsCMURLParams").PAGE,b("AdsCMPageValues").CREATION_PAGE);return l(d,a,c)}function k(a,c){var d=b("XAdsCMController").getURIBuilder().setEnum(b("AdsCMURLParams").PAGE,b("AdsCMPageValues").AUDIENCES_PAGE);return l(d,a,c)}function l(a,c,d){d!=null&&a.setInt("act",d);c!=null&&a.setInt("business_id",c);d=a.getURI().setSubdomain(c!=null?b("FacebookSubdomain").BUSINESS:b("FacebookSubdomain").WWW);return d}function d(a,c){b("goURI")(j.apply(undefined,arguments))}function f(a,c){b("goURI")(k.apply(undefined,arguments))}e.exports={isCurrentlyOnEventsManagerPage:g,getCurrentURIWithDifferentBusinessAndAdAccount:h,getNewOrAlteredURIWithDifferentBusinessAndAdAccount:a,getAdsCreationURI:j,getAudienceManagerURI:k,getEventsManagerURI:i,goToAdsCreation:d,goToAudienceManager:f,goToEventsManager:c}}),null);
__d("AdPreviewLoadingOverlayTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROGRESS_BAR:"progressbar",SHIMMER:"shimmer"})}),null);
__d("AdsPreviewUtils",["AdsAPIAdgroupPaths","AdsGraphAPI","AdsObjectStorySpecUtils","AdsPreviewApiFormats","ApiAdCreativeFields","getByPath","mergeDeep"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={fixCreative:function(a,c){var d=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path.slice(1));a=b("mergeDeep")(a);a[b("ApiAdCreativeFields").INSTAGRAM_STORY_ID]&&a[b("ApiAdCreativeFields").OBJECT_ID]?(delete a[b("ApiAdCreativeFields").OBJECT_STORY_SPEC],delete a[b("ApiAdCreativeFields").OBJECT_STORY_ID]):(delete a[b("ApiAdCreativeFields").INSTAGRAM_STORY_ID],!c||b("AdsObjectStorySpecUtils").isEmpty(d)?delete a[b("ApiAdCreativeFields").OBJECT_STORY_SPEC]:(delete a[b("ApiAdCreativeFields").OBJECT_ID],delete a[b("ApiAdCreativeFields").OBJECT_STORY_ID]));a[b("ApiAdCreativeFields").IMAGE_HASH]&&a[b("ApiAdCreativeFields").IMAGE_URL]&&delete a[b("ApiAdCreativeFields").IMAGE_URL];d=a[b("ApiAdCreativeFields").OBJECT_STORY_SPEC];d&&d.link_data&&d.link_data.image_hash&&d.link_data.picture&&delete d.link_data.picture;d&&d.photo_data&&d.photo_data.image_hash&&d.photo_data.url&&delete d.photo_data.url;return a},getCroppingConfig:function(a){return!a?new Map():new Map([[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,!0],[b("AdsPreviewApiFormats").GROUPS_DESKTOP,!0],[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD,!0],[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD,!0]])},getPageletAPIVersion:function(){return"v"+b("AdsGraphAPI").getVersion()}};e.exports=a}),null);
__d("AdPreview.react",["cx","fbt","AdPreviewLoadingOverlayTypes","AdsPreviewApiFormats","AdsPreviewUtils","AdsSpinnerCover.react","Arbiter","BUIAdoptionUtils","DOM","FBLogger","React","ReactDOM","SUIBusinessTheme","SUINotice.react","UIPagelet","WebApiApplication","getObjectValues","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PropTypes;c=babelHelpers.inherits(j,b("React").Component);i=c&&c.prototype;function j(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isError:!1,isLoading:!1,errorLevel:null,errorMessage:null},this.$7=function(a){if(this.$1==null)return;this.$1=null;this.setState({isError:!1,isLoading:!1});a();b("Arbiter").inform("AdPreview/PageletLoadSuccess",{component:this});a=this.props.onPreviewLoadSuccess;a&&this.$2&&a({requestKey:this.$2})}.bind(this),this.$8=function(a){if(this.$1==null)return;this.$1=null;this.setState({isError:!0,isLoading:!1});a=this.props.onPreviewLoadFailure;a&&this.$2&&a({requestKey:this.$2})}.bind(this),c}j.prototype.componentDidMount=function(){this.$3(this.props)};j.prototype.componentWillUnmount=function(){this.$2=null,this.$1&&this.$1.cancel(),this.$1=null,this.$4(),b("DOM").empty(this.$5())};j.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};j.prototype.render=function(){var a=!this.state.isError,c=this.state.isError&&!this.state.isLoading,d=this.state.errorLevel?this.state.errorLevel:"warn",e=this.state.errorMessage?this.state.errorMessage:h._("Unable to display a preview for this ad.");return b("React").createElement("div",{className:"_2hm6"+(this.state.isLoading?" _2hm7":"")},b("React").createElement("div",{className:this.props.className},b("React").createElement(b("AdsSpinnerCover.react"),{className:"_4fap",show:this.state.isLoading}),b("React").createElement("div",{className:c?"":"hidden_elem"},b("React").createElement(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:b("BUIAdoptionUtils").convertUseToType(d)},e)),b("React").createElement("div",{className:a?"":"hidden_elem",ref:"pageletContainer"})))};j.prototype.$3=function(a){__p&&__p();var c=a.adAccountID,d=a.adgroupID,e=a.creativeID,f=a.creative,g=a.customPlayMode,h=a.lastForceUpdateTimeStamp,i=a.linkShareData,k=a.apiFormat,l=a.appID,m=a.borderStyle,n=a.objective,o=a.productItemIDs,p=a.projectAccessToken,q=a.placePageID;a=a.postData;var r=this.$6(c,d,e,f,g,k==b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD?undefined:i,k,l,m,n,o,q,a);if(r===this.$2&&(!h||this.props.lastForceUpdateTimeStamp===h))return;this.$1&&this.$1.cancel();this.$1=null;this.$2=r;k!==this.props.apiFormat&&(this.$4(),b("DOM").empty(this.$5()));if(!d&&!f){b("FBLogger")("ads").mustfix("AdPreview.react must be passed either adgroupID or creativeID");this.setState({isError:!0,isLoading:!1});return}if(this.props.onValidate){h=this.props.onValidate(f,k);if(h.length){r=null;var s=null;h=h.filter(function(a){return a.field===j.PREVIEW_MESSAGE_FIELD_NAME});h.length&&(r=h[0].level,s=h[0].message);this.setState({isError:!0,isLoading:!1,errorLevel:r,errorMessage:s});return}}this.setState({isError:!1,isLoading:!0,errorLevel:null,errorMessage:null});this.$4();l||(l=b("WebApiApplication").getClientID());h=!!d;r=this.props.onPreviewLoadStart;r&&this.$2&&r({requestKey:this.$2});this.$1=b("UIPagelet").loadFromEndpoint("AdPreviewPageletController",this.$5(),{adaccountid:c,adid:h?d:null,appid:l,creativeid:e,creative:h?null:f,customplaymode:g===undefined?null:g,linksharedata:k==b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD?undefined:i,loadingoverlay:this.props.loadingOverlay,videodata:{ad_objective:n},format:k,borderstyle:m,productitemids:o,projectAccessToken:p,editable:this.props.editable,placePageID:q,postdata:a,version:this.props.apiVersion?this.props.apiVersion:b("AdsPreviewUtils").getPageletAPIVersion()},{append:!1,crossPage:!0,displayCallback:this.$7,errorHandler:this.$8,transportErrorHandler:this.$8,bundle:this.props.bundle!==undefined?this.props.bundle:!0})};j.prototype.$4=function(){var a=b("ReactDOM").findDOMNode(this.refs.pageletContainer);if(!a.querySelector)return;a=a.querySelectorAll(".UFILikeLink, .UFIList, .UFIBlingBox");for(var c=0,d=a.length;c<d;c++)b("ReactDOM").unmountComponentAtNode(a[c].parentNode)};j.prototype.$5=function(){return b("ReactDOM").findDOMNode(this.refs.pageletContainer)};j.prototype.$6=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return[a,g,b,c,JSON.stringify(d),e,JSON.stringify(f),h,i,j,JSON.stringify(k),l,JSON.stringify(m)].join(":")};j.PREVIEW_MESSAGE_FIELD_NAME="PREVIEW_MESSAGE_FIELD_NAME";j.propTypes={adAccountID:a.string.isRequired,adgroupID:a.string,apiFormat:a.string.isRequired,apiVersion:a.string,appID:a.string,borderStyle:a.string,bundle:a.bool,creative:a.object,creativeID:a.string,customPlayMode:a.number,editable:a.bool,lastForceUpdateTimeStamp:a.number,linkShareData:a.object,loadingOverlay:a.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:a.string,placePageID:a.string,productItemIDs:a.array,projectAccessToken:a.string,onPreviewLoadFailure:a.func,onPreviewLoadStart:a.func,onPreviewLoadSuccess:a.func,onValidate:a.func};j.defaultProps={appID:b("WebApiApplication").getClientID(),editable:!1};e.exports=j}),null);
__d("SimpleFBAmbientPulseNUX.react",["ContextualLayerUpdateOnScroll","FBAmbientPulseNUX.react","React","SimpleNUXMessage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={nuxShown:this.props.simpleNuxMessage!=null?!b("SimpleNUXMessage").hasUserSeenMessage(this.props.simpleNuxMessage):!1,dialogShown:!1},this.$3=function(){return this.$1}.bind(this),this.$4=function(){this.setState(function(a){return{dialogShown:!a.dialogShown}}),this.props.onSelect&&this.props.onSelect()}.bind(this),this.$5=function(){var a=this.props.simpleNuxMessage;a!=null&&b("SimpleNUXMessage").markMessageSeenByUser(a);this.setState({dialogShown:!1,nuxShown:!1});this.props.onDismiss&&this.props.onDismiss()}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement("div",{ref:function(a){return this.$1=a}.bind(this)},this.props.children),b("React").createElement("div",null,this.$2()))};a.prototype.$2=function(){return!this.state.nuxShown?null:b("React").createElement(b("FBAmbientPulseNUX.react"),{contextRef:this.$3,behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},shown:this.state.nuxShown,dialogShown:this.state.dialogShown,onSelect:this.$4,onDismiss:this.$5,onAcknowledge:this.$5,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onMouseOver:this.props.showOnHover?function(){return this.setState({dialogShown:!0})}.bind(this):undefined,onMouseLeave:this.props.showOnHover?function(){return this.setState({dialogShown:!1})}.bind(this):undefined},this.props.nuxContent)};e.exports=a}),null);