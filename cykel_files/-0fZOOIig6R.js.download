if (self.CavalryLogger) { CavalryLogger.start_js(["QJXUi"]); }

__d("AdsCommonTargetingLoggingConstant",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({ALL_COMPONENTS_BOOTLOADED:"",CONTAINER_IMPRESSION:"",MTC_DID_LOAD:"",SESSION_DURATION:"",UI_SESSION:""},"AdsCommonTargeting")}),null);
__d("AdsLocationBrowseTreeSetIsActiveDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBrowseTreeSetIsActive",actionType:"BROWSE_TREE_SET_IS_ACTIVE"};e.exports=a}),null);
__d("AdsLocationBrowseTreeToggleIsActiveDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBrowseTreeToggleIsActive",actionType:"BROWSE_TREE_TOGGLE_IS_ACTIVE"};e.exports=a}),null);
__d("AdsLocationBulkInputChangeDefaultCountryDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBulkInputChangeDefaultCountry",actionType:"BULK_INPUT_CHANGE_DEFAULT_COUNTRY"};e.exports=a}),null);
__d("AdsLocationBulkInputChangeDefaultRadiusDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBulkInputChangeDefaultRadius",actionType:"BULK_INPUT_CHANGE_DEFAULT_RADIUS"};e.exports=a}),null);
__d("AdsLocationBulkInputFinishValidationDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBulkInputFinishValidation",actionType:"BULK_INPUT_FINISH_VALIDATION"};e.exports=a}),null);
__d("AdsLocationBulkInputRemoveRowDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBulkInputRemoveRow",actionType:"BULK_INPUT_REMOVE_ROW"};e.exports=a}),null);
__d("AdsLocationBulkInputUpdateValidatedLocationDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBulkInputUpdateValidatedLocation",actionType:"BULK_INPUT_UPDATE_VALIDATED_LOCATION"};e.exports=a}),null);
__d("AdsLocationInvalidExcludeDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationInvalidExclude",actionType:"INVALID_EXCLUDE"};e.exports=a}),null);
__d("AdsLocationTargetingFocusTypeaheadDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={actionType:"locationTargetingFocusTypeahead"};e.exports=a}),null);
__d("AdsSavedAudienceViewChangeNavTabDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"savedAudienceViewChangeNavTab",actionType:"VIEW.CHANGE_NAV_TAB"};e.exports=a}),null);
__d("AdsSavedAudienceViewUserChangeNavTabDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"savedAudienceViewUserChangeNavTab",actionType:"VIEW.USER_CHANGE_NAV_TAB"};e.exports=a}),null);
__d("AdsTargetingBrowseTreeRemoveEntryDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={actionType:"browseTreeRemoveEntry"};e.exports=a}),null);
__d("AdsTargetingBrowseTreeSelectEntryDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={actionType:"browseTreeSelectEntry"};e.exports=a}),null);
__d("AdsTargetingConnectionsLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHANGE_TARGETING_TYPE:"connections_change_targeting_type",CLEAR_TARGETING:"connections_clear_targeting",CLOSED_VIDEO_NUX:"connections_video_nux_closed",CLOSED_CONNECTIONS_UI_NUX:"connections_ui_nux_closed",PE_TARGETING_DIALOG_CANCELLED:"pe_targeting_dialog_cancelled",PE_TARGETING_DIALOG_CONFIRMED:"pe_targeting_dialog_confirmed",PE_TARGETING_DIALOG_OPENED:"pe_targeting_dialog_opened",SELECT_MENU:"connections_select_menu",UPDATE_ENGAGEMENT_SPECS:"connections_update_engagement_specs",UPDATE_EXCLUDED_CONNECTIONS:"connections_update_excluded_connections",UPDATE_EXCLUDED_ENGAGEMENT_SPECS:"connections_update_excluded_engagement_specs",UPDATE_FRIENDS_OF_CONNECTIONS:"connections_update_friends_of_connections",UPDATE_INCLUDED_CONNECTIONS:"connections_update_included_connections",VIDEO_INFOS_LOAD_TIME:"video_infos_load_time",VIDEOS_LOAD_TIME:"videos_load_time",PAGES_LOAD_TIME:"pages_load_time",VIDEO_LOADING_INFO:"video_loading_info",VIDEOS_FETCHING_ERROR:"video_fetching_error"});e.exports=a}),null);
__d("AdsLocationActionTypes",["ImmutableObject","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=new(b("ImmutableObject"))(b("keyMirror")({DATA_LOADED:null,DATA_LOAD_ERROR:null,LOAD_POLYGON_DATA:null,CLEAR_NOTICE_STATE:null,CLEAR_MCLAL_AUDIENCE_NOTICE:null,HAS_MCLAL_AUDIENCE:null,HAS_TOO_MANY_LOCATIONS:null,HAS_TOO_MANY_COUNTRIES_FOR_MAP:null,HAS_TOO_MANY_COUNTRIES:null,HAS_NO_INCLUSION:null,HAS_DUPLICATES:null,REPLACE_LOCATIONS:null,INVALID_EXCLUDE:null,COPY_PASTE_LOCATIONS:null,CLEAR_VALID_LOCATIONS_NOTICE:null,CLEAR_INVALID_LOCATIONS_NOTICE:null,MAP_DROP_PIN_FAIL:null,MAP_NO_POLYGON:null,CLEAR_MAP_NO_POLYGON:null,SET_SUGGESTED_LOCATION_NAME:null,BULK_INPUT_DISPLAY_INPUT_DIALOG:null,BULK_INPUT_HIDE_DIALOG:null,BULK_INPUT_CHANGE_LOCATION_TYPE:null,BULK_INPUT_CHANGE_DEFAULT_RADIUS:null,BULK_INPUT_CHANGE_DEFAULT_COUNTRY:null,BULK_INPUT_CHANGE_GEO_MARKET_INPUT_FORMAT:null,BULK_INPUT_CHANGE_TEXT:null,BULK_INPUT_START_VALIDATION:null,BULK_INPUT_FINISH_VALIDATION:null,BULK_INPUT_FORMAT_CHECK:null,BULK_INPUT_CLEAR_FORMAT_ERROR:null,BULK_INPUT_CHANGE_REVIEW_TABLE:null,BULK_INPUT_SHOW_NUX:null,BULK_INPUT_HIDE_NUX:null,BULK_INPUT_CHANGE_LOCATION_NAME:null,BULK_INPUT_UPDATE_VALIDATED_LOCATION:null,BULK_INPUT_SET_SELECTED_LOCATION_FROM_TYPEAHEAD:null,BULK_INPUT_REMOVE_ROW:null,BULK_INPUT_SHOW_DIALOG_FROM_TYPEAHEAD:null,BROWSE_TREE_SET_IS_ACTIVE:null,BROWSE_TREE_TOGGLE_IS_ACTIVE:null,BROWSE_TREE_SET_OPEN_PATH:null,BROWSE_TREE_SET_ENTRY_IDS:null,UPDATE_SAVE_LOCATION_LIST_OPTION:null,SAVED_LOCATION_DISPLAY_EDIT_BULK_INPUT_DIALOG:null,LOCATION_CLUSTER_CREATION_STATUS:null,LOCATION_CLUSTER_LOADING_STARTED:null}));e.exports=a}),null);
__d("AdsLocationBrowseTreeHoverRowDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBrowseTreeHoverRow",actionType:"BROWSE_TREE.HOVER_ROW"};e.exports=a}),null);
__d("AdsLocationBrowseTreeSetEntryIDsDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"locationBrowseTreeSetEntryIDs",actionType:"BROWSE_TREE_SET_ENTRY_IDS"};e.exports=a}),null);
__d("AdsSavedLocationRegisterRootNameDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"savedLocationRegisterRootName",actionType:"SAVED_LOCATION.REGISTER_ROOT_NAME"};e.exports=a}),null);
__d("AdsSavedLocationSavedLocationBatchCreatedDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"savedLocationSavedLocationBatchCreated",actionType:"SAVED_LOCATION.BATCH_CREATED"};e.exports=a}),null);
__d("AdsCommonTargetingBrowseLocationLabels",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={WORLDWIDE_GROUP_NAME:g._("Countries"),WORLDWIDE_COUNTRY_GROUP:g._("Worldwide"),WORLDWIDE_COUNTRY_GROUP_VARIANT1:g._("All countries"),WORLDWIDE_COUNTRY_GROUP_VARIANT2:g._("Whole world"),WORLDWIDE_COUNTRY_GROUP_VARIANT3:g._("Everywhere"),WORLDWIDE_COUNTRY_GROUP_VARIANT4:g._("Anywhere"),AFRICA_GROUP_NAME:g._("Africa"),ASIA_GROUP_NAME:g._("Asia"),CARIBBEAN_GROUP_NAME:g._("Caribbean"),CENTRAL_AMERICA_GROUP_NAME:g._("Central America"),EUROPE_GROUP_NAME:g._("Europe"),NORTH_AMERICA_GROUP_NAME:g._("North America"),OCEANIA_GROUP_NAME:g._("Oceania"),SOUTH_AMERICA_GROUP_NAME:g._("South America"),REGIONS_GROUP_NAME:g._("Regions"),FREE_TRADE_AREAS_GROUP_NAME:g._("Free trade areas"),FREE_TRADE_AREAS_GROUP_DESCRIPTION:g._("Target all countries that are members of a free trade area."),EEA_GROUP_NAME:g._("European Economic Area (EEA)"),EEA_GROUP_DESCRIPTION:g._("Target all countries that are members of the European Economic Area (EEA)."),NAFTA_GROUP_NAME:g._("North American Free Trade Agreement"),NAFTA_GROUP_DESCRIPTION:g._("Target all countries that are members of the North American Free Trade Agreement (NAFTA)."),AFTA_GROUP_NAME:g._("ASEAN Free Trade Area"),AFTA_GROUP_DESCRIPTION:g._("Target all countries that are members of the ASEAN Free Trade Area (AFTA)."),MERCOSUR_GROUP_NAME:g._("Mercosur"),MERCOSUR_GROUP_DESCRIPTION:g._("Target all countries that are members of Mercosur."),GCC_GROUP_NAME:g._("Gulf Cooperation Council"),GCC_GROUP_DESCRIPTION:g._("Target all countries that are members of the Gulf Cooperation Council (GCC)."),APEC_GROUP_NAME:g._("Asia-Pacific Economic Cooperation"),APEC_GROUP_DESCRIPTION:g._("Target all countries that are members of the Asia-Pacific Economic Cooperation (APEC)."),CISFTA_GROUP_NAME:g._("Commonwealth of Independent States Free Trade Area"),CISFTA_GROUP_DESCRIPTION:g._("Target all countries that are members of the Commonwealth of Independent States Free Trade Area (CISFTA)."),APP_STORE_REGIONS_GROUP_NAME:g._("App store regions"),APP_STORE_REGIONS_GROUP_DESCRIPTION:g._("Target all countries in which the Android and iTunes app stores are available."),ITUNES_APP_STORE_GROUP_NAME:g._("iTunes App Store countries"),ITUNES_APP_STORE_GROUP_DESCRIPTION:g._("Target all countries in which the iTunes App Store is available."),ANDROID_PAID_STORE_GROUP_NAME:g._("Paid Android store countries"),ANDROID_PAID_STORE_GROUP_DESCRIPTION:g._("Target all countries where Android apps can be purchased or contains in-app purchases."),ANDROID_FREE_STORE_GROUP_NAME:g._("Free Android store countries"),ANDROID_FREE_STORE_GROUP_DESCRIPTION:g._("Target all countries in which free Android apps are available."),EMERGING_MARKETS_GROUP_NAME:g._("Emerging markets"),EMERGING_MARKETS_GROUP_DESCRIPTION:g._("Target people in emerging markets."),EURO_AREA_GROUP_NAME:g._("Euro area"),EURO_AREA_GROUP_DESCRIPTION:g._("Target people in countries that use the Euro as their common currency."),WORLDWIDE_DESCRIPTION:g._("Target every country worldwide")}}),null);
__d("AdsCommonTargetingBrowseLocationConfig",["fbt","AdsCommonTargetingBrowseLocationLabels","AdsCountriesConfig","AdsCreateMultiCountryLookalikeConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.freeze({WORLDWIDE:"worldwide",REGIONS:"regions",FREE_TRADE_AREAS:"free_trade_areas",APP_STORE_REGIONS:"app_store_regions"}),i=Object.freeze({AFRICA:"africa",ASIA:"asia",CARIBBEAN:"caribbean",CENTRAL_AMERICA:"central_america",EUROPE:"europe",NORTH_AMERICA:"north_america",OCEANIA:"oceania",SOUTH_AMERICA:"south_america"}),j=Object.freeze({EEA:"eea",NAFTA:"nafta",AFTA:"afta",MERCOSUR:"mercosur",GCC:"gcc",APEC:"apec",CISFTA:"cisfta"}),k=Object.freeze({ITUNES_APP_STORE:"itunes_app_store",ANDROID_PAID_STORE:"android_paid_store",ANDROID_FREE_STORE:"android_free_store"}),l=Object.freeze({EMERGING_MARKETS:"emerging_markets",EURO_AREA:"euro_area"}),m={};b("AdsCreateMultiCountryLookalikeConfig").countryGroupsMetadata.forEach(function(a){m[a.id]=a});function n(a){var c=b("AdsCountriesConfig").countries[a];return c===null?null:{name:c,id:a,type:"countries",description:g._("Target all people in {Country}.",[g._param("Country",c)]),selectable:!0,countries:[a],children:null,disabled:!1}}function o(a,c,d,e){var f=m[a]?m[a].countries:[];f=f.filter(function(a){return!!b("AdsCountriesConfig").countries[a]});if(f.length===0)return null;f.sort(function(a,c){return b("AdsCountriesConfig").countries[a].localeCompare(b("AdsCountriesConfig").countries[c])});e=e!==!1?q(f.map(n)):null;return{name:c,id:a,type:"country_groups",selectable:!0,description:d||g._("Target all countries in {Country Group}.",[g._param("Country Group",c)]),countries:f,children:e,disabled:!1}}function p(a,b,c,d,e){e=q(e);if(e.length===0)return null;var f=new Set();e.forEach(function(a){a.countries.forEach(function(a){f.add(a)})});return{id:a,type:"nested_groups",name:b,selectable:d,description:c,countries:Array.from(f),children:e,disabled:!1}}function q(a){var b=[];a.forEach(function(a){a&&b.push(a)});return b}function r(a){var b=[];a.forEach(function(a){a.type==="nested_groups"?b=b.concat(r(a.children||[])):a.type==="country_groups"&&a.children==null&&b.push(a)});return b}function s(a){return[p(h.WORLDWIDE,b("AdsCommonTargetingBrowseLocationLabels").WORLDWIDE_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").WORLDWIDE_DESCRIPTION,!0,[o(i.AFRICA,b("AdsCommonTargetingBrowseLocationLabels").AFRICA_GROUP_NAME),o(i.ASIA,b("AdsCommonTargetingBrowseLocationLabels").ASIA_GROUP_NAME),o(i.CARIBBEAN,b("AdsCommonTargetingBrowseLocationLabels").CARIBBEAN_GROUP_NAME),o(i.CENTRAL_AMERICA,b("AdsCommonTargetingBrowseLocationLabels").CENTRAL_AMERICA_GROUP_NAME),o(i.EUROPE,b("AdsCommonTargetingBrowseLocationLabels").EUROPE_GROUP_NAME),o(i.NORTH_AMERICA,b("AdsCommonTargetingBrowseLocationLabels").NORTH_AMERICA_GROUP_NAME),o(i.OCEANIA,b("AdsCommonTargetingBrowseLocationLabels").OCEANIA_GROUP_NAME),o(i.SOUTH_AMERICA,b("AdsCommonTargetingBrowseLocationLabels").SOUTH_AMERICA_GROUP_NAME)]),p(h.REGIONS,b("AdsCommonTargetingBrowseLocationLabels").REGIONS_GROUP_NAME,null,!1,[p(h.FREE_TRADE_AREAS,b("AdsCommonTargetingBrowseLocationLabels").FREE_TRADE_AREAS_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").FREE_TRADE_AREAS_GROUP_DESCRIPTION,!0,[o(j.EEA,b("AdsCommonTargetingBrowseLocationLabels").EEA_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").EEA_GROUP_DESCRIPTION,a),o(j.NAFTA,b("AdsCommonTargetingBrowseLocationLabels").NAFTA_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").NAFTA_GROUP_DESCRIPTION,a),o(j.AFTA,b("AdsCommonTargetingBrowseLocationLabels").AFTA_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").AFTA_GROUP_DESCRIPTION,a),o(j.MERCOSUR,b("AdsCommonTargetingBrowseLocationLabels").MERCOSUR_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").MERCOSUR_GROUP_DESCRIPTION,a),o(j.GCC,b("AdsCommonTargetingBrowseLocationLabels").GCC_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").GCC_GROUP_DESCRIPTION,a),o(j.APEC,b("AdsCommonTargetingBrowseLocationLabels").APEC_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").APEC_GROUP_DESCRIPTION,a),o(j.CISFTA,b("AdsCommonTargetingBrowseLocationLabels").CISFTA_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").CISFTA_GROUP_DESCRIPTION,a)]),p(h.APP_STORE_REGIONS,b("AdsCommonTargetingBrowseLocationLabels").APP_STORE_REGIONS_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").APP_STORE_REGIONS_GROUP_DESCRIPTION,!0,[o(k.ITUNES_APP_STORE,b("AdsCommonTargetingBrowseLocationLabels").ITUNES_APP_STORE_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").ITUNES_APP_STORE_GROUP_DESCRIPTION,a),o(k.ANDROID_PAID_STORE,b("AdsCommonTargetingBrowseLocationLabels").ANDROID_PAID_STORE_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").ANDROID_PAID_STORE_GROUP_DESCRIPTION,a),o(k.ANDROID_FREE_STORE,b("AdsCommonTargetingBrowseLocationLabels").ANDROID_FREE_STORE_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").ANDROID_FREE_STORE_GROUP_DESCRIPTION,a)]),o(l.EMERGING_MARKETS,b("AdsCommonTargetingBrowseLocationLabels").EMERGING_MARKETS_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").EMERGING_MARKETS_GROUP_DESCRIPTION),o(l.EURO_AREA,b("AdsCommonTargetingBrowseLocationLabels").EURO_AREA_GROUP_NAME,b("AdsCommonTargetingBrowseLocationLabels").EURO_AREA_GROUP_DESCRIPTION)])]}function t(a){a===void 0&&(a=!1);return q(s(a))}function a(a){a===void 0&&(a=!1);return r(t(a))}e.exports={getAllLocations:t,getLeafCountryGroups:a}}),null);
__d("AdsTargetingBrowseTreeUtils",["AdsCommonTargetingBrowseLocationConfig","AdsTargetingLocationUtils","LocationConstants","intersectArrays"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){if(g(a,b))return h(a,b);a=new Set(a.geoLocations.countries);c=new Set(c.countries);var d=i(b.country_groups||[],a),e=k(b.countries||[],d);b=m(b.country_groups||[],d);d=l(e,a,b,c);return{countries:Array.from(d),country_groups:Array.from(b)}}function g(a,c){__p&&__p();if(a.type===b("LocationConstants").COUNTRIES)return(c.countries||[]).indexOf(a.id)>=0;else if(a.type===b("LocationConstants").COUNTRY_GROUPS||a.id===b("LocationConstants").WORLDWIDE){var d=c.country_groups||[];for(var e=0;e<d.length;e++){var f=d[e];if(f.key===a.id)return!0}}else if(a.type===b("LocationConstants").SAVED_LOCATIONS)return b("AdsTargetingLocationUtils").isContained(c,a.geoLocations);return!1}function h(a,c){__p&&__p();var d={countries:Array.from(c.countries||[]),country_groups:Array.from(c.country_groups||[])};if(a.type===b("LocationConstants").COUNTRIES)d.countries=d.countries.filter(function(b){return b!==a.id});else if(a.type===b("LocationConstants").COUNTRY_GROUPS||a.id===b("LocationConstants").WORLDWIDE)d.country_groups=d.country_groups.filter(function(b){return b.key!==a.id});else if(a.type===b("LocationConstants").SAVED_LOCATIONS)return b("AdsTargetingLocationUtils").subtractLocations(c,a.geoLocations);return d}function i(a,b){var c=new Set();a.forEach(function(a){j(a,b)&&c.add(a)});return c}function j(a,b){a=a.country_codes||[];for(var c=0;c<a.length;c++){var d=a[c];if(b.has(d))return!0}return!1}function k(a,b){var c=new Set(a);b.forEach(function(a){a.country_codes.forEach(function(a){c.add(a)})});return c}function l(a,b,c,d){b.forEach(function(b){a["delete"](b)});d.forEach(function(b){a["delete"](b)});c.forEach(function(b){b.country_codes.forEach(function(b){a["delete"](b)})});return a}function m(a,b){return new Set(a.filter(function(a){return!b.has(a)}))}function n(a,c){__p&&__p();var d={},e=[];a.countries&&a.countries.forEach(function(a){d["countries."+a]=!0,e.push(a)});a.country_groups&&a.country_groups.forEach(function(a){d["country_groups."+a.key]=!0,c&&a.country_codes&&a.country_codes.forEach(function(a){d["countries."+a]=!0,e.push(a)})});b("AdsCommonTargetingBrowseLocationConfig").getLeafCountryGroups().forEach(function(a){var c=a.countries.length,f=b("intersectArrays")(a.countries,e).length;c===f&&(d["country_groups."+a.id]=!0)});return d}function c(a,c,d){a=a===b("LocationConstants").INCLUDE?c:d;return n(a,!0)}function d(a,c,d){a=a===b("LocationConstants").INCLUDE?d:c;return n(a,!1)}function o(a,c,d,e){var f=c===b("LocationConstants").INCLUDE?d:e;return(a||[]).filter(function(a){return b("AdsTargetingLocationUtils").isContained(f,a.geoLocations)}).reduce(function(a,b){a[b.id]=!0;return a},{})}function p(a,c,d,e){var f=c===b("LocationConstants").INCLUDE?e:d;return(a||[]).filter(function(a){return b("AdsTargetingLocationUtils").isOverlappingLocations(f,a.geoLocations)}).reduce(function(a,b){a[b.id]=!0;return a},{})}function q(a,c,d,e){return c!==b("LocationConstants").INCLUDE?{}:(a||[]).filter(function(a){return!(a.id in e)&&b("AdsTargetingLocationUtils").isOverlappingLocations(d,a.geoLocations)}).reduce(function(a,b){a[b.id]=!0;return a},{})}function f(a,b,c,d){var e=o(a,b,c,d);return{selectedEntries:e,partiallySelectedEntries:q(a,b,c,e),disabledEntries:p(a,b,c,d)}}a={substractFrom:a,getDisabledEntryIDs:d,getSelectedEntryIDs:c,partitionSavedLocationsByEntryStatuses:f};e.exports=a}),null);
__d("AdsTargetingLocationBrowseTreeStore",["AdsDataAtom","AdsLocationActionTypes","AdsLocationBrowseTreeHoverRowDataActionPlugin","AdsLocationBrowseTreeSetEntryIDsDataActionPlugin","AdsLocationBrowseTreeSetIsActiveDataActionPlugin","AdsLocationBrowseTreeToggleIsActiveDataActionPlugin","AdsSavedLocationRegisterRootNameDataActionPlugin","AdsSavedLocationSavedLocationBatchCreatedDataActionPlugin","AdsTargetingBrowseTreeUtils","FluxReduceStore","adsCreateStoreSelector","firstx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({activeVariants:null,openPath:b("immutable").List(),selectedEntryIDs:b("immutable").Map(),disabledEntryIDs:b("immutable").Map(),newSavedLocationID:null,savedLocationRootName:null}));g&&g.prototype;function i(){g.apply(this,arguments)}c=babelHelpers.inherits(a,b("FluxReduceStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=h.constructor).call.apply(a,[this].concat(f)),this.getIsActiveSelector=b("adsCreateStoreSelector")([this],function(a){return this.getIsActive(a.variantIndex)}.bind(this),e.id),this.getOpenPathSelector=b("adsCreateStoreSelector")([this],function(){return this.getOpenPath()}.bind(this),e.id),this.getDisabledEntryIDsSelector=b("adsCreateStoreSelector")([this],function(){return this.getDisabledEntryIDs()}.bind(this),e.id),this.getSelectedEntryIDsSelector=b("adsCreateStoreSelector")([this],function(){return this.getSelectedEntryIDs()}.bind(this),e.id),c}a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsLocationBrowseTreeSetIsActiveDataActionPlugin").actionType:var d=c.isActive?{variantIndex:c.variantIndex}:null;return a.set("openPath",c.isActive?a.openPath:b("immutable").List()).set("activeVariants",d).set("newSavedLocationID",null);case b("AdsLocationBrowseTreeToggleIsActiveDataActionPlugin").actionType:d=c.variantIndex==null?null:c.variantIndex;d=a.activeVariants&&a.activeVariants.variantIndex===d?null:{variantIndex:d};return a.set("openPath",a.activeVariants?b("immutable").List():a.openPath).set("activeVariants",d).set("newSavedLocationID",null);case b("AdsLocationActionTypes").BROWSE_TREE_SET_OPEN_PATH:return a.set("openPath",b("immutable").List(c.openPath));case b("AdsLocationBrowseTreeSetEntryIDsDataActionPlugin").actionType:d=b("AdsTargetingBrowseTreeUtils").getDisabledEntryIDs(c.addLocationMode,c.geoLocations,c.excludedGeoLocations);var e=b("AdsTargetingBrowseTreeUtils").getSelectedEntryIDs(c.addLocationMode,c.geoLocations,c.excludedGeoLocations);return a.merge({disabledEntryIDs:d,selectedEntryIDs:e});case b("AdsSavedLocationSavedLocationBatchCreatedDataActionPlugin").actionType:d=b("firstx")(c.savedLocations.values());return a.set("openPath",b("immutable").List([a.savedLocationRootName,d.name])).set("activeVariants",{variantIndex:null}).set("newSavedLocationID",d.id);case b("AdsLocationBrowseTreeHoverRowDataActionPlugin").actionType:return a.set("newSavedLocationID",null);case b("AdsSavedLocationRegisterRootNameDataActionPlugin").actionType:return a.set("savedLocationRootName",c.name);default:return a}};a.prototype.getIsActive=function(a){a=a==null?null:a;var b=this.getState().activeVariants;return!!b&&b.variantIndex===a};a.prototype.getOpenPath=function(){return this.getState().openPath.toJS()};a.prototype.getDisabledEntryIDs=function(){return this.getState().disabledEntryIDs.toJS()};a.prototype.getSelectedEntryIDs=function(){return this.getState().selectedEntryIDs.toJS()};a.prototype.getSavedLocationRootName=function(){return this.getState().savedLocationRootName};a.prototype.getNewSavedLocationID=function(){return this.getState().newSavedLocationID};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsTargetingTExHideAdditionalTargetingDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"targetingTExHideAdditionalTargeting",actionType:"HIDE_ADDITIONAL_TARGETING"};e.exports=a}),null);
__d("AdsTargetingTExLoggingEvents",["ImmutableObject","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=new(b("ImmutableObject"))(b("keyMirror")({TEX_CLICK_ADDITIONAL_TARGETING_LINK:null}));e.exports=a}),null);
__d("AdsTargetingTExShowAdditionalTargetingDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"targetingTExShowAdditionalTargeting",actionType:"SHOW_ADDITIONAL_TARGETING"};e.exports=a}),null);
__d("TargetingViewLoggingEvents",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({TARGETING_VIEW_DISPLAY_UI_ERROR:null,FLEXIBLE_TARGETING_REMOVE_INVALID:null});e.exports=a}),null);
__d("AdsCommonTargetingLoggerStore",["AdsCommonTargetingLoggingConstant","AdsCommonTargetingUtils","AdsCommonTargetingViewActionType","AdsDataAtom","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLocationBrowseTreeSetIsActiveDataActionPlugin","AdsLocationBrowseTreeToggleIsActiveDataActionPlugin","AdsLocationBulkInputChangeDefaultCountryDataActionPlugin","AdsLocationBulkInputChangeDefaultRadiusDataActionPlugin","AdsLocationBulkInputFinishValidationDataActionPlugin","AdsLocationBulkInputRemoveRowDataActionPlugin","AdsLocationBulkInputUpdateValidatedLocationDataActionPlugin","AdsLocationDataLoadedDataActionPlugin","AdsLocationDataLoadErrorDataActionPlugin","AdsLocationInvalidExcludeDataActionPlugin","AdsLocationTargetingFocusTypeaheadDataActionPlugin","AdsSavedAudienceSavedAudienceBatchCreatedDataActionPlugin","AdsSavedAudienceViewChangeNavTabDataActionPlugin","AdsSavedAudienceViewUserChangeNavTabDataActionPlugin","AdsTargetingBrowseTreeRemoveEntryDataActionPlugin","AdsTargetingBrowseTreeSelectEntryDataActionPlugin","AdsTargetingConnectionsLoggingEvents","AdsTargetingLocationBrowseTreeStore","AdsTargetingLocationLoggingEvents","AdsTargetingTExHideAdditionalTargetingDataActionPlugin","AdsTargetingTExLoggingEvents","AdsTargetingTExShowAdditionalTargetingDataActionPlugin","ErrorUtils","FluxStore","Random","TargetingViewLoggingEvents","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsInterfacesLogEvents").EventCategory,i=b("AdsCommonTargetingUtils").isDynamicAudience;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom")),this.$AdsCommonTargetingLoggerStoreClass1=0}a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;var c=a.methodName,d=a.type;switch(d){case b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_OPENED:this.$AdsCommonTargetingLoggerStoreClass1=b("performanceNow")();break;case b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CANCELLED:case b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CONFIRMED:b("AdsInterfacesLogger").log({eventName:b("AdsCommonTargetingLoggingConstant").SESSION_DURATION},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationBulkInputChangeDefaultRadiusDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_UPDATE_DEFAULT_RADIUS},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationBulkInputChangeDefaultCountryDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_UPDATE_DEFAULT_ZIP_COUNTRY},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationBulkInputFinishValidationDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_FINISH_VALIDATION},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationBulkInputRemoveRowDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_REMOVE_LOCATION},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationBulkInputUpdateValidatedLocationDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_UPDATE_LOCATION},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsTargetingTExShowAdditionalTargetingDataActionPlugin").actionType:case b("AdsTargetingTExHideAdditionalTargetingDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:b("AdsTargetingTExLoggingEvents").TEX_CLICK_ADDITIONAL_TARGETING_LINK},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsSavedAudienceViewUserChangeNavTabDataActionPlugin").actionType:case b("AdsSavedAudienceViewChangeNavTabDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:d,eventCategory:h.USER_ACTION,data:{to_tab:a.navTabKey}},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsSavedAudienceSavedAudienceBatchCreatedDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:d,eventCategory:h.USER_ACTION,data:{saved_audiences:a.savedAudiences}},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;case b("AdsLocationInvalidExcludeDataActionPlugin").actionType:case b("AdsLocationTargetingFocusTypeaheadDataActionPlugin").actionType:this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_TYPEAHEAD_FOCUS);break;case b("AdsLocationBrowseTreeSetIsActiveDataActionPlugin").actionType:a.isActive||this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BROWSE_LIST_CLOSE);break;case b("AdsLocationBrowseTreeToggleIsActiveDataActionPlugin").actionType:b("AdsDataAtom").waitFor([b("AdsTargetingLocationBrowseTreeStore").getDispatchToken()]);b("AdsTargetingLocationBrowseTreeStore").getIsActive(a.variantIndex)&&this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BROWSE_LIST_OPEN);break;case b("AdsTargetingBrowseTreeRemoveEntryDataActionPlugin").actionType:this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BROWSE_LIST_REMOVE_ENTRY,(d={},d[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify({entry_type:a.entry_type,entry_id:a.id}),d));break;case b("AdsTargetingBrowseTreeSelectEntryDataActionPlugin").actionType:this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BROWSE_LIST_ADD_ENTRY,(d={},d[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify({entry_type:a.entry_type,entry_id:a.id}),d));break;case b("AdsLocationDataLoadedDataActionPlugin").actionType:this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_POLYGON_DATA_LOADED);break;case b("AdsLocationDataLoadErrorDataActionPlugin").actionType:this.$AdsCommonTargetingLoggerStoreClass2(b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_POLYGON_DATA_ERROR);break;default:break}c===b("AdsCommonTargetingViewActionType").changeGeoLocations&&Math.floor(b("Random").random()*1e3)===0&&b("AdsInterfacesLogger").log({eventName:c,data:{stack_trace:b("ErrorUtils").normalizeError(new Error()).stack,vital:!0}},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);switch(c){case b("AdsCommonTargetingViewActionType").removeAudience:case b("AdsCommonTargetingViewActionType").excludeAudience:case b("AdsCommonTargetingViewActionType").includeAudience:this.$AdsCommonTargetingLoggerStoreClass2(c,(d={},d[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify({included_dynamic_audience_ids:a.customAudiences.filter(function(a){return i(a)}).map(function(a){return a.id}),included_custom_audience_ids:a.customAudiences.filter(function(a){return!i(a)}).map(function(a){return a.id}),excluded_dynamic_audience_ids:a.excludedCustomAudiences.filter(function(a){return i(a)}).map(function(a){return a.id}),excluded_custom_audience_ids:a.excludedCustomAudiences.filter(function(a){return!i(a)}).map(function(a){return a.id})}),d));break;case b("AdsCommonTargetingViewActionType").changeAndroidDeviceGroup:case b("AdsCommonTargetingViewActionType").changeInterestedIn:case b("AdsCommonTargetingViewActionType").changeIOSDevices:case b("AdsCommonTargetingViewActionType").changeRelationshipStatuses:case b("AdsCommonTargetingViewActionType").changeEducationStatuses:case b("AdsCommonTargetingViewActionType").changeGenders:case b("AdsCommonTargetingViewActionType").changeAgeMin:case b("AdsCommonTargetingViewActionType").changeAppInstallState:case b("AdsCommonTargetingViewActionType").changeUserAdclusters:case b("AdsCommonTargetingViewActionType").changeConjunctiveUserAdclusters:case b("AdsCommonTargetingViewActionType").changeAgeMax:case b("AdsCommonTargetingViewActionType").changeAgeMaxAndAgeMin:case b("AdsCommonTargetingViewActionType").changeMinAndroidVersion:case b("AdsCommonTargetingViewActionType").changeMinIOSVersion:case b("AdsCommonTargetingViewActionType").changeMinWindowsVersion:case b("AdsCommonTargetingViewActionType").changeMobileOperatingSystem:case b("AdsCommonTargetingViewActionType").changeWifiOnly:case b("AdsCommonTargetingViewActionType").changeGeoLocations:case b("AdsCommonTargetingViewActionType").changeLanguages:case b("AdsCommonTargetingViewActionType").changeTimezones:case b("AdsCommonTargetingViewActionType").changeConnections:case b("AdsCommonTargetingViewActionType").changeEngagements:case b("AdsCommonTargetingViewActionType").changeEducationStatus:case b("AdsCommonTargetingViewActionType").changeEducationMajors:case b("AdsCommonTargetingViewActionType").changeEducationSchools:case b("AdsCommonTargetingViewActionType").changeMaxGradYear:case b("AdsCommonTargetingViewActionType").changeMinGradYear:case b("AdsCommonTargetingViewActionType").changeTargetAllGraduationYears:case b("AdsCommonTargetingViewActionType").changeWorkEmployers:case b("AdsCommonTargetingViewActionType").changeKeywords:case b("AdsCommonTargetingViewActionType").changeCustomAudiences:case b("AdsCommonTargetingViewActionType").changeExcludedAudiences:case b("AdsCommonTargetingViewActionType").changeInterests:case b("AdsCommonTargetingViewActionType").changeWorkPositions:case b("AdsCommonTargetingViewActionType").changeFamilyStatuses:case b("AdsCommonTargetingViewActionType").changeIndustries:case b("AdsCommonTargetingViewActionType").changeLifeEvents:case b("AdsCommonTargetingViewActionType").changePolitics:case b("AdsCommonTargetingViewActionType").changeIncome:case b("AdsCommonTargetingViewActionType").changeNetWorth:case b("AdsCommonTargetingViewActionType").changeHomeType:case b("AdsCommonTargetingViewActionType").changeHomeOwnership:case b("AdsCommonTargetingViewActionType").changeHomeValue:case b("AdsCommonTargetingViewActionType").changeEthnicAffinity:case b("AdsCommonTargetingViewActionType").changeGeneration:case b("AdsCommonTargetingViewActionType").changeHouseholdComposition:case b("AdsCommonTargetingViewActionType").changeMoms:case b("AdsCommonTargetingViewActionType").changeOfficeType:case b("AdsCommonTargetingViewActionType").changeBehaviors:case b("AdsCommonTargetingViewActionType").changeFlexibleSpec:case b("AdsCommonTargetingViewActionType").changeContextualTargetingCategories:case b("AdsCommonTargetingViewActionType").changeCustomLocation:case b("AdsCommonTargetingViewActionType").changeCustomLocationCenter:case b("AdsCommonTargetingViewActionType").changeLocalGeoRadius:case b("AdsCommonTargetingViewActionType").fetchSuggestedRadius:case b("AdsCommonTargetingViewActionType").changeTargetingOptimization:case b("AdsCommonTargetingViewActionType").changePlacePageSetIDs:case b("AdsCommonTargetingViewActionType").changeGatekeepers:case b("AdsCommonTargetingViewActionType").changeFollowProfiles:case b("AdsCommonTargetingViewActionType").changeFollowProfilesNegative:case b("AdsCommonTargetingViewActionType").changeAlternateAutoTargeting:b("AdsInterfacesLogger").log({eventName:c},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);break;default:break}};a.prototype.$AdsCommonTargetingLoggerStoreClass2=function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:c},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsDeliveryEstimateLoadedDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"deliveryEstimateLoaded",actionType:"DELIVERY_ESTIMATE.LOADED"};e.exports=a}),null);
__d("AdsDeliveryEstimateStartedLoadDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"deliveryEstimateStartedLoad",actionType:"DELIVERY_ESTIMATE.STARTED_LOAD"};e.exports=a}),null);
__d("AdsTargetingLoadTimeActionTypes",["ImmutableObject","keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ImmutableObject"))(b("keyMirror")({INIT_TARGETING_CONTAINER:null,COMPONENT_WILL_MOUNT:null,COMPONENT_DID_MOUNT:null,COMPONENT_DID_FINISH_LOADING_ENTRIES:null}))}),null);
__d("AdsTargetingLoadTimeStore",["AdsCommonTargetingLoggingConstant","AdsDataAtom","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsTargetingLoadTimeActionTypes","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("immutable").Record;var h=c({endTime:null,entriesLoadTimeMap:{},loadTimeMap:{},loadStateMap:{},loadState:b("AdsLoadState_LEGACY").NOT_LOADED,objective:null,startTime:null}),i={AdsCommonTargetingAudienceEditor:!0,AdsCommonTargetingLocationEditorV2:!0,AdsUnifiedFlexibleTargetingEditor:!0,AdsCommonTargetingConnectionsEditor:!0,AdsTargetingSavedAudienceEditorSearchContainer:!0};g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new h()};a.prototype.getLoadState=function(){return this.getState().get("loadState")};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsTargetingLoadTimeActionTypes").INIT_TARGETING_CONTAINER:var e={},f={},g={};d.config.forEach(function(a){i[a]&&(e[a]=0),f[a]=d.time,g[a]=b("AdsLoadState_LEGACY").NOT_LOADED});return a.set("startTime",d.time).set("endTime",null).set("entriesLoadTimeMap",e).set("loadState",b("AdsLoadState_LEGACY").LOADING).set("loadTimeMap",f).set("loadStateMap",g).set("objective",d.objective);case b("AdsTargetingLoadTimeActionTypes").COMPONENT_WILL_MOUNT:c=d.componentName;var h=d.time;f=a.get("loadTimeMap");g=a.get("loadStateMap");f[c]=h;g[c]=b("AdsLoadState_LEGACY").LOADING;return a.set("loadTimeMap",f).set("loadStateMap",g);case b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_MOUNT:case b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_FINISH_LOADING_ENTRIES:c=d.componentName;h=d.time;e=a.get("entriesLoadTimeMap");f=a.get("loadTimeMap");g=a.get("loadStateMap");if(a.loadState!==b("AdsLoadState_LEGACY").LOADING||g[c]===b("AdsLoadState_LEGACY").LOADED)return a;else if(i[c]&&d.type===b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_MOUNT){e[c]=h;return a.set("entriesLoadTimeMap",e)}i[c]&&(e[c]=h-e[c]);f[c]=h-f[c];g[c]=b("AdsLoadState_LEGACY").LOADED;a=a.set("entriesLoadTimeMap",e).set("loadTimeMap",f).set("loadStateMap",g);this.$AdsTargetingLoadTimeStore1(g)&&(b("AdsInterfacesLogger").log({eventName:b("AdsCommonTargetingLoggingConstant").MTC_DID_LOAD},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),a=a.set("endTime",h).set("loadState",b("AdsLoadState_LEGACY").LOADED));return a;default:return a}};a.prototype.$AdsTargetingLoadTimeStore1=function(a){return Object.keys(a).every(function(c){return a[c]===b("AdsLoadState_LEGACY").LOADED})};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCommonTargetingScenarioLoggerStore",["AdsBaseScenarioLoggerStore","AdsDataAtom","AdsDeliveryEstimateLoadedDataActionPlugin","AdsDeliveryEstimateStartedLoadDataActionPlugin","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsLocationBrowseTreeSetIsActiveDataActionPlugin","AdsLocationBrowseTreeToggleIsActiveDataActionPlugin","AdsScenarios","AdsScenarioUtil","AdsTargetingBrowseTreeRemoveEntryDataActionPlugin","AdsTargetingBrowseTreeSelectEntryDataActionPlugin","AdsTargetingLoadTimeActionTypes","AdsTargetingLoadTimeStore","DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsScenarios").ActionOr,i=b("AdsScenarios").ActionFunction,j=b("AdsScenarioUtil").TIMEOUT_LARGE,k=["AdsCommonTargetingAgeEditor","AdsCommonTargetingAudienceEditor","AdsCommonTargetingGenderEditor","AdsCommonTargetingLanguagesEditor"],l=["AdsCommonTargetingAudienceEditor","AdsCommonTargetingConnectionsEditor","AdsCommonTargetingLocationEditorV2","AdsUnifiedFlexibleTargetingEditor"];c=babelHelpers.inherits(a,b("AdsBaseScenarioLoggerStore"));g=c&&c.prototype;function a(){__p&&__p();g.constructor.call(this);var a=[],c=k.map(function(c){return{name:c+"_did_mount",start:new i(function(a){return a.type===b("AdsTargetingLoadTimeActionTypes").COMPONENT_WILL_MOUNT&&a.componentName===c}),success:new i(function(a){return a.type===b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_MOUNT&&a.componentName===c}),abandon:new h(a),timeout:b("DateConsts").SEC_PER_MIN}}).concat(l.map(function(c){return{name:c+"_did_finish_loading_entries",start:new i(function(a){return a.type===b("AdsTargetingLoadTimeActionTypes").COMPONENT_WILL_MOUNT&&a.componentName===c}),success:new i(function(a){return a.type===b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_FINISH_LOADING_ENTRIES&&a.componentName===c}),abandon:new h(a),timeout:b("DateConsts").SEC_PER_MIN}}));this.prepareScenarios([{name:"MTC_did_mount",start:new h([b("AdsTargetingLoadTimeActionTypes").INIT_TARGETING_CONTAINER]),success:new i(function(a){b("AdsDataAtom").waitFor([b("AdsTargetingLoadTimeStore").getDispatchToken()]);a=b("AdsTargetingLoadTimeStore").getLoadState();return a===b("AdsLoadState_LEGACY").LOADED}),abandon:new h(a),timeout:b("DateConsts").SEC_PER_MIN},{name:"MTC_TTI",start:new h([b("AdsTargetingLoadTimeActionTypes").INIT_TARGETING_CONTAINER]),success:new h([b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_MOUNT,b("AdsTargetingLoadTimeActionTypes").COMPONENT_DID_FINISH_LOADING_ENTRIES]),abandon:new h(a),timeout:b("DateConsts").SEC_PER_MIN},{name:"reach_estimate_load_time",start:new h([b("AdsDeliveryEstimateStartedLoadDataActionPlugin").actionType]),success:new h([b("AdsDeliveryEstimateLoadedDataActionPlugin").actionType]),abandon:new h(a),timeout:b("DateConsts").SEC_PER_MIN},{name:"targeting_browse_tree_first_select",start:new h([b("AdsLocationBrowseTreeToggleIsActiveDataActionPlugin").actionType]),success:new h([b("AdsTargetingBrowseTreeRemoveEntryDataActionPlugin").actionType,b("AdsTargetingBrowseTreeSelectEntryDataActionPlugin").actionType]),abandon:new h([b("AdsLocationBrowseTreeSetIsActiveDataActionPlugin").actionType]),timeout:j}].concat(c))}a.prototype.getStateData=function(){return{}};a.prototype.log=function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:c},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};d=new a();e.exports=d}),null);
__d("AdsTargetingClearTargetingSpecStoreDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"CLEAR_TARGETING_SPEC_STORE");e.exports=a}),null);
__d("AdsTargetingClearTargetingViewStoreDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"CLEAR_TARGETING_VIEW_STORE");e.exports=a}),null);
__d("AdsTargetingCloseCreateCustomAudienceDialogDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"CLOSE_CREATE_CUSTOM_AUDIENCE_DIALOG");e.exports=a}),null);
__d("AdsTargetingResetMixStateComponentDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"RESET_MIX_STATE_COMPONENT");e.exports=a}),null);
__d("AdsTargetingSetPermutableTargetingApiSpecDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"SET_PERMUTABLE_TARGETING_API_SPEC");e.exports=a}),null);
__d("AdsTargetingSetTargetingApiSpecDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"SET_TARGETING_API_SPEC");e.exports=a}),null);
__d("AdsTargetingSetTargetingBulkApiSpecDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"SET_TARGETING_BULK_API_SPEC");e.exports=a}),null);
__d("AdsTargetingShowCreateCustomAudienceDialogDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"SHOW_CREATE_CUSTOM_AUDIENCE_DIALOG");e.exports=a}),null);
__d("AdsTargetingUpdateTargetingSpecDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"UPDATE_TARGETING_SPEC");e.exports=a}),null);
__d("TargetingActions",["AdsTargetingClearTargetingSpecStoreDataAction","AdsTargetingClearTargetingViewStoreDataAction","AdsTargetingCloseCreateCustomAudienceDialogDataAction","AdsTargetingResetMixStateComponentDataAction","AdsTargetingSetPermutableTargetingApiSpecDataAction","AdsTargetingSetTargetingApiSpecDataAction","AdsTargetingSetTargetingBulkApiSpecDataAction","AdsTargetingShowCreateCustomAudienceDialogDataAction","AdsTargetingUpdateTargetingSpecDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={clearAllTargetingStore:function(){g.clearTargetingSpecStore(),g.clearTargetingViewStore()},clearTargetingSpecStore:function(){b("AdsTargetingClearTargetingSpecStoreDataAction").dispatch({},{line:"30",module:"TargetingActions.js"})},closeCreateCustomAudienceDialog:function(){b("AdsTargetingCloseCreateCustomAudienceDialogDataAction").dispatch({},{line:"34",module:"TargetingActions.js"})},showCreateCustomAudienceDialog:function(){b("AdsTargetingShowCreateCustomAudienceDialogDataAction").dispatch({},{line:"38",module:"TargetingActions.js"})},updateTargetingSpec:function(a){b("AdsTargetingUpdateTargetingSpecDataAction").dispatch({spec:a},{line:"42",module:"TargetingActions.js"})},setTargetingApiSpec:function(a,c){b("AdsTargetingSetTargetingApiSpecDataAction").dispatch({spec:a,behaviors:c},{line:"48",module:"TargetingActions.js"})},clearTargetingViewStore:function(){b("AdsTargetingClearTargetingViewStoreDataAction").dispatch({},{line:"55",module:"TargetingActions.js"})},resetMixedStateComponent:function(a){b("AdsTargetingResetMixStateComponentDataAction").dispatch({component:a},{line:"59",module:"TargetingActions.js"})},setBulkApiSpec:function(a,c){b("AdsTargetingSetTargetingBulkApiSpecDataAction").dispatch({spec:a,behaviors:c},{line:"65",module:"TargetingActions.js"})},setPermutableApiSpec:function(a,c){b("AdsTargetingSetPermutableTargetingApiSpecDataAction").dispatch({spec:a,behaviors:c},{line:"72",module:"TargetingActions.js"})}};e.exports=g}),null);
__d("AdsPerfUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){this.pending=0}a.prototype.registerLoadStart=function(){this.pending+=1};a.prototype.registerLoadEnd=function(a){this.pending===1&&a(),this.pending-=1};b={LoadCounter:a};e.exports=b}),null);
__d("TargetingViewConfigValidator",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.forEach(function(a){a=a.component;a.targetingSpecFields||g(0,2592,a.displayName!=null&&a.displayName!==""?a.displayName:a.name)})}b={validate:a};e.exports=b}),null);
__d("TargetingViewRenderer.react",["cx","React","curry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").Component;d=b("React").PropTypes;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a=[];this.props.config.forEach(function(c,d){var e=c.component,f=b("curry")(this.props.rowRenderer,this.props.targetingSpec,c),g=b("curry")(this.props.rowRenderer.rendersWhatHasBeenPassedIn,this.props.targetingSpec,c),h=b("joinClasses")("_5eb4",c.className);a.push(b("React").createElement("div",{className:h,key:d},b("React").createElement(e,{config:c,extraData:this.context.getExtraData(),rowRenderer:f,rowRendererRendersWhatHasBeenPassedIn:g})))}.bind(this));return b("React").createElement("div",{className:"_4d2m"},a)};function a(){h.apply(this,arguments)}a.contextTypes={getExtraData:d.func.isRequired};e.exports=a}),null);
__d("TargetingContainerFactory",["AdsCommonTargetingLoggerStore","AdsTargetingLoadTimeStore","AdsCommonTargetingScenarioLoggerStore","AdsPerfUtils","AdsTargetingLoadTimeActions","FluxContainer","React","TargetingViewConfigValidator","TargetingViewRenderer.react","getByPath","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("AdsCommonTargetingLoggerStore");b("AdsTargetingLoadTimeStore");b("AdsCommonTargetingScenarioLoggerStore");var g=b("React").Component,h=b("React").PropTypes,i=b("AdsPerfUtils").LoadCounter;function a(a){__p&&__p();var c,d=a.initializeStore,e=a.onTargetingSpecChange,f=a.rowRenderer,j=a.specUtils,k=a.targetingMode,l=a.targetingSpecStore;a=babelHelpers.inherits(m,g);c=a&&a.prototype;function m(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return b=(a=c.constructor).call.apply(a,[this].concat(e)),this.loadCounter=new i(),this.$1=function(){this.props.onFinishedLoading&&this.loadCounter.registerLoadStart()}.bind(this),this.$2=function(){this.props.onFinishedLoading&&this.loadCounter.registerLoadEnd(this.props.onFinishedLoading)}.bind(this),b}m.prototype.getChildContext=function(){"use strict";var a=babelHelpers["extends"]({},this.props.extraData,{targetingSpecStore:l});return{getExtraData:function(){return a},registerLoadEnd:this.$2,registerLoadStart:this.$1,targetingMode:k}};m.getStores=function(){"use strict";return[l]};m.calculateState=function(){"use strict";var a=l.getState();return{targetingSpec:a}};m.prototype.UNSAFE_componentWillMount=function(){"use strict";b("TargetingViewConfigValidator").validate(this.props.config);var a=this.props.config.map(function(a){return a.component.displayName}).filter(function(a){return a!=="TargetingSectionDivider"}),c=b("getByPath")(this.props.extraData,["objectiveData","objective"]);b("AdsTargetingLoadTimeActions").initTargetingContainer(k,a,b("performanceNow")(),c);this.props.defaultSpec&&d(this.props)};m.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";b("TargetingViewConfigValidator").validate(a.config);if(a.defaultSpec){var c=j.getAggregatedSpecFromState(this.state.targetingSpec),e=j.defaultSpecToAggregatedSpec(this.props.defaultSpec,this.props.extraData.apiTransformerBehaviors),f=j.defaultSpecToAggregatedSpec(a.defaultSpec,a.extraData.apiTransformerBehaviors);j.hasSpecChanged(c,f,a.extraData.targetingSpecBlacklist)&&j.hasSpecChanged(e,f,a.extraData.targetingSpecBlacklist)&&d(a)}};m.prototype.componentDidUpdate=function(a,b){"use strict";if(b.targetingSpec.equals(this.state.targetingSpec))return;a=j.getAggregatedSpecFromState(b.targetingSpec);b=j.getAggregatedSpecFromState(this.state.targetingSpec);j.hasSpecChanged(a,b,this.props.extraData.targetingSpecBlacklist)&&e(this.props,this.state.targetingSpec)};m.prototype.render=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("TargetingViewRenderer.react"),{config:this.props.config,defaultWidth:this.props.defaultWidth,mixedStateComponents:new Set(),rowRenderer:f,targetingSpec:this.state.targetingSpec}))};m.defaultProps={defaultWidth:680};m.childContextTypes={getExtraData:h.func.isRequired,targetingMode:h.string,registerLoadEnd:h.func,registerLoadStart:h.func};return b("FluxContainer").create(m)}c={create:a};e.exports=c}),null);
__d("targetingBulkRowRenderer",["cx","fbt","AdObjectLevels","Link.react","React","TargetingActions","TargetingBulkSpecUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;function j(a){var c=a.showEditLink,d=a.onEditMixedState;a=a.onResetMixedState;var e;c&&(e=b("React").createElement(b("Link.react"),{className:"_1hqn",onClick:d},h._("View and edit")));return b("React").createElement("div",{className:"_bb3"},e,b("React").createElement(b("Link.react"),{onClick:a},h._("Reset")))}d=babelHelpers.inherits(k,c);i=d&&d.prototype;function k(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("TargetingActions").resetMixedStateComponent(this.props.config.component)}.bind(this),this.$2=function(){var a=this.props.config.customProperties;a&&a.bulkEditAction&&a.bulkEditAction(a.bulkEditDialogType,b("AdObjectLevels").CAMPAIGN,a.bulkEditSource)}.bind(this),c}k.prototype.render=function(){var a;return b("React").createElement("div",null,b("React").createElement("span",{className:"_5eb7"},h._("Mixed State")),b("React").createElement(j,{showEditLink:(a=this.props.config)!=null?(a=a.customProperties)!=null?a.mixedStateEditableInDialog:a:a,onEditMixedState:this.$2,onResetMixedState:this.$1}))};function l(a,c){return b("TargetingBulkSpecUtils").isMixedStateComponent(c.component,a)&&!((a=c)!=null?(a=a.customProperties)!=null?a.mixedStateEditable:a:a)}function a(a,c,d,e,f){l(a,c)&&(f=b("React").cloneElement(f,{children:b("React").createElement(k,{config:c})}));return b("React").createElement("div",d.props,e,f)}a.rendersWhatHasBeenPassedIn=function(){return!l.apply(undefined,arguments)};e.exports=a}),null);
__d("TargetingBulkContainer.react",["AdsCommonTargetingUtils","TargetingActions","TargetingBulkSpecUtils","TargetingContainerFactory","TargetingContainerMode","TargetingSpecStore","targetingBulkRowRenderer"],(function(a,b,c,d,e,f){"use strict";var g=b("TargetingBulkSpecUtils").getBulkApiSpecFromState,h=b("TargetingBulkSpecUtils").getTargetingApiSpecFromState,i=b("TargetingBulkSpecUtils").transformSpecToAdsBulkValue,j={hasSpecChanged:b("AdsCommonTargetingUtils").hasBulkSpecChanged,defaultSpecToAggregatedSpec:function(a,b){return i(a||{})},getAggregatedSpecFromState:g};a=b("TargetingContainerFactory").create({targetingMode:b("TargetingContainerMode").BULK,targetingSpecStore:b("TargetingSpecStore"),initializeStore:function(a){return b("TargetingActions").setBulkApiSpec(j.defaultSpecToAggregatedSpec(a.defaultSpec||{}),a.extraData.apiTransformerBehaviors)},onTargetingSpecChange:function(a,b){return a.onTargetingSpecChange(h(b),g(b))},rowRenderer:b("targetingBulkRowRenderer"),specUtils:j});e.exports=a}),null);
__d("TargetingContainer.react",["AdsErrorBoundary.react","AdsTargetingFallbackErrorNotice.react","AdsTargetingWebdriverIDs","React","SUIBusinessTheme","SUIThemeContainer.react","TargetingBulkContainer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;g=babelHelpers.inherits(a,c);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("SUIThemeContainer.react"),{theme:b("SUIBusinessTheme")},b("React").createElement(b("AdsErrorBoundary.react"),{fallbackComponent:b("React").createElement(b("AdsTargetingFallbackErrorNotice.react"),null),moduleName:b("AdsTargetingWebdriverIDs").TARGETING_CONTAINER},b("React").createElement("div",{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_CONTAINER},b("React").createElement(b("TargetingBulkContainer.react"),{config:this.props.config,defaultSpec:this.props.defaultApiSpec,defaultWidth:this.props.defaultWidth,extraData:this.props.extraData,onFinishedLoading:this.props.onFinishedLoading,onTargetingSpecChange:this.props.onTargetingSpecChange}))))};function a(){g.apply(this,arguments)}e.exports=a}),null);