if (self.CavalryLogger) { CavalryLogger.start_js(["+R9xy"]); }

__d("PaymentsPSDStaticStrings",["fbt"],(function(a,b,c,d,e,f,g){e.exports={PAGE_TITLE:g._("Payments Data Policy"),INTRO_PARAGRAPH_TITLE:g._("Payments Terms of Service"),ONLY_WHAT_WE_NEED_TITLE:g._("We only receive limited personal information from you."),ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH:g._("When you make payments through Facebook Company Products, Facebook Payments International may collect certain personal information in order to complete the transaction, such as your card number and other payment method information."),ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH:g._("We may also collect personal information when legally required, such as for fraud prevention, anti-money laundering or other regulatory purposes. For example, you may be asked to provide information, such as a copy of your government-issued ID, for identity verification or the prevention of money laundering, fraud and other criminal activity."),FOLLOW_GUIDELINES_TITLE:g._("We take extra steps for your protection."),FOLLOW_GUIDELINES_PARAGRAPH:g._("We establish an encrypted connection with your browser that uses sophisticated security technology. We store your payment method information with industry-standard levels of security. The people you pay cannot see your full card number or other payment method information."),ACCEPT_BUTTON_LABEL:g._("I Accept")}}),null);
__d("CommerceContactMerchantShippingAddress.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(!this.props.address)return null;var a=this.props.address,c=a.care_of,d=a.address_line_one,e=a.address_line_two,f=a.city,h=a.country,i=a.postal_code;a=a.state;var j=null;e&&i?j=g._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[g._param("shipping address address_line_one",d),g._param("shipping address address_line_two",e),g._param("shipping address city",f),g._param("shipping address state",a),g._param("shipping address postal code",i),g._param("shipping address country",h)]):e?j=g._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address country}",[g._param("shipping address address_line_one",d),g._param("shipping address address_line_two",e),g._param("shipping address city",f),g._param("shipping address state",a),g._param("shipping address country",h)]):i?j=g._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[g._param("shipping address address_line_one",d),g._param("shipping address city",f),g._param("shipping address state",a),g._param("shipping address postal code",i),g._param("shipping address country",h)]):j=g._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address country}",[g._param("shipping address address_line_one",d),g._param("shipping address city",f),g._param("shipping address state",a),g._param("shipping address country",h)]);return b("React").createElement("div",{className:this.props.className},b("React").createElement("div",null,c),j)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("P2PCheckoutPriceDetails.react",["cx","fbt","LeftRight.react","P2PText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=h._("Address required");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.renderLineItemRow=function(a,c,d){return b("React").createElement("div",{className:"_46ld"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("P2PText.react"),{display:"inline",type:d?"primary":"secondary"},b("React").createElement("span",{className:"_10ba"+(d?" _3a06":"")},a)),b("React").createElement(b("P2PText.react"),{className:"_10ba _46lf"+(c?"":" _46lg"),display:"inline",type:d?"primary":"secondary"},b("React").createElement("span",{className:d?"_3a06":""},c?c:j))))},c}a.prototype.render=function(){return b("React").createElement("div",{className:"_46lh"},this.props.showSubtotalField?this.renderLineItemRow(h._("Subtotal"),this.props.subtotal):null,this.props.showTaxField?this.renderLineItemRow(h._("Tax"),this.props.tax):null,this.props.showShippingField?this.renderLineItemRow(h._("Delivery"),this.props.shipping):null,this.renderLineItemRow(h._("Total"),this.props.total,!0))};a.propTypes={shipping:c.string,subtotal:c.string,tax:c.string,total:c.string,showShippingField:c.bool,showSubtotalField:c.bool,showTaxField:c.bool};a.defaultProps={showShippingField:!0,showSubtotalField:!0,showTaxField:!0};e.exports=a}),null);
__d("P2PPlatformContextStore",["Arbiter","ChannelConstants","CurrentUser","EventEmitter","ImmutableObject","MercuryIDs","P2PActionConstants","P2PActions","P2PAPI","P2PChannelType","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Map(),i=new Map(),j;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),j=b("P2PDispatcher").register(this.onEventDispatched.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType(b("P2PChannelType").PLATFORM_CONTEXT_NEW),this.handleChannelUpdated.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType(b("P2PChannelType").PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED),this.handleChannelChanged.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType(b("P2PChannelType").PLATFORM_CONTEXT_DISMISSED),this.handleChannelChanged.bind(this))}a.prototype.onEventDispatched=function(a){__p&&__p();var c=a.type;a=a.data;switch(c){case b("P2PActionConstants").PLATFORM_CONTEXT_ADDED:this.handlePlatformContextAdded(a);this.emit("change");break;case b("P2PActionConstants").PLATFORM_CONTEXT_ADDED_ERROR:this.handlePlatformContextAddedError(a);this.emit("change");break;case b("P2PActionConstants").PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:this.handlePlatformContextSaveErrorsCleared(a);this.emit("change");break;case b("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED:this.handlePlatformContextBannerDisimssed(a);this.emit("change");break;case b("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:this.handlePlatformContextProductItemSold(a);this.emit("change");break;case b("P2PActionConstants").PLATFORM_CONTEXT_CHANGED:this.handlePlatformContextChanged(a);this.emit("change");break}};a.prototype.handleChannelUpdated=function(a,c){a=c.obj;b("P2PActions").addPlatformContext(a)};a.prototype.handleChannelChanged=function(a,c){a=c.obj;b("P2PActions").platformContextChanged(a)};a.prototype.handlePlatformContextAdded=function(a){this.setPlatformContext(a)};a.prototype.handlePlatformContextAddedError=function(a){i.set(a.itemID,a.error)};a.prototype.handlePlatformContextSaveErrorsCleared=function(a){i["delete"](a)};a.prototype.handlePlatformContextChanged=function(a){h.forEach(function(b,c){b.id===a.id&&this.setPlatformContext(a)}.bind(this))};a.prototype.handlePlatformContextBannerDisimssed=function(a){h.forEach(function(c,d){c.id===a&&(this.isViewerSellerForPlatformContext(c)?c=b("ImmutableObject").set(c,{banner:b("ImmutableObject").set(c.banner,{shouldShowToSeller:!1})}):this.isViewerBuyerForPlatformContext(c)&&(c=b("ImmutableObject").set(c,{banner:b("ImmutableObject").set(c.banner,{shouldShowToBuyer:!1})})),h.set(d,c))}.bind(this))};a.prototype.handlePlatformContextProductItemSold=function(a){h.forEach(function(c,d){c.id===a&&(c=b("ImmutableObject").set(c,{product:b("ImmutableObject").set(c.product,{isAvailable:!1})}),h.set(d,c))})};a.prototype.setPlatformContext=function(a){var c=new(b("ImmutableObject"))(a);c=b("ImmutableObject").set(c,{product:new(b("ImmutableObject"))(a.product)});c=b("ImmutableObject").set(c,{banner:new(b("ImmutableObject"))(a.banner)});h.set(this.getOtherUserIDForPlatformContext(a),c)};a.prototype.shouldShowBanner=function(a){__p&&__p();var c;if(!a)return!1;c=this.getPlatformContextByOtherUserID(a);if(!c){h.set(a,new(b("ImmutableObject"))({}));b("P2PAPI").getPlatformContextByOtherUserID({otherUserID:a});return!1}a=c.banner;return!!(this.isViewerSellerForPlatformContext(c)&&a.shouldShowToSeller||this.isViewerBuyerForPlatformContext(c)&&a.shouldShowToBuyer)};a.prototype.isViewerSellerForPlatformContext=function(a){return a.sellerID===b("CurrentUser").getID()};a.prototype.isViewerBuyerForPlatformContext=function(a){return a.buyerID===b("CurrentUser").getID()};a.prototype.getOtherUserIDForPlatformContext=function(a){return this.isViewerSellerForPlatformContext(a)?a.buyerID:a.sellerID};a.prototype.getPlatformContextByOtherUserID=function(a){return h.get(a)};a.prototype.getPlatformContextByID=function(a){__p&&__p();for(var b=h.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.id===a)return e}return null};a.prototype.getThreadIDFromPlatformContext=function(a){a=this.getOtherUserIDForPlatformContext(a);return b("MercuryIDs").getThreadIDFromUserID(a)};a.prototype.getSaveError=function(a){return i.get(a)};a.prototype.getDispatchToken=function(){return j};e.exports=new a()}),null);
__d("PageProductTransactionOrderStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AWAITING_PAYMENT_METHOD:"awaiting_payment_method",AWAITING_PAYMENT:"awaiting_payment",PAYMENT_SUBMITTED:"payment_submitted",PAYMENT_EXPIRED:"payment_expired",SHIPPED:"shipped",VOIDED:"voided",PENDING_APPROVAL:"pending_approval",PAYMENT_APPROVED:"payment_approved"})}),null);
__d("CommerceContactMerchantReceiptDialog.react",["cx","fbt","CommerceContactMerchantShippingAddress.react","Image.react","P2PActions","P2PAPI","P2PCheckoutPriceDetails.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PErrorDialog.react","P2PLoadingMask.react","P2PPlatformContextStore","P2PPlatformProductItemDetails.react","P2PText.react","PageProductTransactionOrderStatus","React","StoreAndPropBasedStateMixin","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PropTypes;var j=400,k=300;c=b("React").createClass({displayName:"CommerceContactMerchantReceiptDialog",mixins:[b("StoreAndPropBasedStateMixin")(b("P2PPlatformContextStore"))],propTypes:{invoiceID:a.string.isRequired,onDialogToggle:a.func,platformContextID:a.string.isRequired},getInitialState:function(){return{error:null,invoiceDetails:null,loading:!0}},statics:{calculateState:function(a){return{platformContext:b("P2PPlatformContextStore").getPlatformContextByID(a.platformContextID)}}},UNSAFE_componentWillMount:function(){b("P2PAPI").getCommerceInvoiceDetails({invoiceID:this.props.invoiceID,onError:this.handleGetInvoiceDetailsError,onSuccess:this.handleGetInvoiceDetailsSuccess}),b("P2PAPI").getPlatformContextByID({id:this.props.platformContextID})},handleGetInvoiceDetailsSuccess:function(a){this.setState({invoiceDetails:a,loading:!1})},handleGetInvoiceDetailsError:function(a){this.setState({loading:!1,error:a.error})},isUnsuccessfulInvoiceStatus:function(){var a=this.state.invoiceDetails&&this.state.invoiceDetails.status;return!a?!1:a===b("PageProductTransactionOrderStatus").VOIDED||a===b("PageProductTransactionOrderStatus").PAYMENT_EXPIRED},renderShippingAddressSection:function(){var a=this.state.invoiceDetails.ship_to_address;if(!a)return null;a=b("React").createElement(b("P2PText.react"),{type:"primary"},b("React").createElement(b("CommerceContactMerchantShippingAddress.react"),{address:a}));var c=h._("DELIVER TO");return b("React").createElement(l,{content:a,label:c})},renderPaymentStatusSection:function(){var a=this.state.invoiceDetails.payment&&this.state.invoiceDetails.payment.payment_receipt_display_name;a.__html||(a={__html:a});a=b("React").createElement(b("P2PText.react"),{className:this.isUnsuccessfulInvoiceStatus()?"_xed":"",dangerouslySetInnerHTML:a,key:"paymentStatus",type:"primary"});var c=h._("PAYMENT STATUS"),d=this.state.invoiceDetails.payment.payment_data.receipt_photo_url;d=d?b("React").createElement(b("Image.react"),{className:"_3-8z",key:"receiptImage",src:d,width:k}):null;return b("React").createElement(l,{content:[a,d],label:c})},renderShippingStatusSection:function(){var a=this.state.invoiceDetails.shipment_status_display_name;if(!a)return null;a.__html||(a={__html:a});a=b("React").createElement(b("P2PText.react"),{dangerouslySetInnerHTML:a,key:"shippingStatus",type:"primary"});var c=h._("SHIPPING STATUS");return b("React").createElement(l,{content:a,label:c})},renderProductDetailsSection:function(){var a=this.state.platformContext;if(!a||!a.product)return null;a=b("React").createElement(b("P2PPlatformProductItemDetails.react"),{item:a.product,size:"medium"});return b("React").createElement(l,{content:a})},renderProductPriceSection:function(){var a=this.state.invoiceDetails,c=a.formatted_subtotal,d=a.formatted_shipping_cost;a=a.formatted_total;d=b("React").createElement(b("P2PCheckoutPriceDetails.react"),{shipping:d,subtotal:c,total:a,showTaxField:!1});return b("React").createElement(l,{content:d})},renderOrderNumberSection:function(){var a=this.props.invoiceID;a=b("React").createElement(b("P2PText.react"),{type:"secondary"},h._("Order no. {order_number}",[h._param("order_number",a)]));return b("React").createElement(l,{content:a})},renderReceipt:function(){return!this.state.invoiceDetails?null:b("React").createElement("div",null,this.renderProductDetailsSection(),this.renderProductPriceSection(),this.renderShippingAddressSection(),this.renderPaymentStatusSection(),this.renderShippingStatusSection(),this.renderOrderNumberSection())},handleClose:function(){b("P2PActions").hideDialog()},handleToggle:function(a){a||this.handleClose()},render:function(){if(this.state.error){var a=h._("Problem while fetching your receipt");return b("React").createElement(b("P2PErrorDialog.react"),{error:this.state.error,onOKClick:this.handleClose,title:a})}return b("React").createElement(b("P2PDialog.react"),{onToggle:this.props.onDialogToggle||this.handleToggle,repositionOnUpdate:!0,width:j},b("React").createElement(b("P2PDialogTitle.react"),null,h._("Receipt")),b("React").createElement(b("P2PDialogBody.react"),{className:"_3dcf"},b("React").createElement(b("P2PLoadingMask.react"),{visible:this.state.loading}),this.renderReceipt()))}});i=babelHelpers.inherits(l,b("React").Component);i&&i.prototype;l.prototype.render=function(){var a=this.props.label?b("React").createElement(b("P2PText.react"),{className:"_3dce",type:"secondary"},this.props.label):null;return b("React").createElement("div",{className:b("joinClasses")("_3dcd",this.props.className)},a,this.props.content)};function l(){i.apply(this,arguments)}l.propTypes={content:a.node,label:a.node};e.exports=c}),null);
__d("FBPaymentsPriceFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getPlaceholderText=function(){return g._("Price")};a.prototype.render=function(){return b("React").createElement(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").PRICE_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCheckoutStore",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=b("immutable").List;var i=b("FBPaymentsCheckoutActions").types;d={showHardErrorOnExtensions:{showError:!1,extensionsNotReady:c()},paymentStep:null};g=babelHelpers.inherits(j,b("immutable").Record(d));g&&g.prototype;function j(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new j()};a.prototype.reduce=function(a,b){switch(b.type){case i.SHOW_HARD_ERROR_ON_EXTENSIONS:return a.set("showHardErrorOnExtensions",b.data);case i.UPDATE_PAYMENT_STEP:return a.set("paymentStep",b.data);default:return a}};a.prototype.getExtensionsWithHardError=function(){return this.getState().showHardErrorOnExtensions};a.prototype.getPaymentStep=function(){return this.getState().paymentStep};a.prototype.getShowHardErrorOnExtension=function(a){var b=this.getExtensionsWithHardError();return b&&b.showError&&b.extensionsNotReady.includes(a)};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutStore","FBPaymentsLoggerBase","FluxContainer","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=b("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes;f=b("FBPaymentsCheckoutConfigurationTypes").PurchaseInfoExtensionPropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(){return[b("FBPaymentsCheckoutStore")]};a.calculateState=function(a,c){a=babelHelpers["extends"]({},a);c=c.extensionConfiguration.identifier;var d=b("FBPaymentsCheckoutStore").getExtensionsWithHardError();d&&d.showError&&d.extensionsNotReady.includes(c)?a.showHardError=!0:a.showHardError=!1;return a};a.__calculateExtensionState=function(a){return b("abstractMethod")("FBPaymentsExtensionInterface","calculateExtensionState")};a.prototype.__sendExtensionUpdateIfNecessary=function(a,b){b=this.constructor.__calculateExtensionState(b);var c=!this.constructor.__extensionStateEquals(a.extensionState,b);c&&a.onExtensionUpdate(b)};a.prototype.calculateExtensionStateAndSendUpdateImmediately=function(a){a=this.constructor.__calculateExtensionState(a);this.props.onExtensionUpdate(a)};a.prototype.UNSAFE_componentWillMount=function(){this.__sendExtensionUpdateIfNecessary(this.props,this.state)};a.prototype.UNSAFE_componentWillUpdate=function(a,b){this.__sendExtensionUpdateIfNecessary(a,b)};function a(){g.apply(this,arguments)}a.PropTypes={checkoutConfiguration:d.isRequired,checkoutExtraProps:c.object,checkoutRestoreData:c.object.isRequired,extensionConfiguration:f.isRequired,extensionState:c.object.isRequired,isActive:c.bool.isRequired,isActiveForVerification:c.bool.isRequired,logger:c.instanceOf(b("FBPaymentsLoggerBase")).isRequired,onExtensionPrePaymentCallChange:c.func.isRequired,onExtensionUpdate:c.func.isRequired,onExtensionWidthChange:c.func.isRequired,onRequestActive:c.func.isRequired,onRequestActiveForVerification:c.func.isRequired};a.__extensionStateEquals=function(a,b){return JSON.stringify(a)===JSON.stringify(b)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsContactEmailSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","immutable","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this,a),this.handleContactEmailClick=function(a){var b=this.state.contactEmails&&this.state.contactEmails.find(function(b){return b.id===a});this.setState({selectedContactEmail:b})}.bind(this),this.handleNewContactEmailChange=function(a,b,c){this.setState({newContactEmail:b,isNewContactEmailValid:c.isValid,validationErrorMessage:c.errorMessage})}.bind(this),this.handleAddNewContactEmail=function(){this.setState({isSavingNewContactEmail:!0,serverErrorMessage:null});var a={user_input_email:this.state.newContactEmail,payment_type:this.props.checkoutConfiguration.paymentInfo.paymentItemType};this.__getAPI().addContactEmail(a,this.handleNewContactEmailAdded,this.handleNewContactEmailAddedError)}.bind(this),this.handleNewContactEmailAdded=function(a){this.setState({isLoading:!0,isSavingNewContactEmail:!1,selectedContactEmail:null,showForm:!1}),this.$FBPaymentsContactEmailSelectorContainerBase1()}.bind(this),this.handleNewContactEmailAddedError=function(a){this.setState({isSavingNewContactEmail:!1,serverErrorMessage:a.message})}.bind(this),this.handleContactEmailRowClicked=function(){this.props.onRequestActive(!0)}.bind(this),this.handleCancelActiveStateClick=function(){this.props.onRequestActive(!1)}.bind(this),this.handleShowForm=function(){this.handleToggleShowForm(!0)}.bind(this),this.handleHideForm=function(){this.handleToggleShowForm(!1)}.bind(this),this.handleClearInput=function(){this.setState({isNewContactEmailValid:!1,newContactEmail:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this),this.state={contactEmails:null,isInitialized:!1,isLoading:!1,isNewContactEmailValid:!1,isSavingNewContactEmail:!1,newContactEmail:"",selectedContactEmail:null,serverErrorMessage:null,showForm:!1,showHardError:!1,validationErrorMessage:null}}a.getStores=function(){return[this.__getContactInfoStore()]};a.calculateState=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a);c=b("FBPaymentsContactInfoTypes").EMAIL;a=this.__getContactInfoStore().get(c);d.isLoading=a.isLoading();if(a.hasValue()){c=a.getValueEnforcing();d.contactEmails=c;if(d.newContactEmail){a=c.find(function(a){return a.normalizedEmailAddress===d.newContactEmail});a&&(d.selectedContactEmail=a,d.newContactEmail="")}else{d.isInitialized=!0;if(!d.selectedContactEmail){a=c.filter(function(a){return a.isDefault}).first();a||(a=c.first());a&&(d.selectedContactEmail=a)}}}return d};a.__calculateExtensionState=function(a){var b=!1,c={};a.selectedContactEmail&&(b=!0,c={email:a.selectedContactEmail.normalizedEmailAddress,id:a.selectedContactEmail.id});return{isInitialized:a.isInitialized,extraData:c,ready:b}};a.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getContactInfoStore")};a.prototype.$FBPaymentsContactEmailSelectorContainerBase1=function(){var a=b("FBPaymentsContactInfoTypes").EMAIL;this.constructor.__getContactInfoStore().fetch(a);this.setState({isLoading:!0})};a.prototype.handleToggleShowForm=function(a){this.setState({showForm:a}),this.handleClearInput()};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getView")};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getAPI")};a.prototype.$FBPaymentsContactEmailSelectorContainerBase2=function(){var a=this.props.extensionConfiguration;return a.identifier!=="CONTACT_EMAIL"?null:a.customContent};a.prototype.render=function(){var a=this.__getView(),c=this.props.checkoutExtraProps?this.props.checkoutExtraProps.emailHelpMessage:null,d=this.$FBPaymentsContactEmailSelectorContainerBase2();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{customContent:d,isActive:this.props.isActive,onAddNewContactEmail:this.handleAddNewContactEmail,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactEmailClick:this.handleContactEmailClick,onHideForm:this.handleHideForm,onNewContactEmailChange:this.handleNewContactEmailChange,onRowClicked:this.handleContactEmailRowClicked,onShowForm:this.handleShowForm,helpMessage:c}))};e.exports=a}),null);
__d("FBPaymentsContactEmailSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","FBPaymentsLinkHelper","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("FBPaymentsCheckoutConfigurationTypes").CustomContactEmailContentPropTypes;d=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};a.prototype.getContactEmailLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.emailLabel:a:a)||g._("Contact email address")};a.prototype.getAddContactEmailText=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addEmailPuxCta:a:a)||g._("Add")};a.prototype.getAddContactEmailNUXText=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addEmailNuxCta:a:a)||g._("Add New Email Address")};a.prototype.getAddContactEmailPlaceholder=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.fieldPlaceholder:a:a)||g._("New email address")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getSaveButtonText=function(){return g._("Save")};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getHardErrorMessage=function(){return g._("Please select a valid email address.")};a.prototype.getSecurityMessage=function(){var a;return this.props.helpMessage?this.props.helpMessage:((a=this.props)!=null?(a=a.customContent)!=null?a.formFooterMessage:a:a)||g._("Updates about your purchase will be sent to this email address. {Link. =Learn more}",[g._param("Link. =Learn more",b("React").createElement("a",{href:b("FBPaymentsLinkHelper").getPayerProtectionURI(),target:"_blank"},g._("Learn more")))])};function a(){h.apply(this,arguments)}a.propTypes={contactEmails:d.object,customContent:c,isActive:d.bool.isRequired,isLoading:d.bool.isRequired,isNewContactEmailValid:d.bool.isRequired,isSavingNewContactEmail:d.bool.isRequired,newContactEmail:d.string.isRequired,onAddNewContactEmail:d.func.isRequired,onCancelActiveStateClick:d.func.isRequired,onClearInput:d.func.isRequired,onContactEmailClick:d.func.isRequired,onHideForm:d.func.isRequired,onNewContactEmailChange:d.func.isRequired,onRowClicked:d.func.isRequired,onShowForm:d.func.isRequired,selectedContactEmail:d.object,serverErrorMessage:d.oneOfType([d.node,d.string]),showForm:d.bool,validationErrorMessage:d.node,helpMessage:d.node,showHardError:d.bool};e.exports=a}),null);
__d("FBPaymentsEmailFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.getPlaceholderText=function(){return g._("Email address")},b}a.prototype.render=function(){var a=this.props.enableFloatingLabel?null:this.getPlaceholderText();return b("React").createElement(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").EMAIL_INPUT_CONFIG,placeholder:a},this.props))};e.exports=a}),null);
__d("FBPaymentsContactEmailSelectorView.react",["cx","fbt","FBPaymentsContactEmailSelectorViewBase.react","FBPaymentsEmailFormField.react","FBPaymentsLoadingView.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FBPaymentsRichSelector.react").Option,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("FBPaymentsContactEmailSelectorViewBase.react"));i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.handleSelectorChange=function(a){a=a.value;this.props.onContactEmailClick(a)}.bind(this),b}a.prototype.renderContactEmailListItem=function(a){return b("React").createElement(j,{key:a.id,label:a.normalizedEmailAddress,value:a.id},b("React").createElement(b("XUIGrayText.react"),{shade:"dark"},a.normalizedEmailAddress))};a.prototype.renderServerErrorMessage=function(){return!this.props.serverErrorMessage?null:b("React").createElement(b("XUIText.react"),{className:"_14tg",display:"block",size:"meta1"},this.props.serverErrorMessage)};a.prototype.renderAddContactEmailInputListItem=function(){return b("React").createElement(j,{className:"_5kyc",clickable:!1,key:"add_contact_email_input"},b("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,b("React").createElement(b("FBPaymentsEmailFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"email",onChange:this.props.onNewContactEmailChange,placeholder:this.getAddContactEmailPlaceholder(),value:this.props.newContactEmail})),b("React").createElement(k,null,b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactEmailValid,label:this.getAddContactEmailText(),onClick:this.props.onAddNewContactEmail,size:"large",use:"confirm"}))),b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isSavingNewContactEmail})))};a.prototype.renderSecurityMessageListItem=function(){return b("React").createElement(j,{className:"_2y76 _5kyc",clickable:!1,key:"security_message"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.getSecurityMessage()))};a.prototype.renderContactEmailsDropdown=function(){if(this.props.isLoading)return b("React").createElement(b("XUISpinner.react"),null);var a=this.props.contactEmails;if(!a)return null;var c=this.props.selectedContactEmail;c=c&&c.id;return b("React").createElement(b("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactEmailNUXText(),defaultValue:c,name:"contact_email_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},a.map(this.renderContactEmailListItem),this.renderAddContactEmailInputListItem(),this.renderSecurityMessageListItem())};a.prototype.getContactEmailLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.emailLabel:a:a)||h._("Confirmation email")};a.prototype.render=function(){return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getContactEmailLabel()),b("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactEmailsDropdown()))};e.exports=a}),null);
__d("FBPaymentsContactEmailSelectorContainer.react",["FBPaymentsContactEmailSelectorContainerBase.react","FBPaymentsContactEmailSelectorView.react","FBPaymentsContactInfoStore","FBPaymentsModulesAPI","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsContactEmailSelectorContainerBase.react"));g&&g.prototype;a.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};a.prototype.__getView=function(){return b("FBPaymentsContactEmailSelectorView.react")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsContactNameInputContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.handleContactNameChange=function(a,b,c){this.setState({contactName:b,errorMessage:c.errorMessage})}.bind(this),this.handleNewContactNameChange=function(a,b,c){this.setState({newContactName:b,isNewContactNameValid:c.isValid,errorMessage:c.errorMessage})}.bind(this),this.handleContactNameRowClicked=function(){this.setState({newContactName:this.state.contactName,isNewContactNameValid:!0,errorMessage:null}),this.props.onRequestActive(!0)}.bind(this),this.handleCancelActiveStateClick=function(){this.props.onRequestActive(!1)}.bind(this),this.handleUpdateContactName=function(){this.setState({contactName:this.state.newContactName}),this.props.onRequestActive(!1)}.bind(this),this.state={contactName:"",errorMessage:null,initialFetch:!0,isInitialized:!1,isLoading:!1,isNewContactNameValid:!1,newContactName:"",showHardError:!1}}a.getStores=function(){return[this.__getContactInfoStore()]};a.calculateState=function(a,c){c=babelHelpers["extends"]({},a);a=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").NAME);c.isLoading=a.isLoading();a.hasValue()&&c.initialFetch&&(c.contactName=a.getValueEnforcing().first(),c.initialFetch=!1,c.isInitialized=!0);return c};a.__calculateExtensionState=function(a){var b=!1,c={};a.contactName.length>=2&&(b=!0,c={name:a.contactName});return{isInitialized:a.isInitialized,extraData:c,ready:b}};a.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getContactInfoStore")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCancelActiveStateClick:this.handleCancelActiveStateClick,onContactNameChange:this.handleContactNameChange,onNewContactNameChange:this.handleNewContactNameChange,onRowClicked:this.handleContactNameRowClicked,onUpdateContactName:this.handleUpdateContactName}))};e.exports=a}),null);
__d("FBPaymentsContactNameInputViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};a.prototype.getContactNameLabel=function(){return g._("Name")};a.prototype.getContactNamePlaceholder=function(){return g._("Please enter your name")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getHardErrorMessage=function(){return g._("Please enter a name.")};a.prototype.getSaveButtonText=function(){return g._("Save")};function a(){h.apply(this,arguments)}a.propTypes={contactName:c.string,errorMessage:c.node,isActive:c.bool.isRequired,isLoading:c.bool.isRequired,isNewContactNameValid:c.bool.isRequired,newContactName:c.string.isRequired,onCancelActiveStateClick:c.func.isRequired,onContactNameChange:c.func.isRequired,onNewContactNameChange:c.func.isRequired,onRowClicked:c.func.isRequired,onUpdateContactName:c.func.isRequired,showHardError:c.bool};e.exports=a}),null);
__d("FBPaymentsNameFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getPlaceholderText=function(){return g._("Please enter your name")};a.prototype.render=function(){var a=this.props.enableFloatingLabel?null:this.getPlaceholderText();return b("React").createElement(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").NAME_INPUT_CONFIG,placeholder:a},this.props))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsContactNameInputView.react",["cx","FBPaymentsContactNameInputViewBase.react","FBPaymentsNameFormField.react","React","XUIGrayText.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsContactNameInputViewBase.react"));h&&h.prototype;a.prototype.renderContactNameInput=function(){return this.props.isLoading?b("React").createElement(b("XUISpinner.react"),null):b("React").createElement(b("FBPaymentsNameFormField.react"),{className:"_3vg0",errorMessage:this.props.errorMessage,height:"tall",name:"name",onChange:this.props.onContactNameChange,value:this.props.contactName})};a.prototype.render=function(){return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getContactNameLabel()),b("React").createElement("div",{className:"_3-8x _52jv _223u"},this.renderContactNameInput()))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsContactNameInputContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactNameInputContainerBase.react","FBPaymentsContactNameInputView.react","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsContactNameInputContainerBase.react"));g&&g.prototype;a.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};a.prototype.__getView=function(){return b("FBPaymentsContactNameInputView.react")};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsAddCreditCardMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"AddCreditCardData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"AddCreditCardData!"}],c={kind:"ScalarField",alias:null,name:"credential_id",args:null,storageKey:null},d=[{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"link",args:null,storageKey:null}];d={kind:"LinkedField",alias:null,name:"payments_error",storageKey:null,args:null,concreteType:"PaymentsUserFacingError",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"error_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"flow_step",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"image",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"primary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"secondary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:d},{kind:"ScalarField",alias:null,name:"extra_data",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"FBPaymentsAddCreditCardMutation",id:"1856059674463445",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsAddCreditCardMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"add_credit_card",storageKey:null,args:b,concreteType:"AddCreditCardResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"credit_card",storageKey:null,args:null,concreteType:"ExternalCreditCard",plural:!1,selections:[c]},d]}]},operation:{kind:"Operation",name:"FBPaymentsAddCreditCardMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"add_credit_card",storageKey:null,args:b,concreteType:"AddCreditCardResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"credit_card",storageKey:null,args:null,concreteType:"ExternalCreditCard",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},d]}]}}}();e.exports=a}),null);
__d("FBPaymentsAddCreditCardMutation",["FBPaymentsModulesAPIUtils","FBPaymentsUserFacingErrorParser","RelayModern","FBPaymentsAddCreditCardMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("FBPaymentsAddCreditCardMutation.graphql")};function a(a,c,d,e){__p&&__p();c={mutation:h,variables:{input:c},onCompleted:function(a){var c;c=a==null?void 0:(c=a.add_credit_card)==null?void 0:(c=c.credit_card)==null?void 0:c.credential_id;if(c==null){a=a==null?void 0:(a=a.add_credit_card)==null?void 0:a.payments_error;a?e(b("FBPaymentsUserFacingErrorParser").parse(a)):e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}else d(c)},onError:function(a){e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}};return g(a,c)}e.exports={addCreditCard:a}}),null);
__d("FBPaymentsAddMailingAddressMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1788742307879036"};c.getQueryID=function(){"use strict";return"287751498656909"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsAddPhoneNumberMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1848062328613754"};c.getQueryID=function(){"use strict";return"2122002191346239"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsCheckoutInformationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2332355140171656"};c.getQueryID=function(){"use strict";return"526441751160674"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsCreateAffirmCredentialMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"CreateData!"}],concreteType:"CreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"affirm_credential",storageKey:null,args:null,concreteType:"PaymentAffirmCredential",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"FBPaymentsCreateAffirmCredentialMutation",id:"1770691553051242",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsCreateAffirmCredentialMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"FBPaymentsCreateAffirmCredentialMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("FBPaymentsCreateAffirmCredentialMutation",["FBPaymentsModulesAPIUtils","RelayModern","FBPaymentsCreateAffirmCredentialMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("FBPaymentsCreateAffirmCredentialMutation.graphql")};function a(a,c,d,e){c={mutation:h,variables:{input:c},onCompleted:function(a){a=(a=a)!=null?(a=a.create)!=null?(a=a.affirm_credential)!=null?a.id:a:a:a;a?d(a):e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})},onError:function(a){e(a)}};return g(a,c)}e.exports={createAffirmCredentialID:a}}),null);
__d("FBPaymentsCreateAsyncPaymentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"data",type:"CreateConsumerPaymentInputArguments!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"data",type:"CreateConsumerPaymentInputArguments!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"payment_session_type",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"payment_status",args:null,storageKey:null},f=[{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"link",args:null,storageKey:null}];f={kind:"LinkedField",alias:null,name:"payments_error",storageKey:null,args:null,concreteType:"PaymentsUserFacingError",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"error_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"flow_step",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"image",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"primary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:f},{kind:"LinkedField",alias:null,name:"secondary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:f},{kind:"ScalarField",alias:null,name:"extra_data",args:null,storageKey:null}]};var g={kind:"LinkedField",alias:null,name:"async_metadata",storageKey:null,args:null,concreteType:"ConsumerPaymentAsyncMetadata",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"health_check_poll_time_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_time_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_time_retry_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"timeout_ms",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"confirmation_message",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"receipt_url",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"FBPaymentsCreateAsyncPaymentMutation",id:"1871452776275398",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsCreateAsyncPaymentMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_consumer_payment",storageKey:null,args:b,concreteType:"ConsumerPaymentSessionStatus",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"payment_session",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d]},e,f,g,{kind:"LinkedField",alias:null,name:"order_details",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,h,i]}]}]},operation:{kind:"Operation",name:"FBPaymentsCreateAsyncPaymentMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_consumer_payment",storageKey:null,args:b,concreteType:"ConsumerPaymentSessionStatus",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"payment_session",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j,c,d]},e,f,g,{kind:"LinkedField",alias:null,name:"order_details",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j,c,h,i]}]}]}}}();e.exports=a}),null);
__d("FBPaymentsPaymentSessionCompleteCheckoutStatusUtil",["FBPaymentsUserFacingErrorParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={parse:function(a){if(!a)return null;var b=a.async_metadata,c=a.order_details,d=a.payment_session,e=a.payment_status;a=a.payments_error;return!d||!e?null:{asyncMetadata:this.parseAsyncMetaData(b),orderDetails:this.parseOrderDetails(c),paymentSession:this.parsePaymentSession(d),paymentStatus:e.toLowerCase(),paymentsError:this.parsePaymentsError(a)}},parsePaymentSession:function(a){if(!a)return null;var b=a.id;a=a.payment_session_type;return{id:b,paymentSessionType:a}},parseAsyncMetaData:function(a){if(!a)return null;var b=a.poll_time_ms,c=a.poll_time_retry_ms,d=a.timeout_ms;a=a.health_check_poll_time_ms;return{healthCheckPollTimeMs:a,pollTimeMs:b,pollTimeRetryMs:c,timeoutMs:d}},parseOrderDetails:function(a){if(!a)return null;var b=a.confirmation_message,c=a.receipt_url;a=a.id;return!b||!c?null:{id:a,confirmationMessage:b,receiptUrl:c}},parsePaymentsError:function(a){return!a?null:b("FBPaymentsUserFacingErrorParser").parse(a)}};e.exports=a}),null);
__d("FBPaymentsCreateAsyncPaymentMutation",["FBPaymentsModulesAPIUtils","FBPaymentsPaymentSessionCompleteCheckoutStatusUtil","RelayModern","FBPaymentsCreateAsyncPaymentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("FBPaymentsCreateAsyncPaymentMutation.graphql")};function a(a,c,d,e){c={mutation:h,variables:{data:c},onCompleted:function(a){a=b("FBPaymentsPaymentSessionCompleteCheckoutStatusUtil").parse(a.create_consumer_payment);d(a)},onError:function(a){a.name?e({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),title:a.summary,serverErrorMessage:a.debug_info,exceptionClass:a.name}):e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}};return g(a,c)}e.exports={createAsyncPayment:a}}),null);
__d("FBPaymentsCreateConsumerPaymentSessionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2051353384886559"};c.getQueryID=function(){"use strict";return"1832887526765587"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsCreatePaymentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CreatePaymentData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"create_payment",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"CreatePaymentData!"}],concreteType:"CreatePaymentResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"payment_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"extra_data",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"FBPaymentsCreatePaymentMutation",id:"1964273000272582",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsCreatePaymentMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"FBPaymentsCreatePaymentMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("FBPaymentsCreatePaymentMutation",["RelayModern","FBPaymentsCreatePaymentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("FBPaymentsCreatePaymentMutation.graphql")};function a(a,b,c,d){b={mutation:h,variables:{input:b},onCompleted:function(a){var b;b=(b=a)!=null?(b=b.create_payment)!=null?b.payment_id:b:b;a=(a=a)!=null?(a=a.create_payment)!=null?a.extra_data:a:a;b?c({id:b,extra_data:a}):d({})},onError:function(a){d(a)}};return g(a,b)}e.exports={createPayment:a}}),null);
__d("FBPaymentsCreatePaymentsSRTJobMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2024135217621461"};c.getQueryID=function(){"use strict";return"243373559833013"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsFetchPaymentMethodQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"payment_type",type:"AllPaymentTypeFields",defaultValue:null},{kind:"LocalArgument",name:"receiver_id",type:"ID",defaultValue:null}],b={kind:"ScalarField",alias:null,name:"currency_estimate",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"iso_alpha_two",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e=[{kind:"Variable",name:"payment_receiver_id",variableName:"receiver_id",type:"ID"},{kind:"Variable",name:"payment_type",variableName:"payment_type",type:"AllPaymentTypeFields"}],f={kind:"ScalarField",alias:null,name:"credential_type",args:null,storageKey:null},g={kind:"InlineFragment",type:"NewAffirm",selections:[f]},h={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"additional_fields",storageKey:null,args:null,concreteType:"PaymentMethodAdditionalField",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"country",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"fields",args:null,storageKey:null}]},j={kind:"InlineFragment",type:"NewPaypalBillingAgreement",selections:[h,f,i,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]};h={kind:"InlineFragment",type:"NewCreditCardOption",selections:[h,f,i,{kind:"ScalarField",alias:null,name:"available_card_types",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"available_card_categories",args:null,storageKey:null}]};f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"FBPaymentsFetchPaymentMethodQuery",id:"1010547102403601",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsFetchPaymentMethodQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"home_country",storageKey:null,args:null,concreteType:"Country",plural:!1,selections:[c]},{kind:"LinkedField",alias:null,name:"consumer_payment_account",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"new_payment_credential_options",storageKey:null,args:e,concreteType:null,plural:!0,selections:[g,j,h]}]}]}]},operation:{kind:"Operation",name:"FBPaymentsFetchPaymentMethodQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"home_country",storageKey:null,args:null,concreteType:"Country",plural:!1,selections:[c,d]},{kind:"LinkedField",alias:null,name:"consumer_payment_account",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"LinkedField",alias:null,name:"new_payment_credential_options",storageKey:null,args:e,concreteType:null,plural:!0,selections:[f,g,j,h]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}}}();e.exports=a}),null);
__d("FBPaymentsFetchPaymentMethodQuery",["RelayModern","emptyFunction","promiseDone","FBPaymentsFetchPaymentMethodQuery.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=function(){return b("FBPaymentsFetchPaymentMethodQuery.graphql")};function a(a,c,d,e){var f=d||b("emptyFunction"),i=e||b("emptyFunction");b("promiseDone")(g(a,h,c),function(a){f(a)},function(a){i(a)})}e.exports={fetchPaymentMethod:a}}),null);
__d("FBPaymentsPaymentSessionCompleteCheckoutStatusQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1980189055371764"};c.getQueryID=function(){"use strict";return"320294518747285"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsPaymentSessionCompleteCheckoutStatusSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2096017787085290",queryID:"273600123263643"})}),null);
__d("FBPaymentsPaymentSessionCompleteCheckoutStatusSubscription",["BaseGraphQLSubscription","FBPaymentsPaymentSessionCompleteCheckoutStatusSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/consumer_payment_session_status_subscribe/payment_session_id_"+a},_getQueryID:function(){return b("FBPaymentsPaymentSessionCompleteCheckoutStatusSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{data:JSON.stringify({client_subscription_id:b("uuid")(),payment_session_id:a})}},_getSubscriptionCallName:function(){return"consumer_payment_session_status_subscribe"}});e.exports=a}),null);
__d("FBPaymentsPaymentsInfoQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1803909586391507"};c.getQueryID=function(){"use strict";return"2039484642731062"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsTermsAndPoliciesQueryQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"query_params",type:"CheckoutConfigQueryParams!",defaultValue:null},{kind:"LocalArgument",name:"pay_button_label",type:"String",defaultValue:null}],b=[{kind:"Variable",name:"query_params",variableName:"query_params",type:"CheckoutConfigQueryParams!"}],c=[{kind:"Variable",name:"pay_button_label",variableName:"pay_button_label",type:"String"}],d={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"inline_view",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[e,f,g]}]},i={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},j=[d,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[e,f,g,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i]}]}];d=[d,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[e,f,g,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"query",name:"FBPaymentsTermsAndPoliciesQueryQuery",id:"1941576012527644",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsTermsAndPoliciesQueryQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"checkout_config",storageKey:null,args:b,concreteType:"CheckoutConfig",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"terms_and_policies_config",storageKey:null,args:c,concreteType:"PaymentTermsAndPoliciesConfig",plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"expanded_view",storageKey:null,args:null,concreteType:"PaymentTermsAndPoliciesExpandedView",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"title",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"header",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"actions",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!0,selections:j}]}]}]}]},operation:{kind:"Operation",name:"FBPaymentsTermsAndPoliciesQueryQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"checkout_config",storageKey:null,args:b,concreteType:"CheckoutConfig",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"terms_and_policies_config",storageKey:null,args:c,concreteType:"PaymentTermsAndPoliciesConfig",plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"expanded_view",storageKey:null,args:null,concreteType:"PaymentTermsAndPoliciesExpandedView",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"title",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"header",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"actions",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!0,selections:d}]}]}]}]}}}();e.exports=a}),null);
__d("FBPaymentsTermsAndPoliciesQuery",["RelayModern","emptyFunction","promiseDone","FBPaymentsTermsAndPoliciesQueryQuery.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=function(){return b("FBPaymentsTermsAndPoliciesQueryQuery.graphql")};function a(a,c,d,e){var f=d||b("emptyFunction"),i=e||b("emptyFunction");b("promiseDone")(g(a,h,c),function(a){f(a)},function(a){i(a)})}e.exports={fetchTermsAndPolicies:a}}),null);
__d("FBPaymentsUpdateCreditCardMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"UpdateCreditCardData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"UpdateCreditCardData!"}],c={kind:"ScalarField",alias:null,name:"credential_id",args:null,storageKey:null},d=[{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"link",args:null,storageKey:null}];d={kind:"LinkedField",alias:null,name:"payments_error",storageKey:null,args:null,concreteType:"PaymentsUserFacingError",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"error_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"flow_step",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"image",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"primary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"secondary_cta",storageKey:null,args:null,concreteType:"PaymentsUserFacingErrorCallToAction",plural:!1,selections:d},{kind:"ScalarField",alias:null,name:"extra_data",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"FBPaymentsUpdateCreditCardMutation",id:"1894731527283545",text:null,metadata:{},fragment:{kind:"Fragment",name:"FBPaymentsUpdateCreditCardMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_credit_card",storageKey:null,args:b,concreteType:"UpdateCreditCardResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"credit_card",storageKey:null,args:null,concreteType:"ExternalCreditCard",plural:!1,selections:[c]},d]}]},operation:{kind:"Operation",name:"FBPaymentsUpdateCreditCardMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_credit_card",storageKey:null,args:b,concreteType:"UpdateCreditCardResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"credit_card",storageKey:null,args:null,concreteType:"ExternalCreditCard",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},d]}]}}}();e.exports=a}),null);
__d("FBPaymentsUpdateCreditCardMutation",["FBPaymentsModulesAPIUtils","FBPaymentsUserFacingErrorParser","RelayModern","FBPaymentsUpdateCreditCardMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("FBPaymentsUpdateCreditCardMutation.graphql")};function a(a,c,d,e){__p&&__p();c={mutation:h,variables:{input:c},onCompleted:function(a){var c;c=a==null?void 0:(c=a.update_credit_card)==null?void 0:(c=c.credit_card)==null?void 0:c.credential_id;if(c==null){a=a==null?void 0:(a=a.update_credit_card)==null?void 0:a.payments_error;a?e(b("FBPaymentsUserFacingErrorParser").parse(a)):e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}else d(c)},onError:function(a){e({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}};return g(a,c)}e.exports={updateCreditCard:a}}),null);
__d("FBPaymentsUpdateMailingAddressMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2195035710570909"};c.getQueryID=function(){"use strict";return"289058645022801"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsUpdatePSDAgreementMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1854960514568368"};c.getQueryID=function(){"use strict";return"208362769773463"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsUserAddEmailMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2004527246224958"};c.getQueryID=function(){"use strict";return"1891271837582684"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("FBPaymentsModulesAPIShared",["CurrentUser","FBPaymentsAddCreditCardMutation","FBPaymentsAddMailingAddressMutationWebGraphQLMutation","FBPaymentsAddPhoneNumberMutationWebGraphQLMutation","FBPaymentsCheckoutInformationMutationWebGraphQLMutation","FBPaymentsCreateAffirmCredentialMutation","FBPaymentsCreateAsyncPaymentMutation","FBPaymentsCreateConsumerPaymentSessionMutationWebGraphQLMutation","FBPaymentsCreatePaymentMutation","FBPaymentsCreatePaymentsSRTJobMutationWebGraphQLMutation","FBPaymentsFetchPaymentMethodQuery","FBPaymentsMailingAddress","FBPaymentsModulesAPIUtils","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPaymentSessionCompleteCheckoutStatusQueryWebGraphQLQuery","FBPaymentsPaymentSessionCompleteCheckoutStatusSubscription","FBPaymentsPaymentSessionCompleteCheckoutStatusUtil","FBPaymentsPaymentsInfoQueryWebGraphQLQuery","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfiguration","FBPaymentsPriceSelectorConfigWebGraphQLQuery","FBPaymentsTermsAndPoliciesQuery","FBPaymentsUpdateCreditCardMutation","FBPaymentsUpdateMailingAddressMutationWebGraphQLMutation","FBPaymentsUpdatePSDAgreementMutationWebGraphQLMutation","FBPaymentsUserAddEmailMutationMutationWebGraphQLMutation","FBPaymentsUserFacingErrorParser","RelayFBEnvironment","RelayPaymentTokenProxyEnvironment","WebGraphQL","emptyFunction","promiseDone","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsAddCreditCardMutation").addCreditCard,h=b("FBPaymentsCreateAffirmCredentialMutation").createAffirmCredentialID,i=b("FBPaymentsCreateAsyncPaymentMutation").createAsyncPayment,j=b("FBPaymentsCreatePaymentMutation").createPayment,k=b("FBPaymentsFetchPaymentMethodQuery").fetchPaymentMethod,l=b("FBPaymentsTermsAndPoliciesQuery").fetchTermsAndPolicies,m=b("FBPaymentsUpdateCreditCardMutation").updateCreditCard;a={fetchPriceSelectorConfiguration:function(a){__p&&__p();var c=new(b("FBPaymentsPriceSelectorConfigWebGraphQLQuery"))({input:a}),d=function(c){b("FBPaymentsPriceSelectorActions").priceSelectorError({requestData:a,error:c})};c=b("WebGraphQL").exec(c);b("promiseDone")(c,function(c){try{c=c.payment_price_selector_config;c=b("FBPaymentsPriceSelectorConfiguration").fromJS(c);b("FBPaymentsPriceSelectorActions").priceSelectorLoaded({requestData:a,priceSelectorConfig:c})}catch(a){d({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),title:a.name,serverErrorMessage:a.message})}},function(a){var c;a=a.errors;a=a&&a[0]||{};d({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},acceptPSDAgreementGraphQL:function(a,c,d){__p&&__p();a=new(b("FBPaymentsUpdatePSDAgreementMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),psd_agreement_id:a,psd_agreement_state:"CONSENTED"}});var e=c||b("emptyFunction"),f=d||b("emptyFunction");c=b("WebGraphQL").exec(a);b("promiseDone")(c,function(a){a=(a=a)!=null?(a=a.update_psd_agreement)!=null?(a=a.psd_agreement)!=null?a.id:a:a:a;!a?f({message:this._getUncaughtErrorMessage()}):e(a)}.bind(this),function(a){var c;a=a.errors;a=a&&a[0]||{};f({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},addUserContactEmail:function(a,c,d,e){__p&&__p();c=new(b("FBPaymentsUserAddEmailMutationMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),payment_type:c,user_input_email_address:a,is_default:!1}});var f=d||b("emptyFunction"),g=e||b("emptyFunction");a=b("WebGraphQL").exec(c);b("promiseDone")(a,function(a){var c;c=(c=a)!=null?(c=c.add_payment_account_email)!=null?(c=c.payment_account_email)!=null?c.id:c:c:c;if(c)f(c);else{a=(c=a)!=null?(c=c.add_payment_account_email)!=null?c.payments_error:c:c;a?g(b("FBPaymentsUserFacingErrorParser").parse(a)):g({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}},function(a){var c;a=a.errors;a=a&&a[0]||{};g({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},addContactPhoneNumber:function(a,c,d){__p&&__p();a=new(b("FBPaymentsAddPhoneNumberMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),payment_type:a.payment_type,raw_phone_number:a.raw_input,is_default:a.is_default||!1}});var e=c||b("emptyFunction"),f=d||b("emptyFunction");c=b("WebGraphQL").exec(a);b("promiseDone")(c,function(a){var c,d;d=(d=a)!=null?(d=d.add_payment_account_phone)!=null?d.payment_account_phone:d:d;c=(c=d)!=null?c.id:c;if(!!d&&!!c)e(c);else{c=(d=a)!=null?(d=d.add_payment_account_phone)!=null?d.payments_error:d:d;c?f(b("FBPaymentsUserFacingErrorParser").parse(c)):f({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}},function(a){var c;a=a.errors;a=a&&a[0]||{};f({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},addMailingAddressGraphQL:function(a,c,d,e){__p&&__p();var f=a.care_of,g=a.city,h=a.country,i=a.state,j=a.street1,k=a.street2;a=a.zip;c=new(b("FBPaymentsAddMailingAddressMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),payment_type:c,care_of:f,city:g,country:h,state:i,street1:j,street2:k,postal_code:a}});var l=d||b("emptyFunction"),m=e||b("emptyFunction");f=b("WebGraphQL").exec(c);b("promiseDone")(f,function(a){__p&&__p();var c,d;d=(d=a)!=null?(d=d.add_mailing_address)!=null?(d=d.mailing_address)!=null?d.id:d:d:d;c=(c=a)!=null?(c=c.add_mailing_address)!=null?c.mailing_address:c:c;if(d&&c){c=b("FBPaymentsMailingAddress").fromJS(c);l(d,c)}else{c=(d=a)!=null?(d=d.add_mailing_address)!=null?d.payments_error:d:d;c?m(b("FBPaymentsUserFacingErrorParser").parse(c)):m({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}},function(a){var c;a=a.errors;a=a&&a[0]||{};m({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},updateMailingAddress:function(a,c,d,e,f){__p&&__p();var g=a.care_of,h=a.city,i=a.country,j=a.state,k=a.street1,l=a.street2;a=a.zip;c=new(b("FBPaymentsUpdateMailingAddressMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),mailing_address_id:c,payment_type:d,care_of:g,city:h,country:i,state:j,street1:k,street2:l,postal_code:a}});var m=e||b("emptyFunction"),n=f||b("emptyFunction");d=b("WebGraphQL").exec(c);b("promiseDone")(d,function(a){__p&&__p();var c,d;d=(d=a)!=null?(d=d.update_mailing_address)!=null?(d=d.mailing_address)!=null?d.id:d:d:d;c=(c=a)!=null?(c=c.update_mailing_address)!=null?c.mailing_address:c:c;if(d&&c){c=b("FBPaymentsMailingAddress").fromJS(c);m(d,c)}else{c=(d=a)!=null?(d=d.update_mailing_address)!=null?d.payments_error:d:d;c?n(b("FBPaymentsUserFacingErrorParser").parse(c)):n({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}},function(a){var c;a=a.errors;a=a&&a[0]||{};n({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},createPaymentsSRTJob:function(a,c,d,e){__p&&__p();c=new(b("FBPaymentsCreatePaymentsSRTJobMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),payment_type:c.paymentType,error_code:c.errorCode,flow_step:c.flowStep,user_note:a}});var f=d||b("emptyFunction"),g=e||b("emptyFunction");a=b("WebGraphQL").exec(c);b("promiseDone")(a,function(a){__p&&__p();var c,d,e;e=(e=a)!=null?(e=e.create_payments_srt_job)!=null?e.srt_job_id:e:e;a=(a=a)!=null?(a=a.create_payments_srt_job)!=null?a.confirmation_screen:a:a;d=(d=a)!=null?d.title:d;c=(c=a)!=null?c.description:c;if(!!e&&!!a&&!!d&&!!c){a={title:d,description:c};f(e,a)}else g({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})},function(a){var c;a=a.errors;a=a&&a[0]||{};g({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},updateCheckoutInformationGraphQL:function(a,c,d){__p&&__p();a=new(b("FBPaymentsCheckoutInformationMutationWebGraphQLMutation"))({input:babelHelpers["extends"]({},a,{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID()}),payment_type:a.payment_type});var e=c||b("emptyFunction"),f=d||b("emptyFunction");c=b("WebGraphQL").exec(a);b("promiseDone")(c,function(a){var c;c=(c=a)!=null?(c=c.checkout_information_mutation)!=null?c.checkout_information:c:c;if(c)e(c);else{a=(c=a)!=null?(c=c.checkout_information_mutation)!=null?c.payments_error:c:c;a?f(b("FBPaymentsUserFacingErrorParser").parse(a)):f({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})}},function(a){var c;a=a.errors[0];f({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})},addCreditCardRelayGraphQL:function(a,c,d){a=b("FBPaymentsModulesAPIUtils").prepareAddCardDataGraphQL(a);c=c||b("emptyFunction");d=d||b("emptyFunction");g(b("RelayPaymentTokenProxyEnvironment"),a,c,d)},updateCreditCardRelayGraphQL:function(a,c,d){a=b("FBPaymentsModulesAPIUtils").prepareUpdateCardDataGraphQL(a);c=c||b("emptyFunction");d=d||b("emptyFunction");m(b("RelayPaymentTokenProxyEnvironment"),a,c,d)},fetchPaymentMethodsInfoRelayGraphQL:function(a,c){k(b("RelayFBEnvironment"),a,function(c){var d,e,f;f=((f=c)!=null?(f=f.viewer)!=null?(f=f.consumer_payment_account)!=null?f.id:f:f:f)||"";e=((e=c)!=null?(e=e.viewer)!=null?(e=e.consumer_payment_account)!=null?e.new_payment_credential_options:e:e:e)||[];d=((d=c)!=null?(d=d.viewer)!=null?(d=d.home_country)!=null?d.iso_alpha_two:d:d:d)||"";c=((c=c)!=null?(c=c.viewer)!=null?c.currency_estimate:c:c)||"";f=new(b("FBPaymentsPaymentMethodsInfo"))({accountID:f,paymentMethods:[],billingCountry:d,currency:c,newPaymentOptions:e});b("FBPaymentsPaymentMethodActions").paymentMethodsLoaded({requestData:a,paymentMethodsInfo:f})},function(c){b("FBPaymentsPaymentMethodActions").paymentMethodsError({requestData:a,error:{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()}})})},fetchTermsAndPoliciesGraphQLRelay:function(a,c,d,e,f,g,h){var i=h||b("emptyFunction");l(b("RelayFBEnvironment"),{query_params:{payment_type:a,receiver_id:c,order_id:d,extra_data:JSON.stringify(e)},pay_button_label:f},function(a){a=(a=a)!=null?(a=a.checkout_config)!=null?a.terms_and_policies_config:a:a;a?g(a):i({message:this._getUncaughtErrorMessage()})}.bind(this),function(a){a=a.errors[0];i({message:this._getUncaughtErrorMessage(),exceptionClass:a.exception["class"],serverErrorMessage:a.message})}.bind(this))},completeGuestCheckoutRelayGraphQL:function(a,c,d){a=b("FBPaymentsModulesAPIUtils").prepareGuestCheckoutData(a);c=c||b("emptyFunction");d=d||b("emptyFunction");j(b("RelayPaymentTokenProxyEnvironment"),a,c,d)},fetchPaymentMethodsInfoGraphQL:function(a){__p&&__p();var c=new(b("FBPaymentsPaymentsInfoQueryWebGraphQLQuery"))({payment_type:a.paymentType,receiver_id:a.receiverID});c=b("WebGraphQL").exec(c);b("promiseDone")(c,function(c){var d,e,f,g;g=((g=c)!=null?(g=g.viewer)!=null?(g=g.consumer_payment_account)!=null?g.id:g:g:g)||"";f=((f=c)!=null?(f=f.viewer)!=null?(f=f.consumer_payment_account)!=null?f.payment_credentials:f:f:f)||[];e=((e=c)!=null?(e=e.viewer)!=null?(e=e.consumer_payment_account)!=null?e.new_payment_credential_options:e:e:e)||[];d=((d=c)!=null?(d=d.viewer)!=null?(d=d.home_country)!=null?d.iso_alpha_two:d:d:d)||"";c=((c=c)!=null?(c=c.viewer)!=null?c.currency_estimate:c:c)||"";g=new(b("FBPaymentsPaymentMethodsInfo"))({accountID:g,paymentMethods:f,billingCountry:d,currency:c,newPaymentOptions:e});b("FBPaymentsPaymentMethodActions").paymentMethodsLoaded({requestData:a,paymentMethodsInfo:g})},function(c){b("FBPaymentsPaymentMethodActions").paymentMethodsError({requestData:a,error:{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()}})})},createAffirmCredentialIDRelayGraphQL:function(a,c,d){c=c||b("emptyFunction");d=d||b("emptyFunction");h(b("RelayFBEnvironment"),a,c,d)},createPaymentSessionCompleteCheckoutStatusSubscription:function(a,c){a=b("FBPaymentsPaymentSessionCompleteCheckoutStatusSubscription").subscribe(a,function(a){a=b("FBPaymentsPaymentSessionCompleteCheckoutStatusUtil").parse(a.consumer_payment_session_status_subscribe);c(a)});return a},createAsyncCheckoutRelayGraphQL:function(a,c,d){var e=b("FBPaymentsModulesAPIUtils").prepareAsyncCheckoutData(a);a=a.csc?b("RelayPaymentTokenProxyEnvironment"):b("RelayFBEnvironment");i(a,e,c,d)},queryPaymentSessionCompleteCheckoutStatus:function(a,c,d){__p&&__p();var e=a.paymentSessionID,f=a.loggerFlowStep;a=new(b("FBPaymentsPaymentSessionCompleteCheckoutStatusQueryWebGraphQLQuery"))({input:e});e=b("WebGraphQL").exec(a);b("promiseDone")(e,function(a){a=b("FBPaymentsPaymentSessionCompleteCheckoutStatusUtil").parse(a.consumer_payment_session_status);c(a,f)},function(a){var c;a=a.errors;a=a&&a[0]||{};d({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message},f)})},createPaymentSession:function(a,c,d){__p&&__p();a=new(b("FBPaymentsCreateConsumerPaymentSessionMutationWebGraphQLMutation"))({data:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),payment_type:a.paymentType,receiver_id:a.receiverId,logging_id:a.sessionId}});var e=c||b("emptyFunction"),f=d||b("emptyFunction");c=b("WebGraphQL").exec(a);b("promiseDone")(c,function(a){a=(a=a)!=null?(a=a.create_consumer_payment_session)!=null?a.id:a:a;a?e(a):f({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()})},function(a){var c;a=a.errors;a=a&&a[0]||{};f({message:a.description||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),exceptionClass:(c=a)!=null?(c=c.exception)!=null?c["class"]:c:c,code:a.code,serverErrorMessage:a.message})})}};e.exports=a}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","FBPaymentsModulesAPIShared","immutable","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this,a),this.handleContactPhoneNumberClick=function(a){var b=this.state.contactPhoneNumbers&&this.state.contactPhoneNumbers.find(function(b){return b.id===a});this.setState({selectedContactPhoneNumber:b})}.bind(this),this.handleNewContactPhoneNumberChange=function(a,b,c){this.setState({newContactPhoneNumber:b,isNewContactPhoneNumberValid:c.isValid,validationErrorMessage:c.errorMessage})}.bind(this),this.handleAddNewContactPhoneNumber=function(){this.setState({isSavingNewContactPhoneNumber:!0,serverErrorMessage:null});var a={raw_input:this.state.newContactPhoneNumber};b("FBPaymentsModulesAPIShared").addContactPhoneNumber(a,this.handleNewContactPhoneNumberAdded,this.handleNewContactPhoneNumberAddedError)}.bind(this),this.handleNewContactPhoneNumberAdded=function(a){this.setState({isSavingNewContactPhoneNumber:!1,newContactPhoneNumberID:a,selectedContactPhoneNumber:null,showForm:!1}),this.$FBPaymentsContactPhoneNumberSelectorContainerBase1()}.bind(this),this.handleNewContactPhoneNumberAddedError=function(a){this.setState({isSavingNewContactPhoneNumber:!1,serverErrorMessage:a==null?void 0:a.message})}.bind(this),this.handleContactPhoneNumberRowClicked=function(){this.props.onRequestActive(!0)}.bind(this),this.handleCancelActiveStateClick=function(){this.props.onRequestActive(!1)}.bind(this),this.handleShowForm=function(){this.handleToggleShowForm(!0)}.bind(this),this.handleHideForm=function(){this.handleToggleShowForm(!1)}.bind(this),this.handleClearInput=function(){this.setState({isNewContactPhoneNumberValid:!1,newContactPhoneNumber:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this),this.state={contactPhoneNumbers:null,isInitialized:!1,isLoading:!1,isNewContactPhoneNumberValid:!1,isSavingNewContactPhoneNumber:!1,newContactPhoneNumber:"",newContactPhoneNumberID:null,selectedContactPhoneNumber:null,serverErrorMessage:null,showForm:!1,showHardError:!1,validationErrorMessage:null}}a.getStores=function(){return[this.__getContactInfoStore()]};a.calculateState=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a);c=b("FBPaymentsContactInfoTypes").PHONE_NUMBER;a=this.__getContactInfoStore().get(c);d.isLoading=a.isLoading();if(a.hasValue()){c=a.getValueEnforcing();d.contactPhoneNumbers=c;if(d.newContactPhoneNumberID){a=c.find(function(a){return a.id===d.newContactPhoneNumberID});a&&(d.selectedContactPhoneNumber=a,d.newContactPhoneNumber="",d.newContactPhoneNumberID=null)}else{d.isInitialized=!0;if(!d.selectedContactPhoneNumber){a=c.filter(function(a){return a.isDefault}).first();a||(a=c.first());a&&(d.selectedContactPhoneNumber=a)}}}return d};a.__calculateExtensionState=function(a){var b=!1,c={};a.selectedContactPhoneNumber&&(b=!0,c={phoneNumber:a.selectedContactPhoneNumber.intlNumberWithPlus,id:a.selectedContactPhoneNumber.id});return{isInitialized:a.isInitialized,extraData:c,ready:b}};a.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getContactInfoStore")};a.prototype.$FBPaymentsContactPhoneNumberSelectorContainerBase1=function(){var a=b("FBPaymentsContactInfoTypes").PHONE_NUMBER;this.constructor.__getContactInfoStore().fetch(a);this.setState({isLoading:!0})};a.prototype.handleToggleShowForm=function(a){this.setState({showForm:a}),this.handleClearInput()};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getView")};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getAPI")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onAddNewContactPhoneNumber:this.handleAddNewContactPhoneNumber,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactPhoneNumberClick:this.handleContactPhoneNumberClick,onHideForm:this.handleHideForm,onNewContactPhoneNumberChange:this.handleNewContactPhoneNumberChange,onRowClicked:this.handleContactPhoneNumberRowClicked,onShowForm:this.handleShowForm}))};e.exports=a}),null);
__d("FBPaymentsContactPhoneNumberSelectorViewBase.react",["fbt","FBPaymentsLinkHelper","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};a.prototype.getHardErrorMessage=function(){return g._("Please enter a phone number.")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getSaveButtonText=function(){return g._("Save")};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getContactPhoneNumberLabel=function(){return g._("Contact phone number")};a.prototype.getAddContactPhoneNumberText=function(){return g._("Add")};a.prototype.getAddContactPhoneNumberNUXText=function(){return g._("Add New Phone Number")};a.prototype.getAddContactPhoneNumberPlaceholder=function(){return g._("New phone number")};a.prototype.getSecurityMessage=function(){return g._("Your contact phone number is stored securely and only shared with the seller you're purchasing from.")};function a(){h.apply(this,arguments)}a.propTypes={contactPhoneNumbers:c.object,isActive:c.bool.isRequired,isLoading:c.bool.isRequired,isNewContactPhoneNumberValid:c.bool.isRequired,isSavingNewContactPhoneNumber:c.bool.isRequired,newContactPhoneNumber:c.string.isRequired,onAddNewContactPhoneNumber:c.func.isRequired,onCancelActiveStateClick:c.func.isRequired,onClearInput:c.func.isRequired,onContactPhoneNumberClick:c.func.isRequired,onHideForm:c.func.isRequired,onNewContactPhoneNumberChange:c.func.isRequired,onRowClicked:c.func.isRequired,onShowForm:c.func.isRequired,selectedContactPhoneNumber:c.object,serverErrorMessage:c.oneOfType([c.node,c.string]),showForm:c.bool,validationErrorMessage:c.node,showHardError:c.bool};e.exports=a}),null);
__d("FBPaymentsPhoneNumberFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getPlaceholderText=function(){return g._("Phone number")};a.prototype.render=function(){var a=this.props.enableFloatingLabel?null:this.getPlaceholderText();return b("React").createElement(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").PHONE_NUMBER_INPUT_CONFIG,placeholder:a},this.props))};function a(){h.apply(this,arguments)}a.propTypes=b("FBPaymentsFormField.react").propTypes;e.exports=a}),null);
__d("FBPaymentsContactPhoneNumberSelectorView.react",["cx","FBPaymentsContactPhoneNumberSelectorViewBase.react","FBPaymentsLoadingView.react","FBPaymentsPhoneNumberFormField.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsRichSelector.react").Option,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("FBPaymentsContactPhoneNumberSelectorViewBase.react"));h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleSelectorChange=function(a){a=a.value;this.props.onContactPhoneNumberClick(a)}.bind(this),b}a.prototype.renderContactPhoneNumberListItem=function(a){return b("React").createElement(i,{key:a.id,label:a.intlNumberWithPlus,value:a.id},b("React").createElement(b("XUIGrayText.react"),{shade:"dark"},a.intlNumberWithPlus))};a.prototype.renderServerErrorMessage=function(){return!this.props.serverErrorMessage?null:b("React").createElement(b("XUIText.react"),{className:"_14tg",display:"block",size:"meta1"},this.props.serverErrorMessage)};a.prototype.renderAddContactPhoneNumberInputListItem=function(){return b("React").createElement(i,{className:"_5kyc",clickable:!1,key:"add_contact_phone_number_input"},b("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),b("React").createElement(b("Layout.react"),null,b("React").createElement(k,null,b("React").createElement(b("FBPaymentsPhoneNumberFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"phoneNumber",onChange:this.props.onNewContactPhoneNumberChange,placeholder:this.getAddContactPhoneNumberPlaceholder(),value:this.props.newContactPhoneNumber})),b("React").createElement(j,null,b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactPhoneNumberValid,label:this.getAddContactPhoneNumberText(),onClick:this.props.onAddNewContactPhoneNumber,size:"large",use:"confirm"}))),b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isSavingNewContactPhoneNumber})))};a.prototype.renderSecurityMessageListItem=function(){return b("React").createElement(i,{className:"_2y76 _5kyc",clickable:!1,key:"security_message"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.getSecurityMessage()))};a.prototype.renderContactPhoneNumbersDropdown=function(){if(this.props.isLoading)return b("React").createElement(b("XUISpinner.react"),null);var a=this.props.contactPhoneNumbers;if(!a)return null;var c=this.props.selectedContactPhoneNumber;c=c&&c.id;return b("React").createElement(b("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactPhoneNumberNUXText(),defaultValue:c,name:"contact_phone_number_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},a.map(this.renderContactPhoneNumberListItem),this.renderAddContactPhoneNumberInputListItem(),this.renderSecurityMessageListItem())};a.prototype.render=function(){return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getContactPhoneNumberLabel()),b("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactPhoneNumbersDropdown()))};e.exports=a}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactPhoneNumberSelectorContainerBase.react","FBPaymentsContactPhoneNumberSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsContactPhoneNumberSelectorContainerBase.react"));g&&g.prototype;a.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};a.prototype.__getView=function(){return b("FBPaymentsContactPhoneNumberSelectorView.react")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsCustomOptionsContainerBase.react",["invariant","FBPaymentsExtensionInterface.react","React","abstractMethod","guid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="custom_",j="price";c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.handleCustomOptionClick=function(a){this.setState({selectedOptionID:a})}.bind(this);this.handleCustomOptionRowClicked=function(){this.props.onRequestActive(!0)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(!1)}.bind(this);this.handleAddCustomOptionClick=function(){this.props.onRequestActive(!0),this.setState({showForm:!0})}.bind(this);this.handleNewCustomOptionFormDataChange=function(a,b){this.setState({customOptionFormData:a,isCustomOptionFormValid:b})}.bind(this);this.handleRemoveCustomOptionClick=function(){var a=this.state.configuration,b=a.options;b.length===1&&b[0].optionId.startsWith(i)&&(b.pop(),this.setState({configuration:a}),this.props.onRequestActive(!1))}.bind(this);this.handleSaveNewCustomOption=function(){__p&&__p();var a=this.state.configuration,c=a.customOption||{},d=c.formFields,e=this.state.customOptionFormData;d&&e||g(0,4982);var f=e.title;e=e.price;var h;if(e){d=d.get(j);d&&d.currency||g(0,4983);h={currency:d.currency,amount:e}}d={optionId:i+b("guid")(),optionPrice:h,optionPriceList:[{label:c.priceLabel||"",price:h}],optionTitle:f};a.options.push(d);this.setState({configuration:a,customOptionFormData:null,isCustomOptionFormValid:!1,selectedOptionID:d.optionId,showForm:!1},function(){this.props.onRequestActive(!1)}.bind(this))}.bind(this);a=this.$FBPaymentsCustomOptionsContainerBase1(a.extensionConfiguration);this.state={configuration:a,customOptionFormData:null,isCustomOptionFormValid:!1,selectedOptionID:this.$FBPaymentsCustomOptionsContainerBase2(a),showForm:!1,showHardError:!1}}a.__calculateExtensionState=function(a){var b=a.configuration,c=a.selectedOptionID;if(!c)return{isInitialized:!0,extraData:{},ready:b.optional};a=b.options.find(function(a){return a.optionId===c});var d=a&&a.optionPriceList,e=c.startsWith(i);return{isInitialized:!0,extraData:{collectedDataKey:b.collectedDataKey,customOption:e?a:null,optionId:c,optionPriceList:d,priceModel:b.priceModel},ready:!0}};a.prototype.$FBPaymentsCustomOptionsContainerBase1=function(a){if(a.identifier!=="CUSTOM_OPTIONS")throw Error("Options extension must be supplied proper configuration");return a};a.prototype.$FBPaymentsCustomOptionsContainerBase2=function(a){var b=a.options;a=a.shouldPreSelect&&b.length>0;return a||b.length===1?b[0].optionId:null};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=this.$FBPaymentsCustomOptionsContainerBase1(a.extensionConfiguration);var b=null;a.options.some(function(a){if(a.optionId===this.state.selectedOptionID){b=a.optionId;return!0}return!1}.bind(this));this.setState({configuration:a,selectedOptionID:b})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsCustomOptionsContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isCustomOptionFormSaveEnabled:this.state.isCustomOptionFormValid,onAddCustomOptionClick:this.handleAddCustomOptionClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCustomOptionClick:this.handleCustomOptionClick,onCustomOptionFormDataChange:this.handleNewCustomOptionFormDataChange,onRemoveCustomOptionClick:this.handleRemoveCustomOptionClick,onRowClicked:this.handleCustomOptionRowClicked,onSaveNewCustomOption:this.handleSaveNewCustomOption}))};e.exports=a}),null);
__d("FBPaymentsAddButton.react",["ix","cx","Image.react","React","XUIButton.react","fbglyph","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("React").createElement(b("Image.react"),{className:"_2vzy",src:g("139437")});return b("React").createElement(b("XUIButton.react"),{className:b("joinClasses")("_2vzz _53q9",this.props.className),"data-testid":this.props["data-testid"],imageRight:a,label:this.props.label,onClick:this.props.onClick})};function a(){i.apply(this,arguments)}a.propTypes={label:c.node.isRequired,onClick:c.func};e.exports=a}),null);
__d("FBPaymentsCustomForm.react",["fbt","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNormalizers","FBPaymentsPriceFormField.react","FBPaymentsValidators","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i="currency";d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.renderCustomItemInfoField=function(a){__p&&__p();var c={key:a.identifier,name:a.identifier,placeholder:a.placeholderText,required:!a.optional};if(a.type===i)return b("React").createElement(b("FBPaymentsPriceFormField.react"),babelHelpers["extends"]({},c,{currency:a.currency}));var d=[],e=[];a.length&&d.push(b("FBPaymentsNormalizers").truncate(a.length));if(!a.optional){a=g._("Required");a=this.props.customNonEmptyErrorMessage||a;e.push({validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a})}return b("React").createElement(b("FBPaymentsFormField.react"),babelHelpers["extends"]({},c,{config:{normalizeOnChange:!0,normalizers:d,validations:e}}))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("FBPaymentsForm.react"),{onChange:this.props.onChange},this.props.fields.map(this.renderCustomItemInfoField))};a.propTypes={fields:c.array.isRequired,onChange:c.func.isRequired,customNonEmptyErrorMessage:c.node};e.exports=a}),null);
__d("FBPaymentsCustomOptionsViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.ADD_CUSTOM_OPTION_KEY="add_custom_option",b}a.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getAddButtonLabel=function(){return g._("Add")};a.prototype.getHardErrorMessage=function(){return g._("Please enter a valid option.")};a.propTypes={configuration:c.object.isRequired,isActive:c.bool.isRequired,isCustomOptionFormSaveEnabled:c.bool,onAddCustomOptionClick:c.func.isRequired,onCancelActiveStateClick:c.func.isRequired,onCustomOptionClick:c.func.isRequired,onCustomOptionFormDataChange:c.func.isRequired,onRemoveCustomOptionClick:c.func.isRequired,onRowClicked:c.func.isRequired,onSaveNewCustomOption:c.func.isRequired,selectedOptionID:c.string,showForm:c.bool,showHardError:c.bool};e.exports=a}),null);
__d("FBPaymentsCustomOptionsView.react",["cx","fbt","invariant","FBPaymentsAddButton.react","FBPaymentsCustomForm.react","FBPaymentsCustomOptionsViewBase.react","FBPaymentsRichSelector.react","LeftRight.react","Link.react","React","XUIButton.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("FBPaymentsRichSelector.react").Option,l="custom_";c=babelHelpers.inherits(a,b("FBPaymentsCustomOptionsViewBase.react"));j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.handleSelectorChange=function(a){if(a.value===this.ADD_CUSTOM_OPTION_KEY){this.props.onAddCustomOptionClick();return}a=a.value;this.props.onCustomOptionClick(a)}.bind(this),b}a.prototype.isCustomOption=function(a){return a.optionId.startsWith(l)};a.prototype.renderOptionItem=function(a){return b("React").createElement(k,{key:a.optionId,label:a.optionTitle,value:a.optionId},b("React").createElement(b("XUIGrayText.react"),{shade:"dark"},a.optionTitle))};a.prototype.renderAddCustomOptionButton=function(){var a=this.props.configuration.customOption;return!a?null:b("React").createElement(b("FBPaymentsAddButton.react"),{label:a.actionableTitle,onClick:this.props.onAddCustomOptionClick})};a.prototype.renderAddCustomOptionListItem=function(){var a=this.props.configuration.customOption;return!a?null:b("React").createElement(k,{className:"_5kyc _52jv",key:this.ADD_CUSTOM_OPTION_KEY,label:a.actionableTitle,value:this.ADD_CUSTOM_OPTION_KEY},b("React").createElement(b("XUIGrayText.react"),{className:"_1297"},a.actionableTitle))};a.prototype.renderCustomOptionForm=function(){var a=this.props.configuration.customOption;a||i(0,35);var c=h._("Please enter a delivery method.");return b("React").createElement("div",null,b("React").createElement("div",{className:"_1j8c _2pie"},b("React").createElement(b("XUIGrayText.react"),{className:"_3yoq _1ghk _3-96",display:"block",shade:"medium",size:"meta1"},a.title),b("React").createElement(b("FBPaymentsCustomForm.react"),{fields:Array.from(a.formFields.values()),onChange:this.props.onCustomOptionFormDataChange,customNonEmptyErrorMessage:c}),b("React").createElement(b("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"light",size:"meta1"},a.disclaimer)),b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveStateClick}),b("React").createElement(b("XUIButton.react"),{disabled:!this.props.isCustomOptionFormSaveEnabled,label:this.getAddButtonLabel(),onClick:this.props.onSaveNewCustomOption,use:"confirm"})))};a.prototype.renderCustomOptionList=function(){var a=!!this.props.configuration.customOption,c=this.props.configuration.options;if(a)if(c.length===0)return this.renderAddCustomOptionButton();else if(c.length===1&&this.isCustomOption(c[0]))return this.renderCustomOptionText(c[0]);return b("React").createElement(b("FBPaymentsRichSelector.react"),{defaultLabel:this.props.configuration.actionableTitle,defaultValue:this.props.selectedOptionID,onChange:this.handleSelectorChange},c.map(this.renderOptionItem),this.renderAddCustomOptionListItem())};a.prototype.renderCustomOptionText=function(a){return b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("XUIText.react"),{className:"_52ju",display:"block",size:"meta1"},a.optionTitle),b("React").createElement(b("Link.react"),{onClick:this.props.onRemoveCustomOptionClick},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("Remove"))))};a.prototype.render=function(){return this.props.isActive&&this.props.showForm?this.renderCustomOptionForm():b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.props.configuration.title),b("React").createElement("div",{className:"_3-8x _52jv"},this.renderCustomOptionList()))};e.exports=a}),null);
__d("FBPaymentsCustomOptionsContainer.react",["FBPaymentsCustomOptionsContainerBase.react","FBPaymentsCustomOptionsView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsCustomOptionsContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsCustomOptionsView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsExtensionManagerBase",["FBPaymentsCheckoutConstants","FBPaymentsExtensionInterface.react","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;a.prototype.getExtensionContainer=function(a){if(!g[a])throw Error("Non-existent payments extension "+a);var b=this.__getExtensionMap().get(a);if(!b)throw Error("Unimplemented payments extension "+a);return b};a.prototype.__getExtensionMap=function(){return b("abstractMethod")("FBPaymentsExtensionManagerBase","__getExtensionMap")};function a(){}e.exports=a}),null);
__d("FBPaymentsFrequencySelectorContainerBase.react",["fbt","BillingAgreementType","FBPaymentsCheckoutConstants","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","React","abstractMethod","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsCheckoutConstants").RestoreKey,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.DEFAULT_SUBSCRIPTION_PERIOD=1;this.DEFAULT_FREQUENCIES=[{label:g._("One-off Donation"),period:0,type:null}].concat(b("gkx")("676859")?[{label:g._("Daily Donation"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:b("BillingAgreementType").DAILY}]:[],[{label:g._("Monthly Donation"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:b("BillingAgreementType").MONTHLY}],b("gkx")("676860")?[{label:g._("Annual Donation"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:b("BillingAgreementType").YEARLY}]:[]);this.handleFrequencyButtonClick=function(a){var b=this.frequencyOptions[a];this.setState({selectedIndex:a,selectedOption:b});this.props.logger.setFlowStep(k.SELECT_FREQUENCY).setEventName(j.CLICK).updateExtraData({selected_frequency_option_type:b.type}).log()}.bind(this);if(a.extensionConfiguration.identifier==="FREQUENCY_SELECTOR"){a=a.extensionConfiguration;this.frequencyOptions=a.frequencyOptions||this.DEFAULT_FREQUENCIES}else this.frequencyOptions=this.DEFAULT_FREQUENCIES;a=b("FBPaymentsLinkHelper").getCurrentURI().getQueryData();var c=a[i.FREQUENCY_SELECTOR_SELECTED_TYPE];a=this.frequencyOptions.findIndex(function(a){return String(a.type)===c});a=a===-1?0:a;var d=this.frequencyOptions[a];this.state={selectedIndex:a,selectedOption:d};this.props.logger.setFlowStep(k.SELECT_FREQUENCY).setEventName(j.INIT).updateExtraData({selected_frequency_option_type:d.type}).log()}a.__calculateExtensionState=function(a){var b=!0,c={};a=a.selectedOption;a.type&&(c={subscriptionPeriod:a.period,subscriptionType:a.type});return{isInitialized:!0,extraData:c,ready:b}};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsFrequencySelectorContainerBase","__getView")};a.prototype.render=function(){var a,c=this.__getView();a=!!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.showDAFDisclaimer:a:a);return b("React").createElement(c,babelHelpers["extends"]({},this.state,{frequencyOptions:this.frequencyOptions,isActive:this.props.isActive,onFrequencyButtonClick:this.handleFrequencyButtonClick,showDAFDisclaimer:a}))};e.exports=a}),null);
__d("FBPaymentsFrequencySelectorViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.getFrequencySelectorTitle=function(){var a=this.props.frequencySelectorConfiguration;return a&&a.title||g._("Donation frequency")};a.prototype.getFrequencySelectorAdditionalString=function(){var a=this.props.showDAFDisclaimer?g._("Monthly donations will be distributed to the non-profit through Network for Good."):g._("Monthly donations will be distributed directly to the non-profit.");return a};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsFrequencySelectorView.react",["cx","FBPaymentsFrequencySelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUIRadioButtonGroup.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsFrequencySelectorViewBase.react"));h&&h.prototype;a.prototype.__renderFrequencyButtonGroup=function(){var a=this.props.frequencyOptions,c=this.props.selectedIndex;a=a.map(function(a,c){return b("React").createElement(b("XUIButton.react"),{className:"_4yu2",key:c,label:a.label,size:"xlarge",type:"button",value:c})});return b("React").createElement(b("XUIRadioButtonGroup.react"),{className:"_4yu1",onValueChange:this.props.onFrequencyButtonClick,selectedDepressed:!0,selectedValue:c},a)};a.prototype.render=function(){var a=b("React").createElement("div",{className:"_4yt_"},b("React").createElement("div",{className:"_4yu0"},this.__renderFrequencyButtonGroup()));return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getFrequencySelectorTitle()),a,this.props.selectedIndex===0?null:b("React").createElement(b("XUIGrayText.react"),{className:"_2pid",display:"block",size:"meta1"},this.getFrequencySelectorAdditionalString()))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsFrequencySelectorContainer.react",["FBPaymentsFrequencySelectorContainerBase.react","FBPaymentsFrequencySelectorView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsFrequencySelectorContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsFrequencySelectorView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorContainerBase.react",["invariant","FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","immutable","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,l=b("FBPaymentsContactInfoTypes").MAILING_ADDRESS;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.handleAddMailingAddressClick=function(){this.props.onRequestActive(!0),this.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.INIT).log()}.bind(this),this.handleEditMailingAddressClick=function(){this.props.onRequestActive(!0),this.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.INIT).log()}.bind(this),this.handleMailingAddressClick=function(a){var b=this.state.mailingAddresses&&this.state.mailingAddresses.find(function(b){return b.id===a});this.setState({selectedAddress:b});this.props.logger.setFlowStep(j.SELECT_SHIPPING_ADDRESS).setEventName(i.INIT).log()}.bind(this),this.handleCancelActiveStateClick=function(){this.setState({saveErrors:null}),this.props.onRequestActive(!1),this.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.CANCEL).log()}.bind(this),this.handleMailingAddressRowClicked=function(){this.props.onRequestActive(!0)}.bind(this),this.handleShowForm=function(){this.handleToggleShowForm(!0)}.bind(this),this.handleHideForm=function(){this.handleToggleShowForm(!1)}.bind(this),this.handleAddressFormChanged=function(a,b){this.setState({isNewAddressValid:a,newAddress:b})}.bind(this),this.handleNewAddressFormChanged=function(a,b){this.setState({newAddress:a,isNewAddressValid:b})}.bind(this),this.handleSaveNewAddress=function(){var a=this.state.newAddress;a||g(0,1094);this.setState({isSaving:!0,saveErrors:null});b("FBPaymentsModulesAPIShared").addMailingAddressGraphQL(a,this.getPaymentType(),this.handleSaveNewAddressSuccess,this.handleSaveNewAddressError);this.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.SAVE_CLICK).log()}.bind(this),this.handleSaveNewAddressSuccess=function(a,b){this.setState({isSaving:!1,newAddressID:a}),this.props.onRequestActive(!1),this.$FBPaymentsMailingAddressSelectorContainerBase1(),this.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.SUCCESS).setMailingAddressID(JSON.stringify(a)).log()}.bind(this),this.handleSaveNewAddressError=function(a){this.setState({isSaving:!1,saveErrors:a}),this.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.FAIL).setErrorMessage(JSON.stringify(a)).log()}.bind(this),this.state={currentCountry:null,isExtensionHidden:!1,isInitialized:!1,isLoading:!1,isNewAddressValid:!1,isSaving:!1,mailingAddresses:null,newAddress:null,newAddressID:null,saveErrors:null,selectedAddress:null,selectedEditAddress:null,showForm:!1,showHardError:!1}}a.getStores=function(){return[this.__getContactInfoStore()]};a.calculateState=function(a,b){__p&&__p();var c=babelHelpers["extends"]({},a);a=this.__getCustomContent(b);c.isExtensionHidden=!!a&&!!a.hideExtension;b=this.__getContactInfoStore().get(l);c.isLoading=b.isLoading();if(b.hasValue()){a=b.getValueEnforcing();c.mailingAddresses=a;if(c.newAddressID){b=a.find(function(a){return a.id===c.newAddressID});b&&(c.selectedAddress=b,c.newAddress=null,c.newAddressID=null)}else if(!c.selectedAddress){c.isInitialized=!0;b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());b&&(c.selectedAddress=b)}}a=this.__getContactInfoStore().get(k);if(a.hasValue()){b=a.getValueEnforcing().first();c.currentCountry=b}return c};a.__calculateExtensionState=function(a){var b=!1,c={},d=a.selectedAddress;a.isExtensionHidden?b=!0:d&&(b=!0,c={mailingAddressID:d.id});return{isInitialized:a.isInitialized,extraData:c,ready:b}};a.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getContactInfoStore")};a.__getCustomContent=function(a){a=a.extensionConfiguration;return a.identifier!=="SHIPPING_ADDRESS"?null:a.customContent};a.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};a.prototype.$FBPaymentsMailingAddressSelectorContainerBase1=function(){this.constructor.__getContactInfoStore().fetch(l),this.setState({isLoading:!0})};a.prototype.handleToggleShowForm=function(a){this.setState({showForm:a}),this.handleClearInput()};a.prototype.handleClearInput=function(){this.setState({currentCountry:null,isNewAddressValid:!1,newAddress:null,newAddressID:null,saveErrors:null})};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getAPI")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView(),c=this.constructor.__getCustomContent(this.props);return b("React").createElement(a,babelHelpers["extends"]({},this.state,{customContent:c,isActive:this.props.isActive,onAddMailingAddressClick:this.handleAddMailingAddressClick,onAddressFormChanged:this.handleAddressFormChanged,onEditMailingAddressClick:this.handleEditMailingAddressClick,onNewAddressFormChanged:this.handleNewAddressFormChanged,onCancelActiveStateClick:this.handleCancelActiveStateClick,onHideForm:this.handleHideForm,onMailingAddressClick:this.handleMailingAddressClick,onRowClicked:this.handleMailingAddressRowClicked,onSaveEditAddress:this.handleSaveNewAddress,onSaveNewAddress:this.handleSaveNewAddress,onShowForm:this.handleShowForm,paymentType:this.getPaymentType()}))};e.exports=a}),null);
__d("FBPaymentsAddressLabelFormField_DEPRECATED.react",["cx","fbt","React","XUISelector.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("XUISelector.react").Option;c=b("React").PropTypes;var k=[h._("Home"),h._("Work"),h._("Other")];d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={value:k[0].toString()},this.handleChange=function(a){a=a.value;this.setState({value:a});this.triggerChange(a)}.bind(this),this.triggerChange=function(a){var b=this.props.onChange;typeof b==="function"&&b(this.props.name,a,!0,!1)}.bind(this),this.renderSelectorOptions=function(){return k.map(function(a,c){return b("React").createElement(j,{key:c,value:a.toString()},a)})},c}a.prototype.componentDidMount=function(){this.triggerChange(this.state.value)};a.prototype.render=function(){return b("React").createElement(b("XUISelector.react"),{className:b("joinClasses")(this.props.className,"_e-n"),onChange:this.handleChange,name:this.props.name,value:this.state.value},this.renderSelectorOptions())};a.propTypes={onChange:c.func,name:c.string.isRequired};e.exports=a}),null);
__d("FBPaymentsAddressForm_DEPRECATED.react",["cx","fbt","FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsAddressLabelFormField_DEPRECATED.react","FBPaymentsForm_DEPRECATED.react","FBPaymentsFormField_DEPRECATED.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={formData:{},isValid:!1},this.handleValidation=function(a,b){this.setState({formData:b,isValid:a}),this.props.onValidation(a,b)}.bind(this),b}a.prototype.render=function(){var a=!!(this.props.prefilledFormData&&this.props.prefilledFormData.care_of),c=this.props.showAddressLabelSelector?b("React").createElement(b("FBPaymentsAddressLabelFormField_DEPRECATED.react"),{className:"_3-96",name:"label",ignoreStyling:!0,required:!0}):null;return b("React").createElement(b("FBPaymentsForm_DEPRECATED.react"),{errorTitle:h._("Problem while saving address"),prefilledFormData:this.props.prefilledFormData,onValidation:this.handleValidation,saveErrors:this.props.saveErrors,useGutters:!0},c,b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:!a,name:"care_of",onChange:b("emptyFunction"),placeholder:h._("Your name"),required:!0,width:100}),b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:a,name:"street1",onChange:b("emptyFunction"),placeholder:h._("Street address"),required:!0,width:100}),b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{name:"street2",onChange:b("emptyFunction"),placeholder:h._("Street address continued (optional)"),width:100}),b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{name:"city",onChange:b("emptyFunction"),placeholder:h._("Town\/City"),required:!0,width:50}),b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{name:"state",onChange:b("emptyFunction"),placeholder:h._("County\/Region"),required:!0,width:50}),b("React").createElement(b("FBPaymentsFormField_DEPRECATED.react"),{name:"zip",onChange:b("emptyFunction"),placeholder:h._("ZIP\/Postcode"),width:50}),b("React").createElement(b("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),{name:"country",onChange:b("emptyFunction"),required:!0,size:"xlarge",width:50}))};a.propTypes={onValidation:c.func.isRequired,prefilledFormData:c.object,saveErrors:c.object,showAddressLabelSelector:c.bool};a.defaultProps={onValidation:b("emptyFunction"),prefilledFormData:{},saveErrors:null,showAddressLabelSelector:!0};e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("FBPaymentsCheckoutConfigurationTypes").CustomShippingAddressContentPropTypes;d=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldHideExtension=function(){return this.props.isExtensionHidden};a.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};a.prototype.shouldUseNewAddressForm=function(){var a;return!!((a=this.props)!=null?(a=a.customContent)!=null?a.useNewAddressForm:a:a)};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getHardErrorMessage=function(){return g._("Please select a valid address.")};a.prototype.getSaveButtonText=function(){return g._("Save")};a.prototype.getMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addressLabel:a:a)||g._("Delivery address")};a.prototype.getAddMailingAddressNUXLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressNuxCta:a:a)||g._("Add Delivery Address")};a.prototype.getAddMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressPuxCta:a:a)||g._("Add New Delivery Address")};a.prototype.getAddAddressTitle=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formTitle:a:a)||g._("New delivery address")};a.prototype.getShippingAddressMessage=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formFooterMessage:a:a)||g._("Your purchase will be sent to this address.")};function a(){h.apply(this,arguments)}a.propTypes={currentCountry:d.string,customContent:c,isActive:d.bool.isRequired,isExtensionHidden:d.bool.isRequired,isLoading:d.bool.isRequired,isNewAddressValid:d.bool.isRequired,isSaving:d.bool.isRequired,mailingAddresses:d.object,onAddMailingAddressClick:d.func.isRequired,onAddressFormChanged:d.func.isRequired,onNewAddressFormChanged:d.func.isRequired,onCancelActiveStateClick:d.func.isRequired,onMailingAddressClick:d.func.isRequired,onSaveNewAddress:d.func.isRequired,saveErrors:d.object,selectedAddress:d.object,showForm:d.bool,showHardError:d.bool};e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorView.react",["cx","FBPaymentsAddButton.react","FBPaymentsAddressForm_DEPRECATED.react","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsMailingAddressSelectorViewBase.react","FBPaymentsRichSelector.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsRichSelector.react").Option,j="new_address";c=babelHelpers.inherits(a,b("FBPaymentsMailingAddressSelectorViewBase.react"));h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleSelectorChange=function(a){if(a.value===j){this.props.onAddMailingAddressClick();return}else{a=a.value;this.props.onMailingAddressClick(a)}}.bind(this),b}a.prototype.renderAddMailingAddressButton=function(){return b("React").createElement(b("FBPaymentsAddButton.react"),{label:this.getAddMailingAddressNUXLabel(),onClick:this.props.onAddMailingAddressClick})};a.prototype.renderMailingAddressListItem=function(a){return b("React").createElement(i,{key:a.id,label:a.getDisplayLabel(),value:a.id},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark"},a.label),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light"},a.getSingleLineAddressWithCountry()))};a.prototype.renderAddMailingAddressListItem=function(){return b("React").createElement(i,{className:"_52jw _5kyc",clickable:!1,key:j,label:this.getAddMailingAddressLabel(),value:j},b("React").createElement(b("XUIButton.react"),{label:this.getAddMailingAddressLabel(),onClick:this.props.onAddMailingAddressClick,size:"large",use:"confirm"}))};a.prototype.renderShippingAddressMessageListItem=function(){return b("React").createElement(i,{className:"_2y76 _5kyc",clickable:!1,key:"security_message"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.getShippingAddressMessage()))};a.prototype.renderMailingAddressesDropdown=function(){if(this.props.isLoading)return b("React").createElement(b("XUISpinner.react"),null);var a=this.props.mailingAddresses;if(!a||a.size===0)return this.renderAddMailingAddressButton();var c=this.props.selectedAddress?this.props.selectedAddress.id:j;return b("React").createElement(b("FBPaymentsRichSelector.react"),{defaultValue:c,multiple:!1,name:"mailing_address_selector",onChange:this.handleSelectorChange},a.map(this.renderMailingAddressListItem),this.renderAddMailingAddressListItem(),this.renderShippingAddressMessageListItem())};a.prototype.renderAddMailingAddress=function(){var a;a=(a=this.props.saveErrors)!=null?(a=a.general)!=null?a.message:a:a;a=a?b("React").createElement(b("XUINotice.react"),{className:"_3-96",use:"warn"},a):null;a=this.shouldUseNewAddressForm()?b("React").createElement("div",null,a,b("React").createElement(b("FBPaymentsCustomAddressForm.react"),{onChange:this.props.onNewAddressFormChanged,paymentType:this.props.paymentType})):b("React").createElement(b("FBPaymentsAddressForm_DEPRECATED.react"),{onValidation:this.props.onAddressFormChanged,saveErrors:this.props.saveErrors,prefilledFormData:{country:this.props.currentCountry}});return b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isSaving}),b("React").createElement("div",{className:"_1j8c"},b("React").createElement("div",{className:"_2pi4"},b("React").createElement(b("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:"meta1"},this.getAddAddressTitle()),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8w",display:"block",shade:"medium",size:"meta1"},this.getShippingAddressMessage())),b("React").createElement("div",{className:"_3yor"},a)),b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),b("React").createElement(b("XUIButton.react"),{disabled:!this.props.isNewAddressValid||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewAddress,size:"large",use:"confirm"})))};a.prototype.render=function(){if(this.shouldHideExtension())return null;return this.props.isActive?this.renderAddMailingAddress():b("React").createElement("div",{className:"__j9 _2ph_"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getMailingAddressLabel()),b("React").createElement("div",{className:"_3-8x _52jv"},this.renderMailingAddressesDropdown()))};e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsMailingAddressSelectorContainerBase.react","FBPaymentsMailingAddressSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsMailingAddressSelectorContainerBase.react"));g&&g.prototype;a.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__getView=function(){return b("FBPaymentsMailingAddressSelectorView.react")};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsNoteExtensionBase.react",["fbt","FBPaymentsExtensionInterface.react","FBPaymentsNormalizers","FBPaymentsValidators"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){h.constructor.call(this,a);this.DEFAULT_NOTE_MAX_LENGTH=500;this.NOTE_FIELD_NAME="note";this.handleAddNoteClick=function(){this.setState({showNoteField:!0})}.bind(this);this.handleFormChange=function(a,b){this.setState({note:a[this.NOTE_FIELD_NAME],isNoteValid:b})}.bind(this);a=(a=this.getExtensionConfig())!=null?a.optional:a;this.state={isNoteValid:!!a,note:null,showNoteField:!1,showHardError:!1}}a.__calculateExtensionState=function(a){return{isInitialized:!0,extraData:{note:a.note},ready:a.isNoteValid}};a.prototype.getExtensionConfig=function(){var a=this.props.extensionConfiguration;if(a.identifier==="NOTE")return a;else return null};a.prototype.getNoteMaxLength=function(){var a;return((a=this.getExtensionConfig())!=null?a.length:a)||this.DEFAULT_NOTE_MAX_LENGTH};a.prototype.isNoteOptional=function(){var a;return!!((a=this.getExtensionConfig())!=null?a.optional:a)};a.prototype.getNoteInputConfig=function(){var a=[];this.isNoteOptional()||a.push({validator:b("FBPaymentsValidators").nonEmpty,errorMessage:g._("Please enter a note.")});return{normalizeOnChange:!0,normalizers:[b("FBPaymentsNormalizers").truncate(this.getNoteMaxLength())],validations:a}};a.prototype.getNoteFieldPlaceholderText=function(){var a;return(a=this.getExtensionConfig())!=null?a.placeholderText:a};a.prototype.getNoteExtensionLabel=function(){return g._("Note")};a.prototype.getAddNoteButtonLabel=function(){return this.isNoteOptional()?g._("Add note (optional)"):g._("Add Note")};e.exports=a}),null);
__d("FBPaymentsNoteExtension.react",["cx","FBPaymentsAddButton.react","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNoteExtensionBase.react","LeftRight.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FBPaymentsNoteExtensionBase.react"));h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.NOTE_FIELD_ROWS=4,b}a.prototype.renderNoteField=function(){var a=this.state.note||"";return b("React").createElement(b("FBPaymentsForm.react"),{onChange:this.handleFormChange},b("React").createElement(b("FBPaymentsFormField.react"),{config:this.getNoteInputConfig(),fieldType:"textArea",name:this.NOTE_FIELD_NAME,placeholder:this.getNoteFieldPlaceholderText(),required:!this.isNoteOptional(),rows:this.NOTE_FIELD_ROWS,value:a}))};a.prototype.renderNoteButton=function(){return b("React").createElement(b("FBPaymentsAddButton.react"),{label:this.getAddNoteButtonLabel(),onClick:this.handleAddNoteClick})};a.prototype.renderNoteLength=function(){var a=this.state.note?this.state.note.length:0;return b("React").createElement("span",null,a,"/",this.getNoteMaxLength())};a.prototype.render=function(){var a=this.state.showNoteField?this.renderNoteField():this.renderNoteButton(),c=this.state.showNoteField?this.renderNoteLength():null;return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},b("React").createElement(b("LeftRight.react"),null,this.getNoteExtensionLabel(),c)),b("React").createElement("div",{className:"_3-8x _52jv"},a))};e.exports=a}),null);
__d("FBPaymentsPINState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c={fetchingSettings:!1,hasFetchedSettings:!1,needVerification:!1,pin:null,pinSettings:null,saving:!1,verified:!1};g=babelHelpers.inherits(a,b("immutable").Record(c));g&&g.prototype;a.prototype.updatePINSettings=function(a){return this.set("fetchingSettings",!1).set("hasFetchedSettings",!0).set("pinSettings",a).set("needVerification",a!=null)};a.prototype.setPINSettingsFetching=function(){return this.set("fetchingSettings",!0)};a.prototype.updatePIN=function(a){return this.set("pin",a).set("needVerification",!0)};a.prototype.createPIN=function(a){return this.set("pin",a).set("saving",!1).set("needVerification",!0)};a.prototype.pinValidated=function(a){return this.set("verified",!0).set("needVerification",!1)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINStoreBase",["FBPaymentsDispatcher","FBPaymentsPINActions","FBPaymentsPINState","FluxReduceStore","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBPaymentsDispatcher"))}a.prototype.getInitialState=function(){return new(b("FBPaymentsPINState"))()};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("FBPaymentsPINActions").types.PIN_SETTINGS_UPDATED:return a.updatePINSettings(c.data);case b("FBPaymentsPINActions").types.FETCH_PIN_SETTINGS:a=a.setPINSettingsFetching();this.__getAPI().fetchPINSettings();break;case b("FBPaymentsPINActions").types.GET_PIN_SETTINGS:a.pinSettings==null&&(a=a.setPINSettingsFetching(),this.__getAPI().fetchPINSettings());break;case b("FBPaymentsPINActions").types.UPDATE_PIN:return a.updatePIN(c.data);case b("FBPaymentsPINActions").types.CREATE_PIN:return a.createPIN(c.data);case b("FBPaymentsPINActions").types.PIN_VALIDATED:return a.pinValidated(c.data);default:return a}return a};a.prototype.hasFetchedSettings=function(){return this.getState().hasFetchedSettings};a.prototype.getPINSettings=function(){return this.getState().pinSettings};a.prototype.getData=function(){var a=this.getState();a={pin:a.pin};return a};a.prototype.isInitialized=function(){return this.hasFetchedSettings()};a.prototype.hasInitializationError=function(){return!1};a.prototype.isReady=function(){return!0};a.prototype.needsPrePaymentVerification=function(){return this.getState().needVerification};a.prototype.getPartialCheckoutRestoreData=function(){return{}};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPINStoreBase","__getAPI")};a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPINStore",["FBPaymentsModulesAPI","FBPaymentsPINStoreBase"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsPINStoreBase"));g&&g.prototype;a.prototype.__getAPI=function(){"use strict";return b("FBPaymentsModulesAPI")};function a(){"use strict";g.apply(this,arguments)}e.exports=new a()}),null);
__d("FBPaymentsPINVerificationContainerBase.react",["FBPaymentsDispatcher","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$FBPaymentsPINVerificationContainerBase1=function(a){var b=this.state;b.verificationData={verified:!0,pin:a};this.setState(b,function(){this.calculateExtensionStateAndSendUpdateImmediately(b)}.bind(this))}.bind(this),this.$FBPaymentsPINVerificationContainerBase2=function(){this.props.onRequestActiveForVerification(!1)}.bind(this),this.state={needVerification:!1,verificationData:null}}a.prototype.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(this.constructor.__getPINStore())};a.__calculateExtensionState=function(a){var b=this.__getPINStore().hasFetchedSettings(),c=this.__getPINStore().getPINSettings()!==null;return{isInitialized:b,extraData:{},ready:!0,needVerification:b&&c,verificationData:a.verificationData}};a.__getPINStore=function(){return b("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getPINStore")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,onCancelActiveForVerificationClick:this.$FBPaymentsPINVerificationContainerBase2,onPINEnter:this.$FBPaymentsPINVerificationContainerBase1}))};e.exports=a}),null);
__d("FBPaymentsPINConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={PIN_FLOW_TYPES:b("keyMirror")({ENABLE_PIN_PROTECTION:"",VALIDATE_PIN:""}),PIN_PROTECTION_REASON:b("keyMirror")({PAYMENTS:"",THREAD:""}),PIN_FLOW_STEPS:b("keyMirror")({UNKNOWN:"",VALIDATE_PIN:"",VALIDATE_PIN_TO_ENABLE:"",CREATE_PIN:"",CREATE_NEW_PIN:"",PIN_CREATED:"",DELETE_PIN_PASSWORD_CONFIRM:""}),PIN_CREATE_FLOW_STEPS:b("keyMirror")({ENTER_PIN:"",CONFIRM_PIN:"",CREATED_PIN:""})};e.exports=a}),null);
__d("FBPaymentsPINCreateViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getTitle=function(){return g._("Create PIN")};function a(){h.apply(this,arguments)}a.propTypes={bodyText:c.node.isRequired,isStepConfirmPIN:c.bool.isRequired,loadingMaskVisible:c.bool.isRequired,onToggleDialog:c.func,pinConfirmField:c.object,pinField:c.object,renderInline:c.bool};e.exports=a}),null);
__d("FBPaymentsPINInputFieldView.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=[];for(var c=0;c<4;c++)a.push(b("React").createElement("span",{key:c,className:"_5mb2"+(c<this.props.digitsLength?" _5mb8":"")}));c=[];for(var d=0;d<this.props.digitsLength;d++)c.push(b("React").createElement("span",{key:d,className:"_5mba"}));return b("React").createElement("div",{className:"_5mbb"+(this.props.shake?" _5mbc":"")},b("React").createElement("div",{className:"_5mbd"},c,b("React").createElement("span",{className:"_5mbe"+(this.props.cursorHidden?" _5mbt":"")})),a,this.props.hiddenInput)};function a(){h.apply(this,arguments)}a.propTypes={cursorHidden:c.bool.isRequired,digitsLength:c.number.isRequired,hiddenInput:c.object.isRequired,shake:c.bool.isRequired};e.exports=a}),null);
__d("FBPaymentsPINInputFieldContainer.react",["cx","AbstractTextInput.react","FBPaymentsPINInputFieldView.react","Keys","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=500;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={cursorBlinkingState:!1,digits:this.props.pin?this.props.pin.split(""):[]},this.intervalID=null,this.toggleCursorVisibility=function(){this.setState({cursorBlinkingState:!this.state.cursorBlinkingState})}.bind(this),this.onKeyDown=function(a){__p&&__p();if(this.props.disabled)return;a.keyCode===b("Keys").BACKSPACE&&a.preventDefault();if(a.repeat)return;var c=this.state.digits.slice(0);if(a.keyCode>=b("Keys").ZERO&&a.keyCode<=b("Keys").ZERO+9||a.keyCode>=b("Keys").NUMPAD_0&&a.keyCode<=b("Keys").NUMPAD_0+9){if(c.length===4)return;c.push(a.keyCode>=b("Keys").NUMPAD_0?a.keyCode-b("Keys").NUMPAD_0:a.keyCode-b("Keys").ZERO)}else a.keyCode===b("Keys").BACKSPACE&&c.pop();this.intervalID!==null&&clearInterval(this.intervalID);this.intervalID=setInterval(this.toggleCursorVisibility,i);this.setState({cursorBlinkingState:!1,digits:c});c.length===4&&this.props.onPINEnter(c.join(""))}.bind(this),this.focusHiddenInput=function(){this.refs.hiddenInput.focusInput()}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.pin!==null&&this.setState({digits:a.pin.split("")})};a.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDown),this.intervalID=setInterval(this.toggleCursorVisibility,i),this.focusHiddenInput()};a.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDown),this.intervalID!==null&&clearInterval(this.intervalID)};a.prototype.render=function(){var a=this.state.digits.length,c=this.props.disabled||this.state.cursorBlinkingState||a===4,d=b("React").createElement(b("AbstractTextInput.react"),{className:"_5mbu",pattern:"\\d*",ref:"hiddenInput",type:"number"}),e=this.props.disabled?null:this.focusHiddenInput;return b("React").createElement("div",{onClick:e},b("React").createElement(b("FBPaymentsPINInputFieldView.react"),{cursorHidden:c,digitsLength:a,hiddenInput:d,shake:this.props.shake}))};a.propTypes={disabled:c.bool.isRequired,pin:c.string,shake:c.bool.isRequired,onPINEnter:c.func.isRequired};a.defaultProps={pin:null};e.exports=a}),null);
__d("FBPaymentsPINCreateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINConstants","FBPaymentsPINCreateViewBase.react","FBPaymentsPINInputFieldContainer.react","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=b("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS,j=500;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.state={confirmFail:!1,errorMessage:"",loading:!1,pinEntered:"",shakePINInput:!1,step:i.ENTER_PIN,transition:!1},this.onPINCreated=function(a){this.setState({loading:!1}),this.props.onPINCreate(this.state.pinEntered)}.bind(this),this.onPINCreateError=function(a){this.setState({loading:!1,pinEntered:"",shakePINInput:!0}),setTimeout(function(){this.setState({errorMessage:a.message,shakePINInput:!1,step:i.ENTER_PIN,transition:!0}),setTimeout(function(){this.setState({transition:!1})}.bind(this),j)}.bind(this),j)}.bind(this),this.onPINEntered=function(a){this.state.step===i.ENTER_PIN?(this.setState({confirmFail:!1,errorMessage:"",pinEntered:a,step:i.CONFIRM_PIN,transition:!0}),setTimeout(function(){this.setState({transition:!1})}.bind(this),j)):a===this.state.pinEntered?(this.createPIN(),this.setState({loading:!0})):(this.setState({pinEntered:"",shakePINInput:!0}),setTimeout(function(){this.setState({confirmFail:!0,shakePINInput:!1,step:i.ENTER_PIN,transition:!0}),setTimeout(function(){this.setState({transition:!1})}.bind(this),j)}.bind(this),j))}.bind(this),this.handleDialogToggled=function(a){a||this.props.onCancel()}.bind(this)}a.prototype.createPIN=function(){this.__getAPI().createPIN({pin:this.state.pinEntered,payments_protected:!0},this.onPINCreated,this.onPINCreateError)};a.prototype.render=function(){__p&&__p();var a;switch(this.state.step){case i.ENTER_PIN:this.state.errorMessage?a=this.state.errorMessage:this.state.confirmFail?a=g._("PIN didn't match. Please try again."):this.props.resetPIN?a=g._("Create a new 4-digit PIN."):a=g._("Create a 4-digit PIN to use whenever you make a payment.");break;case i.CONFIRM_PIN:a=g._("Enter your PIN again to confirm.");break;default:throw new Error("Unhandled PIN create flow state!")}var c,d;(this.state.transition||this.state.step===i.ENTER_PIN)&&(c=b("React").createElement(b("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput}));(this.state.transition||this.state.step===i.CONFIRM_PIN)&&(d=b("React").createElement(b("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput}));var e=this.__getView();return b("React").createElement(e,{bodyText:a,isStepConfirmPIN:this.state.step===i.CONFIRM_PIN,loadingMaskVisible:this.props.loading||this.state.loading,onToggleDialog:this.handleDialogToggled,pinConfirmField:d,pinField:c,renderInline:this.props.renderInline})};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPINCreateContainerBase","__getAPI")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPINCreateContainerBase","__getView")};a.propTypes={loading:c.bool.isRequired,onCancel:c.func.isRequired,onPINCreate:c.func.isRequired,renderInline:c.bool,resetPIN:c.bool.isRequired};e.exports=a}),null);
__d("FBPaymentsPINCreateView.react",["cx","FBPaymentsPINCreateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsPINCreateViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.getTitle(),c=b("React").createElement("div",null,b("React").createElement(b("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),b("React").createElement("div",{className:"_2iqb"},b("React").createElement("div",{className:"_5ku5"+(this.props.isStepConfirmPIN?" _5ku6":"")},b("React").createElement("div",{className:"_2iqc"},this.props.pinField),b("React").createElement("div",{className:"_2iqc"},this.props.pinConfirmField))),b("React").createElement(b("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));return this.props.renderInline?b("React").createElement("div",{className:"_58ba"},c):b("React").createElement(b("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:!0,shown:!0},b("React").createElement(b("P2PDialogTitle.react"),null,a),b("React").createElement(b("P2PDialogBody.react"),{className:"_wjy"},c))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINCreateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINCreateContainerBase.react","FBPaymentsPINCreateView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsPINCreateContainerBase.react"));g&&g.prototype;a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__getView=function(){return b("FBPaymentsPINCreateView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINCreatedViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getTitle=function(){return g._("PIN created")};function a(){h.apply(this,arguments)}a.propTypes={bodyText:c.node.isRequired,onConfirm:c.func,onToggleDialog:c.func};e.exports=a}),null);
__d("FBPaymentsPINCreatedContainerBase.react",["fbt","FBPaymentsPINConstants","FBPaymentsPINCreatedViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=b("FBPaymentsPINConstants").PIN_PROTECTION_REASON;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleDialogToggled=function(a){a||this.props.onConfirm()}.bind(this),b}a.prototype.render=function(){var a;this.props.protectionReason===i.PAYMENTS?a=g._("You'll enter your PIN every time you make a payment."):this.props.protectionReason===i.THREAD&&(a=g._("You'll enter your PIN every time you enter this thread."));var c=this.__getView();return b("React").createElement(c,{bodyText:a,onConfirm:this.props.onConfirm,onToggleDialog:this.handleDialogToggled})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPINCreatedViewBase","__getView")};a.propTypes={onConfirm:c.func.isRequired,protectionReason:c.oneOf(Object.keys(i)).isRequired};e.exports=a}),null);
__d("FBPaymentsPINCreatedView.react",["cx","FBPaymentsPINCreatedViewBase.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsPINCreatedViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.getTitle(),c=b("React").createElement(b("P2PDialogFooter.react"),null,b("React").createElement(b("P2PButton.react"),{use:"confirm",size:"medium",label:"Continue",onClick:this.props.onConfirm}));return b("React").createElement(b("P2PDialog.react"),{onToggle:this.props.onToggleDialog,shown:!0},b("React").createElement(b("P2PDialogTitle.react"),null,a),b("React").createElement(b("P2PDialogBody.react"),{className:"_wjy"},b("React").createElement(b("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText)),c)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINCreatedContainer.react",["FBPaymentsPINCreatedContainerBase.react","FBPaymentsPINCreatedView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPINCreatedContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsPINCreatedView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINFlowContainerBase.react",["fbt","FBPaymentsDispatcher","FBPaymentsPINActions","FBPaymentsPINConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=b("FBPaymentsPINConstants").PIN_FLOW_STEPS,j=b("FBPaymentsPINConstants").PIN_FLOW_TYPES,k=b("FBPaymentsPINConstants").PIN_PROTECTION_REASON;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.handlePINDeleted=function(){this.setState({flowStep:i.CREATE_NEW_PIN})}.bind(this);this.handlePasswordReauthDialogCancelClick=function(){this.passwordCancelSubscribeToken=null,this.setState({flowStep:this.prevFlowStep})}.bind(this);this.handlePINSettingsUpdated=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.handlePINValidated=function(a){if(this.state.flowStep===i.VALIDATE_PIN){this.props.onSuccess(a);return}this.setState({pin:a,saving:!0});a={old_pin:a,payments_protected:null,thread_profiles_protected:{}};this.props.protectionReason===k.PAYMENTS?a.payments_protected=!0:a.thread_profiles_protected[this.props.protectedThread]=!0;this.__getAPI().updatePIN(a,this.handlePINSettingsUpdated)}.bind(this);this.handlePINCreated=function(a){if(this.state.flowStep===i.CREATE_NEW_PIN){this.props.onSuccess(a);return}this.setState({pin:a,flowStep:i.PIN_CREATED})}.bind(this);this.handlePINCreationConfirmed=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.__handleForgotPIN=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__handleForgotPIN")};if(this.props.flowType===j.ENABLE_PIN_PROTECTION&&this.props.protectionReason===null)throw new Error("Protection reason must be specified for enable flow");if(this.props.protectionReason===k.THREAD&&this.props.protectedThread===null)throw new Error("Thread must be specified for thread protection");this.passwordCancelSubscribeToken=null;this.prevFlowStep=i.UNKNOWN;this.state={flowStep:this.calcInitialFlowStep(),hasFetched:this.__getPINStore().hasFetchedSettings(),pin:"",saving:!1}}a.prototype.calcInitialFlowStep=function(){if(this.props.flowType===j.VALIDATE_PIN)return i.VALIDATE_PIN;else if(this.props.flowType===j.ENABLE_PIN_PROTECTION)return this.__getPINStore().hasFetchedSettings()&&this.__getPINStore().getPINSettings()!==null?i.VALIDATE_PIN_TO_ENABLE:i.CREATE_PIN;return i.UNKNOWN};a.prototype.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(this.__getPINStore())};a.prototype.componentDidMount=function(){b("FBPaymentsPINActions").fetchPINSettings(),this.pinFetched()};a.prototype.pinFetched=function(){this.__getPINStore().hasFetchedSettings()&&this.__getPINStore().getPINSettings()===null&&this.props.flowType===j.VALIDATE_PIN&&this.props.onSuccess("1111")};a.prototype.handleStoreChanged=function(){!this.state.hasFetched&&this.__getPINStore().hasFetchedSettings()&&(this.setState({flowStep:this.calcInitialFlowStep(),hasFetched:!0}),this.pinFetched())};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__getAPI")};a.prototype.__getPINStore=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__getPINStore")};a.prototype.__getCreateContainer=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreateContainer")};a.prototype.__getValidateContainer=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__getValidateContainer")};a.prototype.__getCreatedContainer=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreatedContainer")};a.prototype.render=function(){__p&&__p();switch(this.state.flowStep){case i.CREATE_PIN:case i.CREATE_NEW_PIN:var a=this.__getCreateContainer();return b("React").createElement(a,{loading:!this.state.hasFetched,onCancel:this.props.onCancel,onPINCreate:this.handlePINCreated,protectedThread:this.props.protectedThread,protectionReason:this.props.protectionReason,renderInline:this.props.renderInline,resetPIN:this.state.flowStep===i.CREATE_NEW_PIN});case i.VALIDATE_PIN:case i.VALIDATE_PIN_TO_ENABLE:case i.DELETE_PIN_PASSWORD_CONFIRM:a=g._("For your security, please enter your PIN.");this.state.flowStep===i.VALIDATE_PIN_TO_ENABLE&&(this.props.protectionReason===k.PAYMENTS?a=g._("Please verify your PIN to enable payments protection."):this.props.protectionReason===k.THREAD&&(a=g._("Please verify your PIN to enable thread protection.")));var c=this.__getValidateContainer();return b("React").createElement(c,{bodyText:a,loading:!this.state.hasFetched||this.state.saving||this.state.flowStep===i.DELETE_PIN_PASSWORD_CONFIRM,onCancel:this.props.onCancel,onForgotPIN:this.__handleForgotPIN,onValidPIN:this.handlePINValidated,renderInline:this.props.renderInline});case i.PIN_CREATED:c=this.__getCreatedContainer();return b("React").createElement(c,{onConfirm:this.handlePINCreationConfirmed,protectionReason:this.props.protectionReason});default:throw new Error("Unhandled PIN flow state!")}};a.propTypes={flowType:c.oneOf(Object.keys(j)).isRequired,onCancel:c.func.isRequired,onSuccess:c.func.isRequired,protectedThread:c.string,protectionReason:c.oneOf(Object.keys(k)),renderInline:c.bool};e.exports=a}),null);
__d("FBPaymentsPINValidateViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getTitle=function(){return g._("Enter PIN")};a.prototype.getForgotLinkText=function(){return g._("Forgotten?")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};function a(){h.apply(this,arguments)}a.propTypes={bodyText:c.node.isRequired,loadingMaskVisible:c.bool.isRequired,onCancel:c.func.isRequired,onForgotPIN:c.func.isRequired,onToggleDialog:c.func,pinField:c.object.isRequired,renderInline:c.bool};e.exports=a}),null);
__d("FBPaymentsPINValidateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINInputFieldContainer.react","FBPaymentsPINValidateViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=500;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.handlePINValidated=function(a){if(a.is_valid)this.setState({errorMessage:"",loading:!1}),this.props.onValidPIN(this.state.pinEntered);else{a=a.remain_attempts_count;this.setState({errorMessage:"",loading:!1,shakePINInput:!0,remainingAttempts:a});setTimeout(function(){this.setState({shakePINInput:!1,pinEntered:""})}.bind(this),i);a===0&&this.props.onForgotPIN()}}.bind(this),this.handlePINValidationError=function(a){this.setState({errorMessage:a.message,loading:!1,shakePINInput:!0}),setTimeout(function(){this.setState({shakePINInput:!1,pinEntered:""})}.bind(this),i)}.bind(this),this.onPINEntered=function(a){this.setState({pinEntered:a,loading:!0}),this.__getAPI().validatePIN({pin:a},this.handlePINValidated,this.handlePINValidationError)}.bind(this),this.handleDialogToggled=function(a){a||this.props.onCancel()}.bind(this),this.state={errorMessage:"",loading:!1,pinEntered:"",remainingAttempts:Infinity,shakePINInput:!1}}a.prototype.render=function(){var a=this.props.bodyText;this.state.errorMessage?a=this.state.errorMessage:this.state.remainingAttempts<=3&&(this.state.remainingAttempts===0?a=g._("Please enter your password to reset your PIN."):a=g._("You have {attempts} more tries.",[g._param("attempts",this.state.remainingAttempts)]));var c=b("React").createElement(b("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,pin:this.state.pinEntered,shake:this.state.shakePINInput}),d=this.__getView();return b("React").createElement(d,{bodyText:a,loadingMaskVisible:this.props.loading||this.state.loading,onCancel:this.props.onCancel,onForgotPIN:this.props.onForgotPIN,onToggleDialog:this.handleDialogToggled,pinField:c,renderInline:this.props.renderInline})};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPINValidateContainerBase","__getAPI")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPINValidateContainerBase","__getView")};a.propTypes={bodyText:c.node.isRequired,loading:c.bool.isRequired,onCancel:c.func.isRequired,onForgotPIN:c.func.isRequired,onValidPIN:c.func.isRequired,renderInline:c.bool};e.exports=a}),null);
__d("FBPaymentsPINValidateView.react",["cx","FBPaymentsPINValidateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsPINValidateViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.getTitle(),c=b("React").createElement("div",{className:"_2iqb"},b("React").createElement("div",{className:"_2iqc"},this.props.pinField)),d=b("React").createElement("div",{className:"_3-98"},b("React").createElement("a",{href:"#",onClick:this.props.onForgotPIN},this.getForgotLinkText()));c=b("React").createElement("div",null,b("React").createElement(b("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),c,d,b("React").createElement(b("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));return this.props.renderInline?b("React").createElement("div",{className:"_58ba"},c):b("React").createElement(b("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:!0,shown:!0},b("React").createElement("div",null,b("React").createElement(b("P2PDialogTitle.react"),null,a),b("React").createElement(b("P2PDialogBody.react"),{className:"_wjy"},c)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINValidateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINValidateContainerBase.react","FBPaymentsPINValidateView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsPINValidateContainerBase.react"));g&&g.prototype;a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__getView=function(){return b("FBPaymentsPINValidateView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINFlowContainer.react",["Arbiter","FBPaymentsModulesAPI","FBPaymentsPINConstants","FBPaymentsPINCreateContainer.react","FBPaymentsPINCreatedContainer.react","FBPaymentsPINFlowContainerBase.react","FBPaymentsPINStore","FBPaymentsPINValidateContainer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBPaymentsPINConstants").PIN_FLOW_STEPS;c=babelHelpers.inherits(a,b("FBPaymentsPINFlowContainerBase.react"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.__handleForgotPIN=function(){this.prevFlowStep=this.state.flowStep,this.setState({flowStep:h.DELETE_PIN_PASSWORD_CONFIRM}),this.passwordCancelSubscribeToken=b("Arbiter").subscribeOnce("PasswordReauthDialogCancelClick",this.handlePasswordReauthDialogCancelClick),this.__getAPI().deletePIN({force_password:!0},this.handlePINDeleted)}.bind(this),c}a.prototype.componentWillUnmount=function(){this.passwordCancelSubscribeToken&&(b("Arbiter").unsubscribe(this.passwordCancelSubscribeToken),this.passwordCancelSubscribeToken=null)};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__getPINStore=function(){return b("FBPaymentsPINStore")};a.prototype.__getCreateContainer=function(){return b("FBPaymentsPINCreateContainer.react")};a.prototype.__getValidateContainer=function(){return b("FBPaymentsPINValidateContainer.react")};a.prototype.__getCreatedContainer=function(){return b("FBPaymentsPINCreatedContainer.react")};e.exports=a}),null);
__d("FBPaymentsPINVerificationViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getBackButtonText=function(){return g._("Back")};function a(){h.apply(this,arguments)}a.propTypes={isActive:c.bool.isRequired,isActiveForVerification:c.bool.isRequired,onCancelActiveForVerificationClick:c.func.isRequired,onPINEnter:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsPINVerificationView.react",["cx","FBPaymentsPINConstants","FBPaymentsPINFlowContainer.react","FBPaymentsPINVerificationViewBase.react","FDSButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("FBPaymentsPINConstants").PIN_FLOW_TYPES;h=babelHelpers.inherits(a,b("FBPaymentsPINVerificationViewBase.react"));h&&h.prototype;a.prototype.render=function(){return this.props.isActiveForVerification?b("React").createElement("div",{className:"_2pi2"},b("React").createElement(b("FBPaymentsPINFlowContainer.react"),{flowType:i.VALIDATE_PIN,onCancel:function(){},onSuccess:this.props.onPINEnter,renderInline:!0}),b("React").createElement("div",{className:"_52ju _2ph_ _5kyc"},b("React").createElement(b("FDSButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveForVerificationClick}))):null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPINVerificationContainer.react",["FBPaymentsPINStore","FBPaymentsPINVerificationContainerBase.react","FBPaymentsPINVerificationView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsPINVerificationContainerBase.react"));g&&g.prototype;a.__getPINStore=function(){return b("FBPaymentsPINStore")};a.prototype.__getView=function(){return b("FBPaymentsPINVerificationView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPayPalBillingAgreementTypes",[],(function(a,b,c,d,e,f){"use strict";a={MIB:"mib",CIB:"cib"};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/7mbzuXyG_-9/
 */
__d("PayPalFraudNet",[],(function(a,b,c,d,e,f){__p&&__p();var g={paypal:{TYPE:"paypal",IFRAME_BASE_URL:"https://c.paypal.com",IFRAME_JS_URL:"https://c.paypal.com/webstatic/r/fb/fb-all-prod.fbi.min.js",IFRAME_URL:"https://c.paypal.com/v1/r/d/i",PP_VERSION:"20170124"}},h={VERSION:"0.3.0",config:g.paypal,time:{cd:{}},conf:{},resolveCallback:function(a){"use strict";var b;if(a!==null&&typeof a==="string"&&a!==""){b=a.split(".");if(b.length===2)return window.parent[b[0]][b[1]];else if(b.length===1)return window.parent[a]}},now:function(){"use strict";var a={};try{a=window.performance||{}}catch(a){}a.now=function(){return a.now||a.webkitNow||a.msNow||a.oNow||a.mozNow||function(){return new Date().getTime()}}();return a.now()},onEvent:function(a,b){"use strict";typeof window.addEventListener!=="undefined"?window.addEventListener(a,b,!1):typeof window.attachEvent!=="undefined"&&window.attachEvent("on"+a,b)},fbOuter:function(a){"use strict";__p&&__p();h.time.p1={};h.time.p1.fbOuterStart=new Date().getTime();return{runFbWrapper:function(b,c){__p&&__p();var d,e;h.time.runFbWrapper={};h.time.runFbWrapper.start=h.now();d=function(d){var e,f,g,i,j;j=h.config.IFRAME_BASE_URL;if(d.origin===undefined||d.origin!==j)return;try{e=JSON.parse(d.data),e.ppfn?(f=(parent.document||document).referrer,g=(parent.document||document).URL):e.cb1?c():typeof e.time!=="undefined"?(i={},i.runFbWrapper=h.time.runFbWrapper,i.runFb=e.time.runFb,b(i)):b()}catch(a){}a.time=h.time.p1;d&&e&&e.ppfn&&d.origin===j&&(e.frameReady===!0&&(i={ppfn:!0,config:a,referer:f,URL:g},d.source.postMessage(JSON.stringify(i),d.origin)))};e=function(){__p&&__p();var b="ppfniframe",c=document.createElement("iframe");h.time.runFbWrapper.createChild=h.time.runFbWrapper.insertIframeStart=h.now();h.time.p1.iframeStart=new Date().getTime();c.id=c.name=b;c.setAttribute("style","width: 0; height: 0; border: 0; position:absolute; z-index:-999");h.onEvent("message",d);document.body.appendChild(c);b=function(){typeof a.e!=="undefined"&&(h.config.IFRAME_URL=h.config.IFRAME_URL.replace(/(?!(http|https)(:\/\/))([\w]+\.){1}([\w]+\.)+([\w]+)/g,a.e));var b,c=h.config.IFRAME_URL+"?js_src="+h.config.IFRAME_JS_URL;b=document.getElementById("ppfniframe");-1===navigator.userAgent.indexOf("MSIE")?b.src=c:(b.location=c,b.src=c);typeof window.postMessage==="undefined"&&(b.src=b.src+"#"+encodeURIComponent(JSON.stringify(a)))};setTimeout(b,1)};e()}}}};function a(){"use strict";__p&&__p();var a,b,c,d,e=function(){var a="abcdefghijklmnopqrstuvwxyz0123456789",c="";for(b=0;b<32;b++)c+=a[Math.floor(Math.random()*a.length)];return c}(),f=document.createTextNode('{"f":"'+e+'","s":"FB_FLOW_ID"}'),i=document.createElement("script");i.setAttribute("type","application/json");i.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99");i.appendChild(f);f=window.parent.document.getElementsByTagName("script");f=f[f.length-1];f.parentNode.insertBefore(i,f);try{window.parent!==window&&document.getElementById("js-iframe-async")&&(i=window.parent,i.PFB_4732=h)}catch(a){}try{f=document.getElementsByTagName("script");i=parent&&parent.document&&document!==parent.document&&parent.document.getElementsByTagName("script")||[];(i===undefined||i.length===undefined)&&(i=[]);for(b=0;b<f.length+i.length;b+=1){d=b<f.length?f[b]:i[b-f.length];if(d.getAttribute("fncls")==="fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"&&d.type==="application/json"){c=d;break}}typeof c!==undefined&&(a=JSON.parse(c.text));h.conf=a;h.config=g.paypal;typeof a!==undefined&&(d=h.resolveCallback(a.cb),i=h.resolveCallback(a.cb1),h.fbOuter(a).runFbWrapper(d,i),typeof c!=="undefined"&&c.parentElement.removeChild(c))}catch(a){}return e}e.exports={collectFraudnetFeatures:a}}),null);
__d("FBPaymentsPaymentMethodSelectorContainerBase.react",["invariant","CreditCardFormParam","FBPaymentsCreditCard","FBPaymentsCreditCardVerificationHelper","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","PaymentMethodVerifyFields","PaymentModulesGating","PayPalFraudNet","QE2Logger","React","abstractMethod","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k="US",l="payment_modules_growth_www_guest_checkout";c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){__p&&__p();var c,d;h.constructor.call(this,a);this.handleBankClick=function(a){this.props.logger.setFlowStep(j.SELECT_BANK_ACCOUNT).setEventName(i.CLICK).updateExtraData({bank_name:a.name}).log(),this.setState({selectedBank:a})}.bind(this);this.handlePaymentMethodRowClicked=function(){this.props.onRequestActive(!0)}.bind(this);this.handlePaymentMethodClick=function(a){var c={needVerification:this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase3(a,this.props),selectedBank:null,selectedPaymentMethod:a,selectedPaymentMethodID:a.id,selectedPaymentMethodOrNewPaymentOption:{id:a.id,type:"paymentMethod"}};a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD&&(c.selectedBillingCountry=a.countryCode);this.setState(c);this.props.onExtensionPrePaymentCallChange(b("emptyFunction"))}.bind(this);this.handleAddPaymentMethod=function(){var a=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(a).setEventName(i.INIT).logVital();this.props.onRequestActive(!0)}.bind(this);this.handleNewPaymentOptionClick=function(a){var c=this.getLoggerFlowStepForNewPaymentOption(a);this.props.logger.setFlowStep(c).setEventName(i.INIT).logVital();this.setState({selectedNewPaymentOptionType:a,selectedPaymentMethodOrNewPaymentOption:{id:a,type:"newPaymentOption"},needVerification:!1},function(){(this.state.isNUXInlineCardFormMode||this.state.isPUXInlineCardFormMode)&&(a===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&!this.state.isNUXInlineCardFormSavingCreditCard&&this.getIsDirectChargeAllowed()?this.props.onExtensionPrePaymentCallChange(this.returnCCDataPrePaymentCall):this.props.onExtensionPrePaymentCallChange(this.handleSaveNewPaymentOptionPrePaymentCall))}.bind(this))}.bind(this);this.handleSaveCreditCardCheckboxClick=function(event){if(!this.getIsDirectChargeAllowed())return;var a=event.target.checked,b=a?i.CHECK:i.UNCHECK;this.props.logger.setFlowStep(j.CLICK_SAVE_CC_CHECKBOX).setEventName(b).log();var c=a?this.handleSaveNewPaymentOptionPrePaymentCall:this.returnCCDataPrePaymentCall;this.setState({isNUXInlineCardFormSavingCreditCard:a},function(){this.props.onExtensionPrePaymentCallChange(c)}.bind(this))}.bind(this);this.handleSaveNewPaymentOptionPrePaymentCall=function(a,c){__p&&__p();this.setState({saveErrors:null},function(){__p&&__p();this.saveNewPaymentOption(function(c){__p&&__p();var d,e=this.state.selectedNewPaymentOptionType;switch(e){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:d=new(b("FBPaymentsCreditCard"))({id:c});this.state.newPaymentOptionData||g(0,1007);var f=this.state.newPaymentOptionData.data;this.setState({verificationData:babelHelpers["extends"]({csc:f[b("CreditCardFormParam").CSC]},this.state.verificationData)});break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:d=new(b("FBPaymentsPayPalBillingAgreement"))({id:c});break;default:g(0,1008,e)}this.logNewPaymentOptionSaved(c,e);this.setState({selectedPaymentMethod:d,selectedPaymentMethodID:d.id,selectedPaymentMethodOrNewPaymentOption:{id:d.id,type:"paymentMethod"}});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});a({paymentMethod:d})}.bind(this),function(a){this.handleNewPaymentOptionSavedError(a),c()}.bind(this),c)}.bind(this))}.bind(this);this.returnCCDataPrePaymentCall=function(a,c){this.setState({saveErrors:null},function(){this.state.newPaymentOptionData||g(0,1007);var c=this.state.newPaymentOptionData.data;c[b("CreditCardFormParam").COUNTRY]||(c[b("CreditCardFormParam").COUNTRY]=this.state.billingCountry);this.setState({selectedPaymentMethod:new(b("FBPaymentsCreditCard"))({id:0})});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});a(b("FBPaymentsModulesAPIUtils").prepareInlineCardDirectChargeData(c))}.bind(this))}.bind(this);this.handleNewPaymentOptionFormDataUpdated=function(a){this.setState(function(c){var d={newPaymentOptionData:a};if(c.isNUXInlineCardFormMode&&a.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){d.selectedBillingCountry=(c=a)!=null?(c=c.data)!=null?c.country:c:c}return d})}.bind(this);this.handleSaveNewPaymentOption=function(){var a=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(a).setEventName(i.SAVE_CLICK).logVital();this.setState({isSaving:!0,saveErrors:null},function(){this.saveNewPaymentOption(this.handleNewPaymentOptionSaved,this.handleNewPaymentOptionSavedError,this.handleCancelSaveNewPaymentOption)}.bind(this))}.bind(this);this.handleNewPaymentOptionSaved=function(a){this.logNewPaymentOptionSaved(a,this.state.selectedNewPaymentOptionType);var c=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase1(this.props);b("FBPaymentsPaymentMethodActions").fetchPaymentMethods(c);this.props.onRequestActive(!1);this.setState({isLoading:!0,isSaving:!1,newCredentialID:a,newPaymentOptionData:null,selectedBank:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:!1})}.bind(this);this.handleNewPaymentOptionSavedError=function(a){var b=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(b).setEventName(i.FAIL).updateExtraData({errors:a}).log();this.setState({isSaving:!1,saveErrors:a,showForm:!0})}.bind(this);this.handleCancelSaveNewPaymentOption=function(){var a=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(a).setEventName(i.CANCEL_SAVING).log();this.setState({isSaving:!1})}.bind(this);this.handleShowCardForm=function(){this.handleToggleShowCardForm(!0)}.bind(this);this.handleHideCardForm=function(){this.handleToggleShowCardForm(!1)}.bind(this);this.handleCancelActiveStateClick=function(){var a=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(a).setEventName(i.CANCEL).log();a=this.state.isPUXInlineCardFormMode?this.state.newPaymentOptionData:null;this.setState({newPaymentOptionData:a,saveErrors:null});this.props.onRequestActive(!1)}.bind(this);this.handleCancelActiveForVerificationClick=function(){var a=this.state.selectedPaymentMethod;a=this.getLoggerFlowStepForVerification((a=a)!=null?a.type:a);this.props.logger.setFlowStep(a).setEventName(i.CANCEL).log();this.setState({convertPayPalErrorMessage:null,saveErrors:null});this.props.onExtensionWidthChange(null);this.props.onRequestActiveForVerification(!1)}.bind(this);this.handleCreditCardVerificationFormValidation=function(a,b){this.setState({creditCardVerificationData:b,isCreditCardVerificationDataValid:a})}.bind(this);this.handleConfirmCreditCardVerification=function(){var a=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase4(this.state.selectedPaymentMethod,this.props);a=b("FBPaymentsCreditCardVerificationHelper").shouldUpdateCreditCard(a);if(a){this.setState({isSaving:!0,saveErrors:null,verificationData:{verified:!1}});a=babelHelpers["extends"]((a={},a[b("CreditCardFormParam").CARD_FBID]=this.state.selectedPaymentMethodID,a),this.state.creditCardVerificationData,(a={},a[b("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType,a[b("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID(),a));this.__getAPI().updateCreditCard(a,this.completeCreditCardVerification,this.handleUpdateCreditCardError)}else this.completeCreditCardVerification()}.bind(this);this.completeCreditCardVerification=function(){var a=this.state;a.isSaving=!1;a.verificationData={verified:!0,csc:this.state.creditCardVerificationData[b("CreditCardFormParam").CSC]};this.setState(a,function(){this.calculateExtensionStateAndSendUpdateImmediately(this.state)}.bind(this))}.bind(this);this.handleUpdateCreditCardError=function(a){this.setState({isSaving:!1,saveErrors:a})}.bind(this);this.handleConvertPayPalBAToCIB=function(a){this.props.logger.setFlowStep(j.PAYPAL_CONSENT).setEventName(i.INIT).setPaymentMethodID(a.id).log(),this.setState({isConvertingPayPal:!0,convertPayPalErrorMessage:null}),({billing_agreement_id:a.id,billing_agreement_type:b("FBPaymentsPayPalBillingAgreementTypes").CIB})}.bind(this);d=!!((d=a)!=null?(d=d.checkoutExtraProps)!=null?(d=d.enableInlinePUXAndOtherEnhancements)!=null?d.field_level_errors:d:d:d);c=!!((c=a)!=null?(c=c.checkoutExtraProps)!=null?(c=c.enableInlinePUXAndOtherEnhancements)!=null?c.card_form_auto_tabbing:c:c:c);a=!!((a=a)!=null?(a=a.checkoutExtraProps)!=null?(a=a.enableInlinePUXAndOtherEnhancements)!=null?a.card_icons:a:a:a);this.state={billingCountry:null,connectPayPalURL:null,convertPayPalErrorMessage:null,creditCardVerificationData:{},fraudnetSessionID:null,isConvertingPayPal:!1,isCreditCardVerificationDataValid:!1,isInitialized:!1,isNUXInlineCardFormMode:!1,isPUXInlineCardFormMode:!1,shouldShowCardIcons:a,shouldShowFieldLevelErrors:d,enableCardFormAutoTabbing:c,isNUXInlineCardFormSavingCreditCard:!1,isPUXNewPaymentOptionTabEnabled:!1,isLoading:!1,isSaving:!1,needVerification:!1,newCredentialID:null,newPaymentOptionData:null,paymentMethodsInfo:null,saveErrors:null,selectedBank:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:!1,verificationData:null,showHardError:!1,selectedBillingCountry:null};this.isNUXInlineCardFormSavingCreditCardDefault=this.state.isNUXInlineCardFormSavingCreditCard}a.getStores=function(){return[this.__getPaymentMethodStore()]};a.$FBPaymentsPaymentMethodSelectorContainerBase1=function(a){a=a.checkoutConfiguration.paymentInfo;return{paymentType:a.paymentItemType,orderID:a.orderId,receiverID:a.receiverId,extraData:a.extraData}};a.$FBPaymentsPaymentMethodSelectorContainerBase2=function(a){__p&&__p();if(a.isSaving)return!1;var c=a.paymentMethodsInfo;if(!c)return!1;c=a.selectedPaymentMethod;if(!c)return!1;c=c.type||"";c=c===b("FBPaymentsPaymentMethodTypes").NET_BANKING;return c&&!a.selectedBank?!1:!0};a.$FBPaymentsPaymentMethodSelectorContainerBase3=function(a,c){var d=!1;switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:c=this.$FBPaymentsPaymentMethodSelectorContainerBase4(a,c);d=c.length!==0;break;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:d=a.cibConversionNeeded;break}return d};a.$FBPaymentsPaymentMethodSelectorContainerBase4=function(a,c){if(!a)return[];switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:a=new Set(a.getVerifyFields());c=(c=c)!=null?(c=c.checkoutExtraProps)!=null?c.shouldVerifyCSC:c:c;c&&a.add(b("PaymentMethodVerifyFields").CSC);return Array.from(a);default:return[]}};a.$FBPaymentsPaymentMethodSelectorContainerBase5=function(a,c){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return!!c&&c.isValid;default:return!0}};a.calculateState=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a);a=this.$FBPaymentsPaymentMethodSelectorContainerBase1(c);a=this.__getPaymentMethodStore().get(a,c.logger.getSessionID());d.isLoading=a.isLoading();if(a.hasValue()){var e,f,g;a=a.getValueEnforcing();var h=a.paymentMethods;g=(g=c)!=null?(g=g.checkoutExtraProps)!=null?g.onlyAllowUSCreditCard:g:g;g&&(h=a.paymentMethods.filter(function(a){return a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD?a.countryCode===k:!0}),a=a.set(b("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,h));d.paymentMethodsInfo=a;g=a.newPaymentOptions;a=a.billingCountry;d.billingCountry=a;var i=h.size===0,j=!i;f=!!((f=c)!=null?(f=f.checkoutExtraProps)!=null?f.enableInlineCardForm:f:f);d.isNUXInlineCardFormMode=i&&(f||b("PaymentModulesGating").isEnabledForInlineCardFormWWW);d.isPUXInlineCardFormMode=j&&!!((e=c)!=null?(e=e.checkoutExtraProps)!=null?(e=e.enableInlinePUXAndOtherEnhancements)!=null?e.inline_pux:e:e:e);d.isPUXNewPaymentOptionTabEnabled=j&&f;i&&((e=c)!=null?(e=e.checkoutExtraProps)!=null?e.isInDirectChargeExperiment:e:e)&&b("QE2Logger").logExposureForUser(l);j=g.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL})||{};d.connectPayPalURL=j.url;if(d.newCredentialID){f=h.find(function(a){return a.id===d.newCredentialID});if(f){d.selectedBank=null;d.selectedPaymentMethod=f;d.selectedPaymentMethodID=f.id;d.selectedBillingCountry=((i=f)!=null?i.countryCode:i)||a;d.newCredentialID=null;d.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(f,c)}}else{d.isInitialized=!0;if(!d.selectedPaymentMethod){e=b("FBPaymentsLinkHelper").isCurrentURIReturnedFromPaypal();j=h.first();i=e?h.findLast(function(a){return a.getType()===b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT})||j:j;if(i){d.selectedBank=null;d.selectedPaymentMethod=i;d.selectedPaymentMethodID=i.id;d.selectedBillingCountry=((f=i)!=null?f.countryCode:f)||a;d.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(i,c);d.selectedPaymentMethodOrNewPaymentOption={id:d.selectedPaymentMethodID,type:"paymentMethod"}}}if(!d.selectedNewPaymentOptionType){e=g.first();e&&(d.selectedNewPaymentOptionType=e.type)}}}d.fraudnetSessionID==null&&d.selectedPaymentMethod&&d.selectedPaymentMethod.type==b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT&&(d.fraudnetSessionID=b("PayPalFraudNet").collectFraudnetFeatures());return d};a.__calculateExtensionState=function(a){var b=!1,c={fraudnetSessionID:a.fraudnetSessionID,selectedBillingCountry:a.selectedBillingCountry||a.billingCountry};(a.isPUXInlineCardFormMode||a.enableInlinePaymentMethodsSelector)&&a.selectedPaymentMethodOrNewPaymentOption&&a.selectedPaymentMethodOrNewPaymentOption.type==="newPaymentOption"||a.isNUXInlineCardFormMode?b=this.$FBPaymentsPaymentMethodSelectorContainerBase5(a.selectedNewPaymentOptionType,a.newPaymentOptionData):this.$FBPaymentsPaymentMethodSelectorContainerBase2(a)&&(b=!0,c=babelHelpers["extends"]({bank:a.selectedBank,paymentMethod:a.selectedPaymentMethod,paymentMethodID:a.selectedPaymentMethodID},c));return{isInitialized:a.isInitialized,extraData:c,ready:b,needVerification:a.needVerification,verificationData:a.verificationData}};a.__getPaymentMethodStore=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getPaymentMethodStore")};a.prototype.getLoggerFlowStepForNewPaymentOption=function(a){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return j.ADD_CARD;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return j.ADD_PAYPAL;default:return""}};a.prototype.getLoggerFlowStepForVerification=function(a){switch(a){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return j.VERIFY_CARD;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return j.PAYPAL_CONSENT;default:return""}};a.prototype.getLoggerSessionID=function(){return this.props.logger.getSessionID()};a.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};a.prototype.getIsDirectChargeAllowed=function(){var a;return!!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.isDirectChargeEnabled:a:a)&&this.state.isNUXInlineCardFormMode};a.prototype.shouldShowCreditCardCountrySelector=function(){var a;return!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.onlyAllowUSCreditCard:a:a)};a.prototype.saveNewPaymentOption=function(a,c,d){__p&&__p();var e=this.state.selectedNewPaymentOptionType;switch(e){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:var f=this.state.newPaymentOptionData;f||g(0,1009,e);var h=this.props.checkoutConfiguration.paymentInfo;f=f.data;f[b("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType;f[b("CreditCardFormParam").RECEIVER_ID]=h.receiverId;f[b("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID();f[b("CreditCardFormParam").COUNTRY]||(f[b("CreditCardFormParam").COUNTRY]=this.state.billingCountry);this.__getAPI().addCreditCard(f,a,c);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.__connectPayPal(a,c,d);break;default:g(0,1008,e)}};a.prototype.logNewPaymentOptionSaved=function(a,b){b=this.getLoggerFlowStepForNewPaymentOption(b);this.props.logger.setFlowStep(b).setEventName(i.SUCCESS).setPaymentMethodID(a).logVital()};a.prototype.handleToggleShowCardForm=function(a){this.setState({newPaymentOptionData:null,saveErrors:null,showForm:a})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getView")};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getAPI")};a.prototype.__connectPayPal=function(a,c,d){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__connectPayPal")};a.prototype.render=function(){var a,c=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase5(this.state.selectedNewPaymentOptionType,this.state.newPaymentOptionData);a=!!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.enableInlinePaymentMethodsSelector:a:a);var d=this.__getView();return b("React").createElement(d,babelHelpers["extends"]({},this.state,{enableInlinePaymentMethodsSelector:a,isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,isDirectChargeAllowed:this.getIsDirectChargeAllowed(),logger:this.props.logger,newPaymentOptionSaveEnabled:c,onAddPaymentMethodClick:this.handleAddPaymentMethod,onBankClick:this.handleBankClick,onCancelActiveForVerificationClick:this.handleCancelActiveForVerificationClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onConfirmCreditCardVerification:this.handleConfirmCreditCardVerification,onConvertPayPalBAToCIB:this.handleConvertPayPalBAToCIB,onCreditCardVerificationFormValidation:this.handleCreditCardVerificationFormValidation,onExtensionWidthChange:this.props.onExtensionWidthChange,onHideCardForm:this.handleHideCardForm,onNewPaymentOptionClick:this.handleNewPaymentOptionClick,onNewPaymentOptionFormDataUpdated:this.handleNewPaymentOptionFormDataUpdated,onPaymentMethodClick:this.handlePaymentMethodClick,onRowClicked:this.handlePaymentMethodRowClicked,onSaveCreditCardCheckboxClick:this.handleSaveCreditCardCheckboxClick,onSaveNewPaymentOption:this.handleSaveNewPaymentOption,onShowCardForm:this.handleShowCardForm,shouldShowCreditCardCountrySelector:this.shouldShowCreditCardCountrySelector()}))};e.exports=a}),null);
__d("FBPaymentsRadioAccordionItemBase.react",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.ICON_HEIGHT_PX=30,this.ICON_WIDTH_PX=30,this.handleLabelClick=function(){this.props.onLabelClick(this.props.value)}.bind(this),b}a.defaultProps={onLabelClick:b("emptyFunction")};e.exports=a}),null);
__d("FBPaymentsAccordion.react",["FBPaymentsRadioAccordionItemBase.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a);this.handleItemClicked=function(a){this.props.onSelect(a)}.bind(this);var b=a.selectedValue||a.defaultSelectedValue;b&&!a.disableDefaultOnSelectExecution&&this.props.onSelect(b)}a.prototype.render=function(){var a=this.props.selectedValue||this.props.defaultSelectedValue,c=[];this.props.children&&b("React").Children.forEach(this.props.children,function(d,e){if(!d)return;e={hideRadioButton:this.props.hideRadioButtons,onLabelClick:this.handleItemClicked,selected:a===d.props.value};c.push(b("React").cloneElement(d,e))}.bind(this));return b("React").createElement("div",{className:this.props.className},c)};e.exports=a}),null);
__d("FBPaymentsConsentViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}a.propTypes={consentContent:c.node.isRequired,logoSrc:c.object,subtitle:c.node,termsAndPoliciesText:c.node.isRequired,title:c.node};e.exports=a}),null);
__d("FBPaymentsConsentView.react",["cx","FBPaymentsConsentViewBase.react","Image.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsConsentViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.props.logoSrc?b("React").createElement(b("Image.react"),{src:this.props.logoSrc}):null,c=this.props.title?b("React").createElement("div",{className:"_1awf"},this.props.title):null,d=this.props.subtitle?b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3",weight:"bold"},this.props.subtitle):null;return b("React").createElement("div",{className:"_1awe"},b("React").createElement("div",{className:"_52jv"},a,c),d,b("React").createElement(b("XUIGrayText.react"),{className:"_1awg",display:"block",shade:"medium",size:"header3"},this.props.consentContent),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3"},this.props.termsAndPoliciesText))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCreditCardVerificationForm_DEPRECATED.react",["FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationHelper","FBPaymentsLoggerBase","PaymentMethodVerifyFields","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.getVerifyFields=function(){return Array.from(new Set([b("PaymentMethodVerifyFields").CSC].concat(this.props.verifyFields)))};a.prototype.render=function(){var a=this.getVerifyFields(),c=b("FBPaymentsCreditCardVerificationHelper").getVerifyFieldsMessage(a),d=b("FBPaymentsCreditCardVerificationHelper").shouldVerifyZIP(a);return b("React").createElement(b("FBPaymentsCreditCardForm_DEPRECATED.react"),{autoTab:!0,cscMaxLength:this.props.cscMaxLength,enableExpInVerifyMode:this.props.enableExpInVerifyMode,enableFloatingLabel:this.props.enableFloatingLabel,hideCreditCardNumber:this.props.hideCreditCardNumber,logger:this.props.logger,onValidation:this.props.onValidation,prefilledFormData:this.props.prefilledFormData,saveErrors:this.props.saveErrors||c,showCountryField:d,showHardErrorMessage:this.props.showHardErrorMessage,showFieldLevelErrors:this.props.showFieldLevelErrors,showIcons:!1,showLabels:!0,showZipCodeField:d,useGutters:this.props.useGutters,useV2FormAlignment:this.props.useV2FormAlignment,verifyFields:a})};function a(){g.apply(this,arguments)}a.propTypes={cscMaxLength:c.number,onValidation:c.func.isRequired,prefilledFormData:c.object.isRequired,saveErrors:c.object,useGutters:c.bool,verifyFields:c.arrayOf(c.oneOf(Object.values(b("PaymentMethodVerifyFields")))).isRequired};a.defaultProps={cscMaxLength:3,enableExpInVerifyMode:!1,useGutters:!0,verifyFields:[b("PaymentMethodVerifyFields").CSC]};e.exports=a}),null);
__d("ZipcodeCollectIndicatorFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUIRED:"required",HIDDEN:"hidden",OPTIONAL:"optional"})}),null);
__d("FBPaymentsPaymentMethodSelectorViewBase.react",["fbt","invariant","ix","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsMethodType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","immutable","React","ZipcodeCollectIndicatorFields"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("immutable").List,l=b("FBPaymentsLoggerConstants").LoggerEvent,m=b("FBPaymentsLoggerConstants").LoggerFlowStep;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.handleCreditCardFormValidation=function(a,c){c={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:c||{},isValid:a};this.props.onNewPaymentOptionFormDataUpdated(c)}.bind(this),c}a.prototype.isNUXInlineCardFormMode=function(){return this.props.isNUXInlineCardFormMode};a.prototype.isPUXInlineCardFormMode=function(){return this.props.isPUXInlineCardFormMode};a.prototype.shouldShowCardIcons=function(){return this.props.shouldShowCardIcons};a.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};a.prototype.enableCardFormAutoTabbing=function(){return this.props.enableCardFormAutoTabbing};a.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};a.prototype.enableInlinePaymentMethodsSelector=function(){return this.props.enableInlinePaymentMethodsSelector};a.prototype.getAdditionalFields=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return a?a.additionalFields:null};a.prototype.getPaymentMethods=function(){var a=this.props.paymentMethodsInfo||{};return a.paymentMethods||k()};a.prototype.getNewPaymentOptions=function(){var a=this.props.paymentMethodsInfo||{};return a.newPaymentOptions||k()};a.prototype.getPaymentMethodSubtype=function(a){var c=a.type;Object.values(b("FBPaymentsPaymentMethodTypes")).includes(c)||h(0,3608,c);switch(c){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return a.cardType;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return b("FBPaymentsMethodType").PAYPAL;case b("FBPaymentsPaymentMethodTypes").MANUAL_TRANSFER:return b("FBPaymentsMethodType").MANUAL_TRANSFER;case b("FBPaymentsPaymentMethodTypes").NET_BANKING:return b("FBPaymentsMethodType").NET_BANKING;default:return""}};a.prototype.getShowZipCodeField=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return!a?!1:a.zipFieldProperty!==b("ZipcodeCollectIndicatorFields").HIDDEN};a.prototype.getCreditCardAvailableCardTypes=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return!a?null:Array.from(a.availableCardTypes)};a.prototype.getShouldShowCreditCardCountrySelector=function(){return this.props.shouldShowCreditCardCountrySelector};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getSaveButtonText=function(){switch(this.props.selectedNewPaymentOptionType){case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return g._("Connect");default:return g._("Save")}};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getBankNameLabel=function(){return g._("Bank name")};a.prototype.getPayButtonText=function(){return g._("Pay")};a.prototype.getPayPalConfirmButtonText=function(){return g._("Confirm and Pay")};a.prototype.getPaymentMethodLabel=function(){return g._("Payment method")};a.prototype.getAddPaymentMethodLabel=function(){return g._("Add New Payment Method")};a.prototype.getAddPaymentMethodNUXLabel=function(){return g._("Add Payment Method")};a.prototype.getAddCardLabel=function(){return this.isPUXInlineCardFormMode()?g._("Use New Card"):g._("Add New Card")};a.prototype.getNewPaymentOptionTabLabel=function(a){var c=a.getCallToActionTitle();this.props.isDirectChargeAllowed&&(a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&(c=g._("Pay with credit or debit card")));return c};a.prototype.getAddPayPalLabel=function(){return this.isPUXInlineCardFormMode()?g._("Use PayPal"):g._("Connect PayPal")};a.prototype.getAddPaymentMethodHeader=function(){return g._("Add a payment method")};a.prototype.getDefaultBankSelectorOptionLabel=function(){return g._("Select a bank")};a.prototype.getHardErrorMessage=function(){return g._("Please select a valid payment method.")};a.prototype.getPayPalLogoSrc=function(){return i("95544")};a.prototype.getPayPalBrandSrc=function(){return i("303560")};a.prototype.getPayPalConnectMessage=function(){return g._("Connect your PayPal account to complete this payment through Facebook.")};a.prototype.getPayPalConsentTitle=function(){return g._("Update to your pre-approved payments")};a.prototype.getPayPalConsentSubtitle=function(){return g._("You can now use your pre-approved Facebook payment authorisation wherever PayPal is available when you pay on Facebook.")};a.prototype.getPayPalConsentPoliciesText=function(a){return g._("View {=Paypal Policies} and your payment method rights.",[g._param("=Paypal Policies",b("React").createElement("a",{href:a,target:"_blank"},g._("PayPal Policies")))])};a.prototype.getSecurityMessage=function(){var a=b("React").createElement("a",{href:b("FBPaymentsLinkHelper").getPayerProtectionURI(),onClick:function(){switch(this.props.selectedNewPaymentOptionType){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:this.props.logger.setFlowStep(m.ADD_CARD).setEventName(l.TERMS_CLICK).log();break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.props.logger.setFlowStep(m.ADD_PAYPAL).setEventName(l.TERMS_CLICK).log();break}}.bind(this),target:"_blank"},g._("Learn more"));return this.props.isDirectChargeAllowed?g._("We use secure transmission and encrypted storage to protect your financial information. {Link. =Learn more}",[g._param("Link. =Learn more",a)]):g._("Your payment information is encrypted and stored with bank-level security. {Link. =Learn more}",[g._param("Link. =Learn more",a)])};a.prototype.getCSCVerificationMessage=function(a){if(a===4)return g._("For your security, please re-enter the four-digit security code on the front of your card.");else return g._("For your security, please re-enter the three-digit security code on the back of your card.")};a.propTypes={billingCountry:c.string,convertPayPalErrorMessage:c.node,isActive:c.bool.isRequired,isActiveForVerification:c.bool.isRequired,isConvertingPayPal:c.bool.isRequired,isCreditCardVerificationDataValid:c.bool.isRequired,isDirectChargeAllowed:c.bool.isRequired,isLoading:c.bool.isRequired,isNUXInlineCardFormMode:c.bool.isRequired,isPUXInlineCardFormMode:c.bool.isRequired,shouldShowCardIcons:c.bool.isRequired,shouldShowFieldLevelErrors:c.bool.isRequired,enableCardFormAutoTabbing:c.bool.isRequired,isNUXInlineCardFormSavingCreditCard:c.bool,isPUXNewPaymentOptionTabEnabled:c.bool.isRequired,isSaving:c.bool.isRequired,logger:c.instanceOf(b("FBPaymentsLoggerBase")).isRequired,newPaymentOptionData:c.object,newPaymentOptionSaveEnabled:c.bool.isRequired,onAddPaymentMethodClick:c.func.isRequired,onBankClick:c.func,onCancelActiveForVerificationClick:c.func.isRequired,onCancelActiveStateClick:c.func.isRequired,onConfirmCreditCardVerification:c.func.isRequired,onConvertPayPalBAToCIB:c.func.isRequired,onCreditCardVerificationFormValidation:c.func.isRequired,onExtensionWidthChange:c.func.isRequired,onHideCardForm:c.func.isRequired,onNewPaymentOptionClick:c.func.isRequired,onNewPaymentOptionFormDataUpdated:c.func,onPaymentMethodClick:c.func.isRequired,onRowClicked:c.func.isRequired,onSaveCreditCardCheckboxClick:c.func.isRequired,onSaveNewPaymentOption:c.func,onShowCardForm:c.func.isRequired,paymentMethodsInfo:c.object,saveErrors:c.object,selectedNewPaymentOptionType:c.string,selectedPaymentMethod:c.object,selectedPaymentMethodID:c.string,selectedPaymentMethodOrNewPaymentOption:c.object,shouldShowCreditCardCountrySelector:c.bool,showForm:c.bool,showHardError:c.bool,enableInlinePaymentMethodsSelector:c.bool};e.exports=a}),null);
__d("FBPaymentsRadioAccordionItem.react",["ix","cx","FBPaymentsRadioAccordionItemBase.react","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("FBPaymentsRadioAccordionItemBase.react"));i&&i.prototype;a.prototype.getCardIconsView=function(){return!this.props.iconSrcs?null:b("React").createElement("div",null,this.props.iconSrcs.map(function(a,c){return b("React").createElement("span",{className:"_3-99",key:c},b("React").createElement(b("Image.react"),{height:this.ICON_HEIGHT_PX,width:this.ICON_WIDTH_PX,src:a}))}.bind(this)))};a.prototype.getIconLeftView=function(){return!this.props.iconLeft?null:b("React").createElement(b("Image.react"),{className:"_np-",height:this.ICON_HEIGHT_PX,width:this.ICON_WIDTH_PX,src:this.props.iconLeft})};a.prototype.render=function(){var a=this.props.selected===!0,c="_1q0f"+(a?" _1q0g":"")+(this.props.fullBleedSection?" _1q0h":""),d="_1q0l"+(a?"":" _1q0m"),e=a?g("538271"):g("415121");e=this.props.hideRadioButton?null:b("React").createElement(b("Image.react"),{className:"_1q0q",src:e});return b("React").createElement("div",{className:"_1q0r"},b("React").createElement(b("ShimButton.react"),{onClick:this.handleLabelClick},b("React").createElement(b("FlexLayout.react"),{align:"center",className:d,justify:"all"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"start"},e,this.getIconLeftView(),b("React").createElement(b("FDSText.react"),{margin:"_3-8o",size:"header4"},this.props.label)),this.getCardIconsView())),b("React").createElement("div",{className:c},a?this.props.children:null))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsTabBar.react",["cx","invariant","React","TabBar.react","TabBarItem.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){i.constructor.call(this,a);var b=a.tabs;a=a.defaultActiveTabKey;b.size!==0||h(0,699);a=a||b.first().key;this.state={defaultActiveTabKey:a};this.props.onTabClick(a)}a.prototype.$1=function(a){return b("React").createElement(k,{key:a.key},a.label)};a.prototype.render=function(){var a=this.props.tabs,c=a.size===1;return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("TabBar.react"),{activeTabKey:this.props.activeTabKey,className:"_24a0"+(c?"":" _hl-")+(c?" _hl_":""),defaultActiveTabKey:this.state.defaultActiveTabKey,onTabClick:this.props.onTabClick},a.map(this.$1)))};j=babelHelpers.inherits(k,b("React").PureComponent);j&&j.prototype;k.prototype.render=function(){return b("React").createElement(b("TabBarItem.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_24a1")}),this.props.children)};function k(){j.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorView.react",["cx","fbt","invariant","ix","CreditCardFormParam","FBPaymentsAccordion.react","FBPaymentsAddButton.react","FBPaymentsConsentView.react","FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationForm_DEPRECATED.react","FBPaymentsLoadingView.react","FBPaymentsLoggerConstants","FBPaymentsMethodType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodIcon.react","FBPaymentsPaymentMethodListItemView.react","FBPaymentsPaymentMethodSelectorViewBase.react","FBPaymentsPaymentMethodTypes","FBPaymentsRadioAccordionItem.react","FBPaymentsRichSelector.react","FBPaymentsTabBar.react","FBPaymentsWebdriverTestIDs","Image.react","InputLabel.react","Layout.react","PaymentMethodUtils","PaymentModulesGating","React","XUIButton.react","XUICheckboxInput.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","immutable"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("immutable").List,m=b("FBPaymentsRichSelector.react").Option,n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=b("FBPaymentsLoggerConstants").LoggerEvent,q=b("FBPaymentsLoggerConstants").LoggerFlowStep,r="add_payment_method",s=650;c=babelHelpers.inherits(a,b("FBPaymentsPaymentMethodSelectorViewBase.react"));k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.handleBankSelectorChange=function(a){var c=this.props.selectedPaymentMethod,d=c&&c.type;if(!c||d!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return;c.banks||i(0,315);var e=a.value;d=c.banks.find(function(a){return a.code===e});this.props.onBankClick&&this.props.onBankClick(d)}.bind(this),this.handlePaymentMethodSelectorChange=function(a){__p&&__p();if(a.value===r){this.props.onAddPaymentMethodClick();return}else{var b=a.value;a=this.getPaymentMethods();a=a.find(function(a){return a.id===b});this.props.onPaymentMethodClick(a)}}.bind(this),this.handleTogglePaymentMethodsDropdown=function(a){a&&this.props.logger.setFlowStep(q.SELECT_PAYMENT_METHOD).setEventName(p.INIT).log()}.bind(this),this.renderPaymentMethodListItem=function(a){var c=b("React").createElement(b("Layout.react"),null,b("React").createElement(n,{className:"_3-90"},b("React").createElement(b("FBPaymentsPaymentMethodIcon.react"),{methodType:this.getPaymentMethodSubtype(a),size:"small"})),b("React").createElement(o,null,a.getDisplayLabel()));return b("React").createElement(m,{key:a.id,label:c,value:a.id},b("React").createElement(b("FBPaymentsPaymentMethodListItemView.react"),{paymentMethodType:this.getPaymentMethodSubtype(a),subtitle:a.getDisplaySubtitle(),title:a.getDisplayTitle()}))}.bind(this),this.handleNewPaymentOptionSelectorChange=function(a){a=a.value;this.props.onNewPaymentOptionClick(a)}.bind(this),this.handleNewPaymentOptionTabClick=function(a){this.props.onNewPaymentOptionClick(a)}.bind(this),this.getExistingPaymentMethodAccordionItem=function(a){var c;this.getPaymentMethodSubtype(a)===b("FBPaymentsMethodType").PAYPAL?c=b("PaymentMethodUtils").getImageForPayPal():c=b("PaymentMethodUtils").getImageForCardType(this.getPaymentMethodSubtype(a));return b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconSrcs:l.of(c).slice(0,4),key:a.id,label:a.getDisplayTitle(),subtitle:a.getDisplaySubtitle(),value:a.id})}.bind(this),this.handleAccordionPaymentMethodSelected=function(a){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:this.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL);break;default:var c=this.getPaymentMethods().filter(function(b){return b.id===a});c.count()===1&&(this.handlePaymentMethodClicked(c.first()),this.props.onCancelActiveStateClick())}}.bind(this),c}a.prototype.isPUXNewPaymentOptionTabEnabled=function(){return this.props.isPUXNewPaymentOptionTabEnabled||b("PaymentModulesGating").isEnabledForPaymentMethodTabSelectorWWW};a.prototype.renderBankListItem=function(a){return b("React").createElement(m,{key:a.code,label:a.name,value:a.code},b("React").createElement(b("FBPaymentsPaymentMethodListItemView.react"),{image:a.image,title:a.name}))};a.prototype.renderBanksDropdown=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;if(!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;a.banks||i(0,315);c=(c=this.props)!=null?(c=c.selectedBank)!=null?c.code:c:c;var d=this.getDefaultBankSelectorOptionLabel();return b("React").createElement(b("FBPaymentsRichSelector.react"),{className:"_3-8x _52jv",defaultValue:c,multiple:!1,name:"bank_selector",onChange:this.handleBankSelectorChange},b("React").createElement(m,{key:"default",label:d,value:""},d),a.banks.map(this.renderBankListItem))};a.prototype.renderBanksLabel=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;return!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING?null:b("React").createElement(b("XUIGrayText.react"),{className:"_3-8y",display:"block",size:"meta1"},this.getBankNameLabel())};a.prototype.renderSaveCardCheckbox=function(){return b("React").createElement("div",{className:"_1ghk"},b("React").createElement(b("InputLabel.react"),{className:"_s8u",label:h._("Save this card for faster payments on Facebook")},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.props.isNUXInlineCardFormSavingCreditCard,name:"cc_save_card",onChange:this.props.onSaveCreditCardCheckboxClick})))};a.prototype.renderPaymentMethodsNUXView=function(){if(this.isNUXInlineCardFormMode())return this.renderInlineCardForm();else return this.renderAddPaymentMethodButton()};a.prototype.renderInlineCardForm=function(){return b("React").createElement("div",null,this.renderNewPaymentOptionsTab(),b("React").createElement("div",{className:"_1ghk"},this.renderNewPaymentOptionViewTabContent()))};a.prototype.renderAddPaymentMethodButton=function(){return b("React").createElement(b("FBPaymentsAddButton.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_BUTTON,label:this.getAddPaymentMethodNUXLabel(),onClick:this.props.onAddPaymentMethodClick})};a.prototype.renderAddPaymentMethodListItem=function(){var a=this.getNewPaymentOptions();if(a.size===0)return null;a=this.getAddPaymentMethodLabel();return b("React").createElement(m,{className:"_52jw _5kyc",clickable:!1,"data-testid":b("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_LIST_ITEM,key:r,label:a,value:r},b("React").createElement(b("XUIButton.react"),{label:a,onClick:this.props.onAddPaymentMethodClick,size:"large",use:"confirm"}))};a.prototype.renderPaymentMethods=function(){var a=this.props.paymentMethodsInfo;if(this.props.isLoading||!a)return b("React").createElement(b("XUISpinner.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_LOADING_INDICATOR});a=a.paymentMethods;if(a.size===0)return this.renderPaymentMethodsNUXView();var c=this.props.selectedPaymentMethodID?this.props.selectedPaymentMethodID:r;return b("React").createElement(b("FBPaymentsRichSelector.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_DROPDOWN,defaultValue:c,multiple:!1,name:"payment_method_selector",onChange:this.handlePaymentMethodSelectorChange,onToggleLayer:this.handleTogglePaymentMethodsDropdown},a.map(this.renderPaymentMethodListItem),this.renderAddPaymentMethodListItem(),this.renderSecurityMessageListItem())};a.prototype.renderNewPaymentOptionListItem=function(a){return b("React").createElement(m,{key:a.type,label:a.getCallToActionTitle(),value:a.type},b("React").createElement(b("XUIGrayText.react"),{shade:"dark"},a.getCallToActionTitle()))};a.prototype.renderNewPaymentOptionView=function(){var a;switch(this.props.selectedNewPaymentOptionType){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return this.renderAddCreditCardForm();case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:a=(a=this.props.saveErrors)!=null?a.message:a;a=a?b("React").createElement(b("XUINotice.react"),{className:"_3-96",use:"warn"},a):null;return a;default:return i(!1,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};a.prototype.renderSecurityMessageCreditCard=function(){var a=this.props.isDirectChargeAllowed;return b("React").createElement(b("XUIGrayText.react"),{className:"_2pic"+(a?" _s8v":""),display:"block",shade:"light",size:"meta1"},this.getSecurityMessage())};a.prototype.renderNewPaymentOptionViewTabContent=function(){var a="_52ju _1ghk";switch(this.props.selectedNewPaymentOptionType){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:if(this.props.isDirectChargeAllowed)return b("React").createElement("div",{className:a},this.renderAddCreditCardForm(),this.renderSaveCardCheckbox(),this.renderSecurityMessageCreditCard());else return b("React").createElement("div",{className:a},this.renderAddCreditCardForm(),this.renderSecurityMessageCreditCard());case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return b("React").createElement("div",{className:a},this.renderAddPayPalTabContent());default:return i(!1,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};a.prototype.renderAddPayPalTabContent=function(){var a;a=(a=this.props.saveErrors)!=null?a.message:a;a=a?b("React").createElement(b("XUINotice.react"),{className:"_3-96",use:"warn"},a):null;return b("React").createElement("div",null,a,b("React").createElement("div",{className:"_2pid _3yor"},b("React").createElement(b("Image.react"),{src:this.getPayPalBrandSrc()}),b("React").createElement(b("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"header4"},this.getPayPalConnectMessage()),b("React").createElement(b("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"header4"},this.getSecurityMessage())))};a.prototype.renderNewPaymentOptionsTab=function(){var a=this.getNewPaymentOptions();if(a.size===0)return null;a=a.map(function(a){return{label:this.getNewPaymentOptionTabLabel(a),key:a.type}}.bind(this));var c=this.isNUXInlineCardFormMode();return b("React").createElement(b("FBPaymentsTabBar.react"),{activeTabKey:this.props.selectedNewPaymentOptionType,className:(c&&a.size>1&&!this.props.isDirectChargeAllowed?"_2owm":"")+(c?"":" _2pid")+" _3ro0",defaultActiveTabKey:this.props.selectedNewPaymentOptionType,onTabClick:this.handleNewPaymentOptionTabClick,tabs:a})};a.prototype.renderNewPaymentOptionsDropdown=function(){var a=this.getNewPaymentOptions();return a.size===0?null:b("React").createElement(b("FBPaymentsRichSelector.react"),{className:"_2pio",defaultValue:this.props.selectedNewPaymentOptionType,multiple:!1,name:"new_payment_options_selector",onChange:this.handleNewPaymentOptionSelectorChange},a.map(this.renderNewPaymentOptionListItem))};a.prototype.renderAddPaymentMethod=function(){var a=this.getSecurityMessage();a=this.isPUXNewPaymentOptionTabEnabled()?b("React").createElement("div",null,b("React").createElement("div",{className:"_1ghk _420v _2pi9"},this.renderNewPaymentOptionsTab()),b("React").createElement("div",{className:"_420v _2pio _2pi9"},this.renderNewPaymentOptionViewTabContent())):b("React").createElement("div",{className:"_1j8c"},b("React").createElement("div",{className:"_2pio _1ghk"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1",weight:"bold"},this.getAddPaymentMethodHeader()),b("React").createElement(b("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"light",size:"meta1"},a)),this.renderNewPaymentOptionsDropdown(),this.renderNewPaymentOptionView());return b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").SAVING_PAYMENT_METHOD_INDICATOR,overlay:!0,visible:this.props.isSaving}),a,b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),b("React").createElement(b("XUIButton.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").SAVE_PAYMENT_METHOD_BUTTON,disabled:!this.props.newPaymentOptionSaveEnabled||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewPaymentOption,size:"large",use:"confirm"})))};a.prototype.renderSecurityMessageListItem=function(){return b("React").createElement(m,{className:"_2y76 _5kyc",clickable:!1,key:"security_message"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.getSecurityMessage()))};a.prototype.renderAddCreditCardForm=function(){var a={},c=this.getShouldShowCreditCardCountrySelector();c&&(a[b("CreditCardFormParam").COUNTRY]=this.props.billingCountry);var d=this.props.newPaymentOptionData||{};d.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&(a=babelHelpers["extends"]({},a,d.data));return b("React").createElement(b("FBPaymentsCreditCardForm_DEPRECATED.react"),{acceptedCardTypes:this.getCreditCardAvailableCardTypes(),additionalFields:this.getAdditionalFields(),allowCredit:!0,autoTab:!0,className:"_3yor",compactMode:!1,editMode:!1,logger:this.props.logger,onValidation:this.handleCreditCardFormValidation,prefilledFormData:a,saveErrors:this.props.saveErrors,showCountryField:c,showIcons:!1,showLabels:!0,showPlaceholderOnFocus:!1,showSecondaryIcons:!0,showZipCodeField:this.getShowZipCodeField(),useGutters:!0})};a.prototype.renderPayPalConsentView=function(a){this.props.onExtensionWidthChange(s);var c;this.props.convertPayPalErrorMessage&&(c=b("React").createElement(b("XUINotice.react"),{className:"_q-q",use:"warn"},this.props.convertPayPalErrorMessage));return b("React").createElement("div",{className:"_1jnq"},c,b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isConvertingPayPal}),b("React").createElement(b("FBPaymentsConsentView.react"),{consentContent:a.cibConsentText,logoSrc:this.getPayPalLogoSrc(),subtitle:this.getPayPalConsentSubtitle(),termsAndPoliciesText:this.getPayPalConsentPoliciesText(a.cibTermsUrl),title:this.getPayPalConsentTitle()}),b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),b("React").createElement(b("XUIButton.react"),{label:this.getPayPalConfirmButtonText(),onClick:function(){this.props.onConvertPayPalBAToCIB(a)}.bind(this),size:"large",use:"confirm"})))};a.prototype.renderCreditCardCSCVerificationView=function(a){var c=a.zip,d=a.countryCode,e={};e[b("CreditCardFormParam").CARD_NUMBER]=a.getCreditCardNumberMask();e[b("CreditCardFormParam").CARD_EXPIRATION]=a.getFormattedExpiration();e[b("CreditCardFormParam").ZIP]=c;e[b("CreditCardFormParam").COUNTRY]=d||this.props.billingCountry;c=a.getCscMaxLength();return b("React").createElement("div",{className:"_1jnq"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("FBPaymentsCreditCardVerificationForm_DEPRECATED.react"),{cscMaxLength:c,onValidation:this.props.onCreditCardVerificationFormValidation,prefilledFormData:e,saveErrors:this.props.saveErrors,verifyFields:a.getVerifyFields()}),b("React").createElement(b("XUIGrayText.react"),{className:"_2pie",display:"block",size:"meta1",shade:"light"},this.getCSCVerificationMessage(c))),b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),b("React").createElement(b("XUIButton.react"),{disabled:!this.props.isCreditCardVerificationDataValid,label:this.getPayButtonText(),onClick:this.props.onConfirmCreditCardVerification,size:"large",use:"confirm"})),b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isSaving}))};a.prototype.renderCardForm=function(){__p&&__p();var a=this.props.saveErrors,c,d=a&&a.general;d&&(c=d.message);d=a&&a.fields;if(!c&&d)for(var e in d)if(Object.prototype.hasOwnProperty.call(d,e)){d[e].message;break}a={};d=this.getShouldShowCreditCardCountrySelector();d&&(a[b("CreditCardFormParam").COUNTRY]=this.props.billingCountry);return b("React").createElement(b("FBPaymentsCreditCardForm_DEPRECATED.react"),{acceptedCardTypes:this.getCreditCardAvailableCardTypes(),additionalFields:this.getAdditionalFields(),autoTab:!0,enableFloatingLabel:!0,prefilledFormData:a,showCountryField:d,showFieldLevelErrors:this.shouldShowFieldLevelErrors(),showHardErrorMessage:this.shouldShowHardErrorMessage(),showLabels:!0,showZipCodeField:this.getShowZipCodeField()})};a.prototype.handlePaymentMethodClicked=function(a){this.props.onPaymentMethodClick(a),this.props.onCancelActiveStateClick()};a.prototype.getNewPaymentMethodAccordionItems=function(){__p&&__p();var a=[],c=this.getNewPaymentOptions();c.forEach(function(c){__p&&__p();var d=c.getType();if(d===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){c=c.availableCardTypes.map(function(a){return b("PaymentMethodUtils").getImageForCard(b("PaymentMethodUtils").getCardTypeFromFieldType(a))});c=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconSrcs:c,key:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,label:this.getAddCardLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD},b("React").createElement("div",{className:"_2o-k"},this.renderCardForm()));a.push(c)}else if(d===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL){c=l.of(j("95532"));d=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{iconSrcs:c,key:b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,label:this.getAddPayPalLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL});a.push(d)}}.bind(this));return a};a.prototype.renderInlinePaymentOptions=function(){var a=this.getPaymentMethods().map(this.getExistingPaymentMethodAccordionItem),c=this.props.selectedPaymentMethodOrNewPaymentOption?this.props.selectedPaymentMethodOrNewPaymentOption.id:null;return b("React").createElement("div",{className:"_2pi3"},b("React").createElement(b("FBPaymentsAccordion.react"),{className:"_2o-l",hideRadioButtons:!1,selectedValue:c,onSelect:this.handleAccordionPaymentMethodSelected},a.toArray(),this.getNewPaymentMethodAccordionItems()))};a.prototype.render=function(){__p&&__p();if(this.props.isActiveForVerification){var a=this.props.selectedPaymentMethod;a||i(0,316);switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return this.renderCreditCardCSCVerificationView(a);case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return this.renderPayPalConsentView(a);default:return i(!1,"Unsupported payment method type for verification: %s",a.type)}}if(this.props.isActive)return this.renderAddPaymentMethod();a=this.isNUXInlineCardFormMode();if(this.enableInlinePaymentMethodsSelector())return this.renderInlinePaymentOptions();var c=a?null:b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getPaymentMethodLabel());return b("React").createElement("div",{className:"__j9 _2ph_","data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_METHOD_EXTENSION},c,b("React").createElement("div",{className:(a?"":"_3-8x")+" _52jv"},this.renderPaymentMethods()),this.renderBanksLabel(),this.renderBanksDropdown())};e.exports=a}),null);
__d("FBPaymentsPaymentMethodStoreBase",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FBPaymentsModulesAPIShared","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxLoadObjectStore","immutable","abstractMethod","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBPaymentsDispatcher")),this.$FBPaymentsPaymentMethodStoreBase1=null}a.prototype.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsPaymentMethodActions").types.FETCH_PAYMENT_METHODS:c=this.makeImmutableKey(d);var e=this.getCached(c);if(e.isEmpty()){this.get(d);return a}else{this.__load(c);return this.__setUpdating(a,[c])}case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.paymentMethodsInfo);case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);case b("FBPaymentsPaymentMethodActions").types.CONVERT_PAYPAL_BA_TO_CIB:c=this.makeImmutableKey(d.key);e=this.getCached(c);var f=e.getValueEnforcing(),g=f.paymentMethods;g=g.update(g.findIndex(function(a){return a.id===d.payPalBAID}),function(a){return a.set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,b("FBPaymentsPayPalBillingAgreementTypes").CIB)});f=f.set(b("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,g);e=e.setValue(f);return a.set(c,e);default:return a}};a.prototype.makeImmutableKey=function(a){return b("immutable").fromJS(a)};a.prototype.get=function(a,b){this.$FBPaymentsPaymentMethodStoreBase1=b;b=this.makeImmutableKey(a);return g.get.call(this,b)};a.prototype.__load=function(a){a=a.toJS();a.isGuestCheckout?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoRelayGraphQL({payment_type:a.paymentType,receiver_id:a.receiverID},this.$FBPaymentsPaymentMethodStoreBase1):b("gkx")("676862")?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoGraphQL(a):this.__getAPI().fetchPaymentMethodsInfo(a,this.$FBPaymentsPaymentMethodStoreBase1)};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodStoreBase","__getAPI")};a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPaymentMethodStore",["FBPaymentsModulesAPI","FBPaymentsPaymentMethodStoreBase"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPaymentMethodStoreBase"));g&&g.prototype;a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("PaypalPopupManager",[],(function(a,b,c,d,e,f){a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=a.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,b);b=this._instances[b];b.close(a)}};e.exports=a}),null);
__d("XPaymentsPaypalInitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/paypal_init/",{purchase_type:{type:"String"},is_dg_flow:{type:"Bool",defaultValue:!1},is_dg_flow_final_action:{type:"Bool",defaultValue:!1},use_payment_engine:{type:"Bool",defaultValue:!1},item_title:{type:"String"},item_desc:{type:"String"},payment_type:{type:"Enum",enumType:1},session_id:{type:"String"}})}),null);
__d("PaypalPopup",["PaypalPopupManager","PopupWindow","XPaymentsPaypalInitController","guid"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.initData=a,this.pollingInterval=100,this.isDigitalGoodsFlow=!0,this.isFinalStepOfDigitalGoodsFlow=!1,this.timerID=0,this.width=0,this.height=0,this.secretKey="paypalPopup$"+b("guid")(),b("PaypalPopupManager").register(this.secretKey,this)}a.prototype.setPollingInterval=function(a){"use strict";this.pollingInterval=a;return this};a.prototype.setIsDigitalGoodsFlow=function(a){"use strict";this.isDigitalGoodsFlow=a;return this};a.prototype.setIsFinalDigitalGoodFlow=function(a){"use strict";this.isFinalStepOfDigitalGoodsFlow=a;return this};a.prototype.setCancelHandler=function(a){"use strict";this.cancelHandler=a;return this};a.prototype.setHandler=function(a){"use strict";this.handler=a;return this};a.prototype.setWidth=function(a){"use strict";this.width=a;return this};a.prototype.setHeight=function(a){"use strict";this.height=a;return this};a.prototype.open=function(){"use strict";var a=this.initData;Object.prototype.hasOwnProperty.call(a,"redirect_data")?(a.redirect_data.instance_id=this.secretKey,a.redirect_data.type="rp"):a.redirect_data={instance_id:this.secretKey,type:"rp"};a.is_dg_flow_final_action=this.isFinalStepOfDigitalGoodsFlow;a=b("XPaymentsPaypalInitController").getURIBuilder().getURI().setProtocol("https").setSubdomain("secure").setQueryData(a).toString();this.popup=b("PopupWindow").open(a,this.getHeight(),this.getWidth());this.setupPopupOpenCheck()};a.prototype.close=function(a){"use strict";this.closePopup(),a.cancel?this.cancelHandler(a):this.handler&&this.handler(a)};a.prototype.setupPopupOpenCheck=function(){"use strict";this.timerID=setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler())}.bind(this),this.pollingInterval)};a.prototype.closePopup=function(){"use strict";this.timerID!==0&&(clearInterval(this.timerID),this.timerID=0),this.popup&&(this.popup.close(),this.popup=null)};a.prototype.getWidth=function(){"use strict";if(this.width)return this.width;return this.isDigitalGoodsFlow?420:955};a.prototype.getHeight=function(){"use strict";if(this.height)return this.height;return this.isDigitalGoodsFlow?600:750};e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorContainer.react",["invariant","FBPaymentsModulesAPI","FBPaymentsPaymentMethodSelectorContainerBase.react","FBPaymentsPaymentMethodSelectorView.react","FBPaymentsPaymentMethodStore","FluxContainer","PaypalPopup","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=100,j=500;h=babelHelpers.inherits(a,b("FBPaymentsPaymentMethodSelectorContainerBase.react"));h&&h.prototype;a.__getPaymentMethodStore=function(){return b("FBPaymentsPaymentMethodStore")};a.prototype.__getView=function(){return b("FBPaymentsPaymentMethodSelectorView.react")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__connectPayPal=function(a,c,d){a=this.state.connectPayPalURL;a||g(0,2786);c=new(b("URI"))(a);var e=c.getQueryData();delete e.redirect_url;a=new(b("PaypalPopup"))(e).setIsDigitalGoodsFlow(!1).setWidth(j).setHeight(j).setHandler(function(a){a.payment_type=this.props.checkoutConfiguration.paymentInfo.paymentItemType,a.paypal_ba_type=e.paypal_ba_type,a.session_id=this.props.logger.getSessionID()}.bind(this)).setCancelHandler(d).setPollingInterval(i);a.open()};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsPriceSelectorStoreBase",["FBPaymentsDispatcher","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfiguration","FluxLoadObjectStore","immutable","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBPaymentsDispatcher"))}a.prototype.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.priceSelectorConfig);case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);default:return a}};a.prototype.makeImmutableKey=function(a){return b("immutable").fromJS(a)};a.prototype.get=function(a){a=this.makeImmutableKey(a);return g.get.call(this,a)};a.prototype.__load=function(a){a=a.toJS();this.__getAPI().fetchPriceSelectorConfiguration(a)};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsPriceSelectorStoreBase","__getAPI")};a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPriceSelectorViewBase.react",["fbt","FBPaymentsPriceSelectorConfiguration","PECurrency","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};a.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};a.prototype.getCustomAmoutInputPlaceHolder=function(){return g._("Other")};a.prototype.getNewlineCustomAmoutInputPlaceHolder=function(){return g._("Custom amount")};a.prototype.getPriceSelectorTitle=function(){var a=this.props.priceSelectorConfiguration;return a&&a.title||g._("Amount")};a.prototype.getCurrencySymbol=function(){var a=this.props.priceSelectorConfiguration?b("PECurrency").getCurrencySymbol(this.props.priceSelectorConfiguration.getCurrency()):"";return(a=a)!=null?a:""};a.prototype.getHardErrorMessage=function(){return g._("Please select a valid amount.")};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsStringHelper",["React"],(function(a,b,c,d,e,f){"use strict";a={stringToMarkup:function(a){return b("React").createElement("div",null,a.split("\n").map(function(a,c){return b("React").createElement("div",{key:c},a)}))},isNumber:function(a){a=parseInt(a,10);return!isNaN(a)&&isFinite(a)}};e.exports=a}),null);
__d("FBPaymentsPriceSelectorContainerBase.react",["invariant","FBPaymentsCheckoutConstants","FBPaymentsCheckoutStore","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsPriceSelectorConfiguration","FBPaymentsPriceSelectorStoreBase","FBPaymentsPriceSelectorViewBase.react","FBPaymentsStringHelper","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsCheckoutConstants").RestoreKey,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep;c=babelHelpers.inherits(a,b("FBPaymentsExtensionInterface.react"));h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.handleCustomAmountInputChange=function(a,b,c){this.setState({selectedIndex:-1,customAmount:b,customAmountInputErrorMessage:c.errorMessage}),c.isValid||this.props.logger.setFlowStep(k.SELECT_AMOUNT).setEventName(j.CLICK).setRawAmount(Number(b)).setCurrency(this.getCurrency()).setUserFacingMessage(c.errorMessage).log()}.bind(this);this.handleCustomAmountInputFocus=function(){this.setState({selectedIndex:-1}),this.props.logger.setFlowStep(k.SELECT_AMOUNT).setEventName(j.FIELD_FOCUS).setRawAmount(Number(this.state.customAmount)).setCurrency(this.getCurrency()).log()}.bind(this);this.handleCustomAmountInputBlur=function(a,b,c){this.props.logger.setFlowStep(k.SELECT_AMOUNT).setEventName(j.BLUR).setRawAmount(Number(b)).setCurrency(this.getCurrency()).setUserFacingMessage(c.errorMessage).log()}.bind(this);this.handlePriceButtonClick=function(a){this.setState({selectedIndex:a,customAmount:"",customAmountInputErrorMessage:null}),this.props.logger.setFlowStep(k.SELECT_AMOUNT).setEventName(j.CLICK).setRawAmount(this.getRawAmountAtIndex(a)).setCurrency(this.getCurrency()).log()}.bind(this);a=!!((a=a)!=null?(a=a.checkoutExtraProps)!=null?(a=a.enableInlinePUXAndOtherEnhancements)!=null?a.field_level_errors:a:a:a);this.state={customAmount:"",customAmountInputErrorMessage:null,fetchErrorMessage:null,initialFetch:!0,isInitialized:!1,isLoading:!1,newlineCustomAmountInput:!1,priceSelectorConfiguration:null,selectedIndex:-1,showHardError:!1,shouldShowFieldLevelErrors:a}}a.getStores=function(){return[b("FBPaymentsCheckoutStore"),this.__getPriceSelectorStore()]};a.$FBPaymentsPriceSelectorContainerBase1=function(a){a=a.checkoutConfiguration.paymentInfo;return{payment_type:a.paymentItemType,order_id:a.orderId?a.orderId:"",extra_data:JSON.stringify(a.extraData)}};a.calculateState=function(a,c){__p&&__p();a=babelHelpers["extends"]({},a);var d=this.$FBPaymentsPriceSelectorContainerBase1(c);d=this.__getPriceSelectorStore().get(d);a.isLoading=d.isLoading();if(d.hasValue()&&a.initialFetch){d=d.getValueEnforcing();if(d.message)a.fetchErrorMessage=d.message;else{a.priceSelectorConfiguration=d;var e=b("FBPaymentsLinkHelper").getCurrentURI();e=e.getQueryData();var f=e[i.PRICE_SELECTOR_CUSTOM_AMOUNT],g=f&&b("FBPaymentsStringHelper").isNumber(f)&&parseInt(f,10)>0;if(g)a.customAmount=f,this.logInitialSelection(c.logger,d,f,null);else{g=e[i.PRICE_SELECTOR_SELECTED_INDEX];f=parseInt(g,10);e=b("FBPaymentsStringHelper").isNumber(g)&&f>-1;a.selectedIndex=e?f:parseInt(d.defaultSelected,10);this.logInitialSelection(c.logger,d,null,a.selectedIndex)}}a.initialFetch=!1;a.isInitialized=!0}return a};a.__calculateExtensionState=function(a){var b=!1,c={};!a.customAmountInputErrorMessage&&!a.fetchErrorMessage&&a.priceSelectorConfiguration&&(a.customAmount?(b=!0,c={currency:a.priceSelectorConfiguration.getCurrency(),selectedAmount:a.customAmount,selectedIndex:a.selectedIndex}):a.selectedIndex!==-1&&(b=!0,a.priceSelectorConfiguration||g(0,5755),c={currency:a.priceSelectorConfiguration.getCurrency(),selectedAmount:a.priceSelectorConfiguration.getSelectedAmountFromIndex(a.selectedIndex),selectedIndex:a.selectedIndex}));return{isInitialized:a.isInitialized,extraData:c,ready:b}};a.logInitialSelection=function(a,b,c,d){var e=0;c?e=Number(c):d&&(e=Number(b.getSelectedAmountFromIndex(d)));a.setFlowStep(k.SELECT_AMOUNT).setEventName(j.INIT).setRawAmount(e).setCurrency(b.getCurrency()).log()};a.prototype.getCurrency=function(){var a=this.state.priceSelectorConfiguration;return a&&a.getCurrency()};a.prototype.getRawAmountAtIndex=function(a){var b=this.state.priceSelectorConfiguration;return!b?null:Number(b.getSelectedAmountFromIndex(a))};a.__getPriceSelectorStore=function(){return b("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getPriceSelectorStore")};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getView")};a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCustomAmountInputBlur:this.handleCustomAmountInputBlur,onCustomAmountInputChange:this.handleCustomAmountInputChange,onCustomAmountInputFocus:this.handleCustomAmountInputFocus,onPriceButtonClick:this.handlePriceButtonClick}))};e.exports=a}),null);
__d("FBPaymentsPriceSelectorStore",["FBPaymentsModulesAPI","FBPaymentsPriceSelectorStoreBase"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPriceSelectorStoreBase"));g&&g.prototype;a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("FBPaymentsFormFieldInputConfigsGenerator",["fbt","invariant","FBPaymentsNormalizers","FBPaymentsValidators","FundraiserCurrencyFormatter"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,c,d){a<=c||h(0,3404);var e=b("FundraiserCurrencyFormatter").formatForButton(d,a);d=b("FundraiserCurrencyFormatter").formatForButton(d,c);e=g._("Please enter an amount between {min_amount} and {max_amount}.",[g._param("min_amount",e),g._param("max_amount",d)]);d=g._("Please enter an amount without decimals or commas.");return{normalizeOnChange:!0,normalizers:[b("FBPaymentsNormalizers").stripNonNumericAndNumericSeparator],validations:[{validator:b("FBPaymentsValidators").onlyNumeric,errorMessage:d},{validator:b("FBPaymentsValidators").greaterOrEqualTo(a),errorMessage:e},{validator:b("FBPaymentsValidators").lessOrEqualTo(c),errorMessage:e}]}}c={getPriceInputConfig:a};e.exports=c}),null);
__d("FBPaymentsPriceSelectorView.react",["cx","invariant","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigsGenerator","FBPaymentsPriceSelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUIRadioButtonGroup.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("FBPaymentsPriceSelectorViewBase.react"));i&&i.prototype;a.prototype.__renderAmountButtonGroup=function(a){a=a.getButtonLabels();var c=this.props.selectedIndex,d=[];for(var e=0;e<a.size;e++)d.push(b("React").createElement(b("XUIButton.react"),{className:"_t3l",key:e,label:a.get(e),size:"xlarge",type:"button",value:e}));return b("React").createElement(b("XUIRadioButtonGroup.react"),{className:"_4a6b",onValueChange:this.props.onPriceButtonClick,selectedDepressed:!0,selectedValue:c},d)};a.prototype.__renderCustomAmountInput=function(a){a=b("FBPaymentsFormFieldInputConfigsGenerator").getPriceInputConfig(a.getCustomAmountMin(),a.getCustomAmountMax(),a.getCurrency());var c=this.props.newlineCustomAmountInput?this.getNewlineCustomAmoutInputPlaceHolder():this.getCustomAmoutInputPlaceHolder();return b("React").createElement(b("FBPaymentsFormField.react"),{className:"_4a6e"+(this.props.customAmount&&!this.props.customAmountInputErrorMessage?" _1kv1":""),classNameOnInput:"_1kv1",config:a,errorMessage:this.props.customAmountInputErrorMessage,fieldType:"textInput",inline:!0,name:"customAmount",onBlur:this.props.onCustomAmountInputBlur,onChange:this.props.onCustomAmountInputChange,onFocus:this.props.onCustomAmountInputFocus,placeholder:c,value:this.props.customAmount})};a.prototype.__renderCustomAmountButton=function(){return b("React").createElement(b("XUIButton.react"),{className:"_t3l",label:this.getCustomAmoutInputPlaceHolder(),size:"xlarge",onClick:this.props.onCustomAmountInputFocus})};a.prototype.render=function(){__p&&__p();var a,c=this.props.priceSelectorConfiguration;if(this.props.fetchErrorMessage)a=b("React").createElement(b("XUINotice.react"),{use:"warn"},this.props.fetchErrorMessage);else if(this.props.isLoading||!this.props.priceSelectorConfiguration)a=b("React").createElement(b("XUISpinner.react"),null);else{!c&&h(0,917);var d=this.props.newlineCustomAmountInput?b("React").createElement("div",{className:"_1zbe"},b("React").createElement("div",{className:"_m7i"},b("React").createElement("span",{className:"_4a6d"},this.getCurrencySymbol()),this.__renderCustomAmountInput(c))):null,e=this.props.newlineCustomAmountInput?this.__renderCustomAmountButton():b("React").createElement("div",null,b("React").createElement("span",{className:"_4a6d"},this.getCurrencySymbol()),this.__renderCustomAmountInput(c));a=b("React").createElement("div",null,b("React").createElement("div",{className:"_1zbe"},b("React").createElement("div",{className:"_4a6f"},this.__renderAmountButtonGroup(c)),b("React").createElement("div",{className:"_4a6c"},e)),this.props.selectedIndex===-1?d:null)}return b("React").createElement("div",{className:"__j9"},b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},this.getPriceSelectorTitle()),a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPriceSelectorContainer.react",["FBPaymentsPriceSelectorContainerBase.react","FBPaymentsPriceSelectorStore","FBPaymentsPriceSelectorView.react","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FBPaymentsPriceSelectorContainerBase.react"));g&&g.prototype;a.__getPriceSelectorStore=function(){return b("FBPaymentsPriceSelectorStore")};a.prototype.__getView=function(){return b("FBPaymentsPriceSelectorView.react")};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsExtensionManager",["FBPaymentsCheckoutConstants","FBPaymentsContactEmailSelectorContainer.react","FBPaymentsContactNameInputContainer.react","FBPaymentsContactPhoneNumberSelectorContainer.react","FBPaymentsCustomOptionsContainer.react","FBPaymentsExtensionManagerBase","FBPaymentsFrequencySelectorContainer.react","FBPaymentsMailingAddressSelectorContainer.react","FBPaymentsNoteExtension.react","FBPaymentsPaymentMethodSelectorContainer.react","FBPaymentsPINVerificationContainer.react","FBPaymentsPriceSelectorContainer.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("FBPaymentsCheckoutConstants").Extensions;c=babelHelpers.inherits(a,b("FBPaymentsExtensionManagerBase"));g=c&&c.prototype;function a(){g.constructor.call(this),this.extensionMap=new Map(),this.extensionMap.set(h.CONTACT_NAME,b("FBPaymentsContactNameInputContainer.react")),this.extensionMap.set(h.CONTACT_EMAIL,b("FBPaymentsContactEmailSelectorContainer.react")),this.extensionMap.set(h.CONTACT_PHONE,b("FBPaymentsContactPhoneNumberSelectorContainer.react")),this.extensionMap.set(h.PAYMENT_METHOD,b("FBPaymentsPaymentMethodSelectorContainer.react")),this.extensionMap.set(h.PIN_VERIFICATION,b("FBPaymentsPINVerificationContainer.react")),this.extensionMap.set(h.SHIPPING_ADDRESS,b("FBPaymentsMailingAddressSelectorContainer.react")),this.extensionMap.set(h.CUSTOM_OPTIONS,b("FBPaymentsCustomOptionsContainer.react")),this.extensionMap.set(h.PRICE_SELECTOR,b("FBPaymentsPriceSelectorContainer.react")),this.extensionMap.set(h.FREQUENCY_SELECTOR,b("FBPaymentsFrequencySelectorContainer.react")),this.extensionMap.set(h.NOTE,b("FBPaymentsNoteExtension.react"))}a.prototype.__getExtensionMap=function(){return this.extensionMap};e.exports=new a()}),null);
__d("FBPaymentsModulesFlowType",[],(function(a,b,c,d,e,f){"use strict";a={CART:"cart",CHECKOUT:"checkout",INVOICE:"invoice",RECEIPT:"receipt",INVOICE_EDIT:"invoice_edit"};e.exports=a}),null);
__d("FBPaymentsCheckoutFlowContainerBase.react",["invariant","FBLogger","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutConstants","FBPaymentsContentConfigurationParser","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsModulesFlowType","FBPaymentsPriceListHelper","FBPaymentsStringHelper","immutable","PaymentModulesGating","QE2Logger","React","abstractMethod","emptyFunction","keyMirror","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes;var i=b("FBPaymentsCheckoutConstants").CollectedDataKey,j=b("FBPaymentsCheckoutConstants").CustomExtensionKeys,k=b("FBPaymentsCheckoutConstants").Extensions,l=b("FBPaymentsCheckoutConstants").OrderStatusModelType,m=b("FBPaymentsCheckoutConstants").RestoreKey,n=b("FBPaymentsCheckoutConstants").PaymentAction,o=b("FBPaymentsCheckoutConstants").PaymentCallbackUpdateState,p=b("immutable").List,q=b("FBPaymentsLoggerConstants").LoggerFlowType,r=b("FBPaymentsLoggerConstants").LoggerFlowStep,s=b("FBPaymentsLoggerConstants").LoggerEvent,t=b("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES;d=b("React").PropTypes;var u=b("keyMirror")({NUX:null,INCOMPLETE:null,READY_TO_PAY:null,VERIFICATION:null,PAYMENT_LOADING:null,PAYMENT_LOADING_EXTENDED:null,CONFIRMATION:null}),v="US";f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(a){__p&&__p();var c,d;h.constructor.call(this,a);this.$3=new Map();this.$8=function(a){var c=this.getCheckoutConfiguration().version;c=b("FBPaymentsContentConfigurationParser").parse(c,a,!1);a=c.priceList;if(a){this.$1=a;a=this.$10();c.priceList=a}this.setState({contentConfiguration:c,isCallingUpdateCheckoutAPI:!1})}.bind(this);this.$9=function(a){this.setState({isCallingUpdateCheckoutAPI:!1})}.bind(this);this.$14=function(a){__p&&__p();switch(a.state){case o.LOADING:this.setState({paymentLoadingMessage:a.loadingMessage||"",step:u.PAYMENT_LOADING_EXTENDED});break;case o.DONE:this.$4.setFlowStep(r.PAYMENT).setEventName(s.SUCCESS).logVital();this.$6();var b={step:u.CONFIRMATION};if(a.confirmationConfiguration){var c=this.state.contentConfiguration;c||g(0,318);c.confirmationConfiguration=a.confirmationConfiguration;b=babelHelpers["extends"]({},b,{contentConfiguration:c})}this.setState(b);break;case o.ERROR:this.$4.setFlowStep(r.PAYMENT).setEventName(s.FAIL).setErrorMessage(a.errorMessage).log();this.$6();this.setState({errors:{global:a.errorMessage,additional:a.additionalErrors},step:u.READY_TO_PAY});break;default:throw Error("Invalid payment callback state: "+a.state)}}.bind(this);this.$15=function(){var a;this.$4.setFlowStep(r.CHECKOUT).setEventName(s.BACK_CLICK).log();a=(a=this.getPayActionContent())!=null?a.backButtonCallback:a;if(a){a();return}a=this.props.onBackButtonClick;a&&a()}.bind(this);this.$16=function(){this.$4.setFlowStep(r.CHECKOUT).setEventName(s.INIT).logVital(),this.setState(function(a){return{step:this.areAllExtensionsReady(a.extensions)?u.READY_TO_PAY:u.INCOMPLETE}}.bind(this))}.bind(this);this.$17=function(){if(this.state.step===u.CONFIRMATION){this.$18(!1);return}this.$19()}.bind(this);this.$20=function(a){this.setState({confirmationExtensions:a})}.bind(this);this.$21=function(){__p&&__p();var c=this.getAllExtensionsNotReady(this.state.extensions),d=this.$4.setFlowStep(r.PAYMENT).setEventName(s.CLICK);if(c.size!==0){b("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:!0,extensionsNotReady:p.of(c.first())});d.setErrorMessage("Extensions not ready : "+c.join(",")).logVital();return}d.logVital();this.setState({errors:{},activeExtension:null});c=new Set();for(var d=this.state.extensions.entries(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var a=g[0];g=g[1];g.needVerification&&c.add(a)}this.$2=c;for(var g=c,a=Array.isArray(g),f=0,g=a?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(f>=g.length)break;e=g[f++]}else{f=g.next();if(f.done)break;e=f.value}d=e;this.setState({activeExtensionForVerification:d,step:u.VERIFICATION});return}this.$13()}.bind(this);this.$22=function(a){this.$24(a)}.bind(this);this.$23=function(){this.setState({step:u.READY_TO_PAY})}.bind(this);this.$26=function(a){__p&&__p();var b=a.extra_data||{},c=b.order_id;delete b.order_id;this.$4.setFlowStep(r.PAYMENT).setEventName(s.SUCCESS).setPaymentID(a.id).setOrderID(c).updateExtraData(b).logVital();this.$6();c=this.props.onCheckoutSuccessCallback;if(c){b=this.getSelectedPaymentMethod();c(b,a,this.$28.bind(this,a),this.$29)}else this.$28(a)}.bind(this);this.$29=function(){this.setState({step:u.READY_TO_PAY})}.bind(this);this.$27=function(a){this.$4.setFlowStep(r.PAYMENT).setEventName(s.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setUserFacingErrorCode(a.code).setErrorCode(a.code).log(),this.$6(),this.setState({errors:{global:a.message},step:u.READY_TO_PAY},function(){b("PaymentModulesGating").shouldCheckoutAutoScrollToError&&this.__scrollToTop()}.bind(this))}.bind(this);this.$30=function(a){var b;b=(b=this.getContentConfiguration())!=null?b.dialogWidth:b;(this.state.activeExtension!==null||this.state.activeExtensionForVerification!==null)&&(b=a||b);if(b===this.state.dialogWidth)return;this.setState({dialogWidth:b})}.bind(this);this.$31=function(a){this.setState({extensionPrePaymentCall:a===b("emptyFunction")?null:a})}.bind(this);this.validateProps(a);this.initializeLogging(a);a=a.configuration.contentConfiguration;d=(d=a)!=null?d.priceList:d;this.$1=d?d:[];d=new Map();c=((c=a)!=null?c.purchaseInfo:c)||[];for(var e=0;e<c.length;e++){var f=this.getExtensionName(c[e]);d.set(f,{isInitialized:!1,extraData:{},ready:!1})}this.state={activeExtension:null,activeExtensionForVerification:null,confirmationExtensions:new Map(),contentConfiguration:a,dialogWidth:((f=a)!=null?f.dialogWidth:f)||this.props.dialogWidth,errors:{},extensionPrePaymentCall:null,extensions:d,isCallingUpdateCheckoutAPI:this.getIsUsingUpdateCheckoutAPI(),paymentLoadingMessage:"",step:this.isPSDCheckoutNUXEnabled()?u.NUX:u.INCOMPLETE,termsAndPolicies:null};this.__completePaymentOnReady=!1}a.prototype.validateProps=function(a){a=a.configuration;var b=a.orderStatusModel.type;switch(b){case l.FIXED_AMOUNT:!a.contentConfiguration&&g(0,319,b);break;case l.UPDATE_CHECKOUT_API:break;default:g(0,320,b)}};a.prototype.initializeLogging=function(a){__p&&__p();var c,d,e;switch(a.paymentModuleFlowType){case b("FBPaymentsModulesFlowType").INVOICE:d=q.INVOICE;e=r.INVOICE;break;default:d=q.CHECKOUT;e=this.isPSDCheckoutNUXEnabled()?null:r.CHECKOUT;break}var f=this.__getLogger();this.$4=new f();f=a.configuration.paymentInfo;var g=f.orderId,h=f.receiverId,i=f.paymentItemType;f=f.isFreePurchase;var j=b("FBPaymentsLinkHelper").getCurrentURISessionID()||b("uuid")();this.$4.setGlobalFields((c={},c[t.session_id]=j,c[t.product]=i,c[t.order_id]=g,c[t.other_profile_id]=h,c[t.flow_name]=d,c[t.is_free]=f,c));j=babelHelpers["extends"]({},a.extraDataForLogging,a.checkoutExtraProps,{checkout_v1:"true"});this.$4.setGlobalExtraData(j);e&&this.$4.setFlowStep(e).setEventName(s.INIT).logVital()};a.prototype.isPSDCheckoutNUXEnabled=function(){return!!this.props.psdAgreementID};a.prototype.getExtensionName=function(a){return a.identifier==="CUSTOM_EXTENSION"?a.extensionKey:a.identifier};a.prototype.getCheckoutConfiguration=function(){return this.props.configuration};a.prototype.getPaymentInfo=function(){return this.props.configuration.paymentInfo};a.prototype.getContentConfiguration=function(){if(this.getIsUsingUpdateCheckoutAPI())return this.state.contentConfiguration;else return this.getCheckoutConfiguration().contentConfiguration};a.prototype.getPriceList=function(){var a=this.getContentConfiguration();return a&&a.priceList};a.prototype.getPrice=function(){__p&&__p();var a=this.state.extensions.get(k.PRICE_SELECTOR);if(a){var c=a.extraData.selectedAmount;a=a.extraData.currency;if(c&&a)return{amount:c,currency:a}}else{c=this.getPriceList();!c&&g(0,321);a=b("FBPaymentsPriceListHelper").calculateTotal(c);c=a.currency;if(c)return{amount:a.amount.toString(),currency:c}}return null};a.prototype.getPayActionContent=function(){var a=this.getContentConfiguration();return a&&a.payActionContent};a.prototype.getConfirmationConfiguration=function(){var a=this.state.contentConfiguration;return a&&a.confirmationConfiguration||{}};a.prototype.getSelectedPaymentMethod=function(){var a=this.state.extensions.get(k.PAYMENT_METHOD);return(a=a)!=null?(a=a.extraData)!=null?a.paymentMethod:a:a};a.prototype.getIsUsingUpdateCheckoutAPI=function(){return this.getCheckoutConfiguration().orderStatusModel.type===l.UPDATE_CHECKOUT_API};a.prototype.UNSAFE_componentWillMount=function(){this.logExperimentExposures(),this.$5()};a.prototype.UNSAFE_componentWillUpdate=function(a,c){b("FBPaymentsCheckoutActions").updatePaymentStep(c.step)};a.prototype.$6=function(){var a;this.$4.setGlobalFields((a={},a[t.payment_method_id]=null,a[t.payment_method_type]=null,a[t.mailing_address_id]=null,a[t.shipping_option_id]=null,a[t.raw_amount]=null,a[t.currency]=null,a))};a.prototype.logExperimentExposures=function(){b("PaymentModulesGating").isInAndroidWebviewPayPalExp&&b("QE2Logger").logExposureForUser(b("PaymentModulesGating").androidWebviewPayPalExpQE)};a.prototype.$5=function(){this.getIsUsingUpdateCheckoutAPI()&&this.$7()};a.prototype.$7=function(){__p&&__p();this.setState({isCallingUpdateCheckoutAPI:!0});var a=this.getPaymentInfo(),c={payment_type:a.paymentItemType,order_id:a.orderId,receiver_id:a.receiverId,session_id:this.$4.getSessionID()};a=a.extraData||{};for(var d=this.state.extensions.entries(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];switch(h){case k.PAYMENT_METHOD:h=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(g.extraData.paymentMethod,g.extraData.bank);var j={fraudnet_session_id:g.extraData.fraudnetSessionID};c=babelHelpers["extends"]({},c,h,j);a=babelHelpers["extends"]({},a,{billingCountryCode:g.extraData.selectedBillingCountry});break;case k.SHIPPING_ADDRESS:c.mailing_address_id=g.extraData.mailingAddressID;break;case k.CUSTOM_OPTIONS:h=g.extraData.collectedDataKey;j=g.extraData.optionId;switch(h){case i.SHIPPING_OPTION:c.shipping_option_id=j;break;default:a=babelHelpers["extends"]({},a,(g={},g[h]=j,g))}break}}c.extra_data=JSON.stringify(a);this.__getAPI().updateCheckout(c,this.$8,this.$9)};a.prototype.$11=function(a,b){switch(a){case k.SHIPPING_ADDRESS:return!0;case k.PAYMENT_METHOD:var c=this.$3.get(a);b={paymentMethodID:b.extraData.paymentMethodID,selectedBillingCountry:b.extraData.selectedBillingCountry};c=JSON.stringify(c)!==JSON.stringify(b);c&&this.$3.set(a,b);return c;default:return!1}};a.prototype.$10=function(a){__p&&__p();a=a||this.state.extensions;var b=[];for(var a=a.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.extraData.optionPriceList;e&&b.push(e)}e=this.$12(this.$1,b);return e};a.prototype.$12=function(a,c){var d=a;c.forEach(function(a){d=b("FBPaymentsPriceListHelper").merge(d,a)});return d};a.prototype.handleExtensionRequestActive=function(a,b){var c={};b&&this.state.activeExtension===null?c.activeExtension=a:this.state.activeExtension===a&&(c.activeExtension=null);this.setState(c)};a.prototype.handleExtensionRequestActiveForVerification=function(a,b){var c={};c.step=u.READY_TO_PAY;b&&this.state.activeExtensionForVerification===null?c.activeExtensionForVerification=a:this.state.activeExtensionForVerification===a&&(c.activeExtensionForVerification=null);this.setState(c)};a.prototype.getAllExtensionsNotReady=function(a){__p&&__p();var b=p();for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];e.ready||(b=b.push(f))}return b};a.prototype.areAllExtensionsReady=function(a){return this.getAllExtensionsNotReady(a).size===0};a.prototype.areAllExtensionsInitialized=function(){__p&&__p();for(var a=this.state.extensions.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d.isInitialized)return!1}return!0};a.prototype.handleExtensionUpdate=function(a,c,d){__p&&__p();var e={extensions:this.state.extensions};e.extensions.set(a,d);b("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:!1,extensionsNotReady:p()});switch(this.state.step){case u.INCOMPLETE:case u.READY_TO_PAY:e.step=this.areAllExtensionsReady(e.extensions)?u.READY_TO_PAY:u.INCOMPLETE;if(a===k.CUSTOM_OPTIONS){var f=d.extraData.priceModel;if(!f||c.shouldAddToOrderSummary){f=this.$10(e.extensions);c=this.getContentConfiguration();c&&(c.priceList=f,e.contentConfiguration=c)}}this.setState(e,function(){this.$11(a,d)&&this.$5(),this.state.step===u.READY_TO_PAY&&(this.__completePaymentOnReady&&(this.__completePaymentOnReady=!1,this.$13()))}.bind(this));break;case u.VERIFICATION:c=(f=d)!=null?(f=f.verificationData)!=null?f.verified:f:f;if(!c||!this.$2.has(a))return;this.$2["delete"](a);for(var f=this.$2,c=Array.isArray(f),g=0,f=c?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(c){if(g>=f.length)break;h=f[g++]}else{g=f.next();if(g.done)break;h=g.value}h=h;this.setState({activeExtensionForVerification:h,step:u.VERIFICATION});return}e.activeExtensionForVerification=null;this.setState(e,function(){this.$13()}.bind(this));break}};a.prototype.$19=function(){var a;a=(a=this.getContentConfiguration())!=null?a.checkoutClosedCallback:a;if(a){a();return}a=this.props.onCheckoutClosed;a&&a()};a.prototype.$18=function(a){var b=this.getConfirmationConfiguration().confirmationClosedCallback;if(b){b(a,this.state.confirmationExtensions);return}b=this.props.onConfirmationClosed;b&&b(a,this.state.confirmationExtensions)};a.prototype.$13=function(){var a=this.state.extensionPrePaymentCall;a?this.setState({step:u.PAYMENT_LOADING},function(){a(this.$22,this.$23)}.bind(this)):this.$24()};a.prototype.$24=function(a){var b,c=this.getPaymentInfo();a=this.$25(a);var d;a.nmor_payment_method&&(d=JSON.parse(a.nmor_payment_method).type);this.$4.setFlowStep(r.PAYMENT).setEventName(s.INIT).setGlobalFields((b={},b[t.payment_method_id]=a.credential_id,b[t.payment_method_type]=d,b[t.mailing_address_id]=a.mailing_address_id,b[t.shipping_option_id]=a.shipping_option_id,b[t.raw_amount]=a.amount,b[t.currency]=a.currency,b)).updateExtraData(JSON.parse(a.extra_data)).logVital();c.action===n.CUSTOM_CALLBACK?(c.payCallback!=null||g(0,322),c.payCallback(this.state.extensions,this.$14,a)):this.__getAPI().completeCheckout(a,this.$26,this.$27);this.setState({activeExtension:null,step:u.PAYMENT_LOADING})};a.prototype.$25=function(a){__p&&__p();var c,d,e=this.getPaymentInfo(),f={action:e.action,payment_type:e.paymentItemType,receiver_id:e.receiverId,order_id:e.orderId,session_id:this.$4.getSessionID()};e=e.extraData||{};for(var h=this.state.extensions.entries(),j=Array.isArray(h),l=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(j){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];switch(n){case k.PAYMENT_METHOD:d=(d=a)!=null?d.paymentMethod:d;d=d||m.extraData.paymentMethod;d=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(d,m.extraData.bank);var o={fraudnet_session_id:m.extraData.fraudnetSessionID};f=babelHelpers["extends"]({},f,d,o);m.verificationData&&(f.csc=m.verificationData.csc);((d=a)!=null?d.credit_card_number:d)&&(f=babelHelpers["extends"]({},f,a));break;case k.CONTACT_NAME:f.contact_name=m.extraData.name;break;case k.CONTACT_EMAIL:f.email_address_id=m.extraData.id;f.email_address=m.extraData.email;break;case k.CONTACT_PHONE:f.contact_number_id=m.extraData.id;break;case k.PIN_VERIFICATION:m.verificationData&&(f.security_pin=m.verificationData.pin);break;case k.PRICE_SELECTOR:f.amount=b("FBPaymentsPriceListHelper").formatStringAmount(Number(m.extraData.selectedAmount));f.currency=m.extraData.currency;break;case k.SHIPPING_ADDRESS:f.mailing_address_id=m.extraData.mailingAddressID;break;case k.CUSTOM_OPTIONS:o=m.extraData.collectedDataKey;d=m.extraData.optionId;switch(o){case i.SHIPPING_OPTION:f.shipping_option_id=d;break;default:e=babelHelpers["extends"]({},e,(c={},c[o]=d,c))}break;case k.FREQUENCY_SELECTOR:o=m.extraData.subscriptionType;o&&(f.subscription_type=o,f.subscription_period=m.extraData.subscriptionPeriod);break;default:e=babelHelpers["extends"]({},e,(d={},d[n]=m.extraData,d));break}}c=this.getPriceList();if(!f.currency||!f.amount){!c&&g(0,321);o=b("FBPaymentsPriceListHelper").calculateTotal(c);f.currency=o.currency;f.amount=b("FBPaymentsPriceListHelper").formatStringAmount(o.amount)}m=(n=this.getContentConfiguration())!=null?n.taxID:n;m&&(e=babelHelpers["extends"]({},e,{taxID:m}));f.extra_data=JSON.stringify(e);return f};a.prototype.$28=function(a,c){__p&&__p();var d;c=c||this.getConfirmationConfiguration();c.receiptUrl=((d=this.props.checkoutExtraProps)!=null?d.receiptUrl:d)||((d=a)!=null?(d=d.extra_data)!=null?d.receipt_url:d:d)||b("FBPaymentsLinkHelper").getPaymentSettingsReceiptURI(a.id).toString();d=(d=a)!=null?(d=d.extra_data)!=null?d.message_with_email:d:d;d&&(c.confirmationText=b("FBPaymentsStringHelper").stringToMarkup(d));a=(d=a)!=null?(d=d.extra_data)!=null?d.subscription_details:d:d;a&&(c.subscriptionConfirmationDetails={image:a.subscription_image.uri,name:a.subscription_name,renewMessage:a.renew_amount,renewTitle:a.renew_date,subtitle:a.subscription_subtitle.text});d=this.getContentConfiguration();d||g(0,323);d.confirmationConfiguration=c;this.setState({contentConfiguration:d,step:u.CONFIRMATION})};a.prototype.$32=function(){return b("PaymentModulesGating").shouldShowCheckoutV2FeaturesWWW};a.prototype.$33=function(a,c,d){__p&&__p();var e=this.getExtensionName(a),f=a.identifier==="CUSTOM_EXTENSION"?a["class"]:this.__getExtensionManager().getExtensionContainer(a.identifier),g=this.state.extensions,h={};g.forEach(function(a,b){__p&&__p();switch(b){case k.PRICE_SELECTOR:b=a.extraData.selectedIndex;h[m.PRICE_SELECTOR_SELECTED_INDEX]=b;if(b===-1){b=a.extraData.selectedAmount;h[m.PRICE_SELECTOR_CUSTOM_AMOUNT]=b}break;case k.FREQUENCY_SELECTOR:h[m.FREQUENCY_SELECTOR_SELECTED_TYPE]=a.extraData.subscriptionType;break;case j.PRIVACY_SELECTOR:h[m.PRIVACY_SELECTOR_SELECTED_OPTION]=a.extraData.privacyxParam;break;case j.MENTIONS_INPUT:h[m.MENTIONS_INPUT_TEXT]=a.extraData.mentionsInputText;break;case j.EMAIL_SHARING_CHECKBOX:h[m.EMAIL_CHECKBOX_STATE]=a.extraData.emailCheckboxState;break}});g=g.get(e)||{isInitialized:!0,extraData:{},ready:!0};return b("React").createElement(f,{checkoutConfiguration:this.getCheckoutConfiguration(),checkoutExtraProps:this.props.checkoutExtraProps,checkoutRestoreData:h,extensionConfiguration:a,extensionState:g,isActive:c,isActiveForVerification:d,logger:this.$4,onExtensionUpdate:function(b){this.handleExtensionUpdate(e,a,b)}.bind(this),onExtensionPrePaymentCallChange:this.$31,onExtensionWidthChange:this.$30,onRequestActive:function(a){this.handleExtensionRequestActive(e,a)}.bind(this),onRequestActiveForVerification:function(a){this.handleExtensionRequestActiveForVerification(e,a)}.bind(this)})};a.prototype.render=function(){__p&&__p();var a=this.getContentConfiguration(),c,d,e,f,g,h=[],i,j=!1,l=!1,m=!!a&&a.renderInline;if(!a){var n=this.__getLoadingContainer();d=b("React").createElement(n,{loadingText:""})}else{var o;n=a.priceList;var p=a.payActionContent,q=a.entity;if(q){var r=this.__getEntityHeaderContainer();e=b("React").createElement(r,{entity:q})}else{r=this.__getOrderSummaryContainer();e=b("React").createElement(r,{configuration:a})}q=this.state.extensions.get(k.PAYMENT_METHOD);q=!!(((r=this.props)!=null?(r=r.checkoutExtraProps)!=null?r.showTaxDisclaimer:r:r)&&((r=q)!=null?(r=r.extraData)!=null?r.selectedBillingCountry:r:r)===v);r=!!((r=this.props)!=null?(r=r.checkoutExtraProps)!=null?r.forceShowTotalAmount:r:r);if(n){var s=this.__getPriceTableContainer();f=b("React").createElement(s,{configuration:{priceList:n},forceTotal:r,isCalculating:this.getIsUsingUpdateCheckoutAPI()&&(!this.areAllExtensionsInitialized()||this.state.isCallingUpdateCheckoutAPI),showTaxDisclaimer:q})}n=!!((s=this.props)!=null?(s=s.checkoutExtraProps)!=null?(s=s.enableInlinePUXAndOtherEnhancements)!=null?s.enable_pay_button:s:s:s);q=!!((r=this.props)!=null?(r=r.checkoutExtraProps)!=null?r.isAmountOnButton:r:r);r=!!((s=this.props)!=null?(s=s.checkoutExtraProps)!=null?s.showStickyPayButton:s:s);s=!!((s=this.props.checkoutExtraProps)!=null?s.shouldFetchTermsAndPoliciesFromServer:s);o=!!((o=this.props.checkoutExtraProps)!=null?o.showGreenWhenButtonAlwaysEnabledAndReady:o)&&n;var t=null;q&&(t=this.getPrice());var w;q=(q=this.state.extensions.get(k.FREQUENCY_SELECTOR))!=null?(q=q.extraData)!=null?q.subscriptionType:q:q;q&&(w={type:q,price:this.getPrice()});q=this.__getPayActionRowContainer();g=b("React").createElement(q,{backButton:this.props.backButton||p.backButton,collapsibleDisclaimer:s,configuration:p,isLoading:this.state.step===u.PAYMENT_LOADING,onBackButtonClick:this.$15,onPayButtonClick:this.$21,payButtonAlwaysEnabled:n,payButtonEnabled:this.state.step===u.READY_TO_PAY&&!this.state.isCallingUpdateCheckoutAPI,payButtonGreenWhenReady:o&&this.areAllExtensionsReady(this.state.extensions),price:t,showStickyPayButton:r,subscriptionTermsDetails:w,termsAndPolicies:this.state.termsAndPolicies});j=this.state.activeExtension!==null;l=this.state.activeExtensionForVerification!==null;q=a.purchaseInfo;for(var s=0;s<q.length;s++){p=q[s];n=this.getExtensionName(p);if(this.$34(n)){b("FBLogger")("purchase_experience").info("Unsupported purchase info extension: %s",n);continue}o=this.state.activeExtension===n;t=this.state.activeExtensionForVerification===n;r=j&&!o||l&&!t;h.push(b("React").createElement("div",{style:{display:r?"none":""},key:n},this.$33(p,o,t)))}if(this.state.step===u.NUX){a=this.__getPSDAgreementNUXContainer();c=b("React").createElement(a,{logger:this.$4,onAccepted:this.$16,psdAgreementID:this.props.psdAgreementID})}if(this.state.step===u.PAYMENT_LOADING_EXTENDED){r=this.__getLoadingContainer();d=b("React").createElement(r,{loadingText:this.state.paymentLoadingMessage})}if(this.state.step===u.CONFIRMATION){n=this.__getConfirmationContainer();i=b("React").createElement(n,{configuration:this.getConfirmationConfiguration(),onConfirmationDoneClick:this.$18.bind(this,!0),onExtensionsUpdate:this.$20,paymentInfo:this.getPaymentInfo()})}}p=this.__getCheckoutFlowView();return b("React").createElement(p,{confirmationContainer:i,dialogTitle:this.props.dialogTitle,dialogWidth:this.state.dialogWidth||undefined,disableClose:this.state.step===u.PAYMENT_LOADING||this.state.step===u.PAYMENT_LOADING_EXTENDED,hideCheckoutHeader:this.props.hideCheckoutHeader,errorMessage:this.state.errors.global,additionalErrors:this.state.errors.additional,extensionContainers:h,renderInline:m,isExtensionActive:j,isExtensionActiveForVerification:l,isProcessing:this.state.step===u.PAYMENT_LOADING||this.__completePaymentOnReady,loadingContainer:d,nuxContainer:c,onBackButtonClick:this.$15,onDialogClose:this.$17,orderSummaryContainer:e,payActionRowContainer:g,priceTableContainer:f,shouldShowCheckoutV2Features:this.$32()})};a.prototype.$34=function(a){return[k.COUPON_CODE].includes(a)};a.prototype.__scrollToTop=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__scrollToTop")};a.prototype.__getExtensionManager=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getExtensionManager")};a.prototype.__getCheckoutFlowView=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getCheckoutFlowView")};a.prototype.__getPSDAgreementNUXContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPSDAgreementNUXContainer")};a.prototype.__getLoadingContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLoadingContainer")};a.prototype.__getConfirmationContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getConfirmationContainer")};a.prototype.__getOrderSummaryContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getOrderSummaryContainer")};a.prototype.__getEntityHeaderContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getEntityHeaderContainer")};a.prototype.__getPayActionRowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPayActionRowContainer")};a.prototype.__getPriceTableContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPriceTableContainer")};a.prototype.__getAPI=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getAPI")};a.prototype.__getLogger=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLogger")};a.propTypes={checkoutExtraProps:d.object,configuration:c.isRequired,dialogTitle:d.node,enableCheckoutNUX:d.bool,extraDataForLogging:d.object,hideCheckoutHeader:d.bool,onCheckoutClosed:d.func,onCheckoutSuccessCallback:d.func,onConfirmationClosed:d.func,paymentModuleFlowType:d.oneOf(Object.values(b("FBPaymentsModulesFlowType"))).isRequired};a.defaultProps={paymentModuleFlowType:b("FBPaymentsModulesFlowType").CHECKOUT};e.exports=a}),null);
__d("FBPaymentsCheckoutFlowViewBase.react",["fbt","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=400;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.__isNUX=function(){return!!this.props.nuxContainer};a.prototype.__isExtensionActive=function(){return this.props.isExtensionActive};a.prototype.__isExtensionActiveForVerification=function(){return this.props.isExtensionActiveForVerification};a.prototype.__isLoading=function(){return!!this.props.loadingContainer};a.prototype.__isConfirmation=function(){return!!this.props.confirmationContainer};a.prototype.__shouldShowNUX=function(){return this.__isNUX()};a.prototype.__shouldShowHeader=function(){return!this.props.hideCheckoutHeader&&!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};a.prototype.__shouldShowLoading=function(){return this.__isLoading()};a.prototype.__shouldDisableForProcessing=function(){return this.props.isProcessing};a.prototype.__shouldShowConfirmation=function(){return this.__isConfirmation()};a.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};a.prototype.__shouldShowPriceTable=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()&&!!this.props.priceTableContainer};a.prototype.__shouldShowExtensions=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()};a.prototype.__shouldShowPayActionRow=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};a.prototype.__getFlowVersionStyleClass=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowViewBase","__getFlowVersionStyleClass")};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getCancelButtonText=function(){return g._("Cancel")};a.prototype.getCheckoutHeader=function(){return this.props.dialogTitle||g._("Checkout")};function a(){h.apply(this,arguments)}a.propTypes={confirmationContainer:c.element,dialogTitle:c.node,dialogWidth:c.number.isRequired,disableClose:c.bool.isRequired,errorMessage:c.node,extensionContainers:c.arrayOf(c.element).isRequired,hideCheckoutHeader:c.bool,isExtensionActive:c.bool.isRequired,isExtensionActiveForVerification:c.bool.isRequired,isProcessing:c.bool,loadingContainer:c.element,nuxContainer:c.element,onBackButtonClick:c.func,onDialogClose:c.func.isRequired,orderSummaryContainer:c.element,payActionRowContainer:c.element,priceTableContainer:c.element,renderInline:c.bool};a.defaultProps={dialogWidth:d};e.exports=a}),null);
__d("FBPaymentsCheckoutFlowView.react",["cx","FBPaymentsCheckoutFlowViewBase.react","FBPaymentsLoadingView.react","FBPaymentsWebdriverTestIDs","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FBPaymentsCheckoutFlowViewBase.react"));h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$FBPaymentsCheckoutFlowView1=function(a){a||this.props.onDialogClose()}.bind(this),b}a.prototype.__getFlowVersionStyleClass=function(){return this.props.shouldShowCheckoutV2Features?"_3kok":null};a.prototype.render=function(){var a;this.props.errorMessage&&(a=b("React").createElement(b("XUINotice.react"),{className:"_q-q","data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ERROR,use:"warn"},this.props.errorMessage,this.props.additionalErrors));var c=b("React").createElement("div",null,a,b("React").createElement("div",{className:this.__shouldShowNUX()?"":"hidden_elem"},this.props.nuxContainer),b("React").createElement("div",{className:this.__shouldShowLoading()?"":"hidden_elem"},this.props.loadingContainer),b("React").createElement("div",{className:this.__shouldShowConfirmation()?"":"hidden_elem"},this.props.confirmationContainer),b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{loadingIndicatorVisible:!1,overlay:!0,visible:this.__shouldDisableForProcessing()}),b("React").createElement("div",{className:this.__shouldShowOrderSummary()?"":"hidden_elem"},this.props.orderSummaryContainer),b("React").createElement("div",{className:(this.__shouldShowPriceTable()?"":"hidden_elem")+" _qu2 _2ph_"},this.props.priceTableContainer),b("React").createElement("div",{className:(this.__shouldShowExtensions()?"":"hidden_elem")+(!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()?" _1j8c":"")},this.props.extensionContainers)),b("React").createElement("div",{className:this.__shouldShowPayActionRow()?"":"hidden_elem"},this.props.payActionRowContainer));return this.props.renderInline?c:b("React").createElement(b("XUIDialog.react"),{className:this.__getFlowVersionStyleClass(),"data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ROOT,layerHideOnBlur:!1,onToggle:this.$FBPaymentsCheckoutFlowView1,shown:!0,width:this.props.dialogWidth},b("React").createElement(b("XUIDialogTitle.react"),{className:"_qu2 _qu3",showCloseButton:!this.props.disableClose},this.getCheckoutHeader()),b("React").createElement(b("XUIDialogBody.react"),{className:"_qu4"},c))};a.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};e.exports=a}),null);
__d("FBPaymentsComponentWithErrorBoundaryContainer",["FBPaymentsErrorBoundary.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c;c=babelHelpers.inherits(d,b("React").PureComponent);c&&c.prototype;d.prototype.render=function(){"use strict";return b("React").createElement(b("FBPaymentsErrorBoundary.react"),null,b("React").createElement(a,this.props))};function d(){"use strict";c.apply(this,arguments)}return d}e.exports={create:a}}),null);
__d("FBPaymentsConfirmationConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={Extensions:b("keyMirror")({CUSTOM_EXTENSION:null})};e.exports=a}),null);
__d("FBPaymentsConfirmationContainerBase.react",["fbt","AllPaymentTypeFields","FBPaymentsConfirmationConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsConfirmationConstants").Extensions;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={extensionData:new Map()}}a.prototype.handleConfirmationExtensionUpdate=function(a,b){var c={extensionData:this.state.extensionData};c.extensionData.set(a,b.data);this.setState(c);this.props.onExtensionsUpdate(c.extensionData)};a.prototype.$1=function(a){var c=this.getExtensionName(a),d=a["class"];d=a.identifier===i.CUSTOM_EXTENSION?d:this.__getConfirmationExtensionManager().getConfirmationExtensionContainer(c);if(!d)throw Error("Unimplemented payments confirmation extension "+c);return b("React").createElement(d,{extensionConfiguration:a,onConfirmationExtensionUpdate:function(a){this.handleConfirmationExtensionUpdate(c,a)}.bind(this)})};a.prototype.getExtensionName=function(a){return a.extensionKey||a.identifier};a.prototype.getCustomReceiptText=function(){var a=this.props.paymentInfo&&this.props.paymentInfo.paymentItemType;return a===b("AllPaymentTypeFields").NMOR_CHECKOUT_EXPERIENCES?g._("Review order details"):null};a.prototype.render=function(){__p&&__p();var a=this.__getView(),c=[],d=this.props.configuration.confirmationExtensions;for(var e=0;d&&e<d.length;e++){var f=d[e],g=this.getExtensionName(f);c.push(b("React").createElement("div",{key:g+e},this.$1(f)))}g=this.props.configuration;f=g.confirmationText;d=g.customConfirmationImage;e=g.doneButtonText;var h=g.enableReceiptFooterLink,i=g.forceHideReceiptCTA,j=g.merchantLogoUrl,k=g.receiptUrl;g=g.subscriptionConfirmationDetails;return b("React").createElement(a,{confirmationText:f,customConfirmationImage:d,customReceiptText:this.getCustomReceiptText(),doneButtonText:e,enableReceiptFooterLink:h,forceHideReceiptCTA:i,handleConfirmationDone:this.props.onConfirmationDoneClick,merchantLogoUrl:j,receiptUrl:k,subscriptionConfirmationDetails:g},c)};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getView")};a.prototype.__getConfirmationExtensionManager=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getConfirmationExtensionManager")};e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=b("FBPaymentsCheckoutConfigurationTypes").ConfirmationExtensionPropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;function a(){g.apply(this,arguments)}a.propTypes={extensionConfiguration:d,onConfirmationExtensionUpdate:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionManagerBase",["FBPaymentsConfirmationConstants","FBPaymentsConfirmationExtensionInterface.react","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsConfirmationConstants").Extensions;a.prototype.getConfirmationExtensionContainer=function(a){if(!g[a])throw Error("Non-existent payments confirmation extension "+a);var b=this.__getConfirmationExtensionMap().get(a);if(!b)throw Error("Unimplemented payments confirmation extension "+a);return b};a.prototype.__getConfirmationExtensionMap=function(){return b("abstractMethod")("FBPaymentsConfirmationExtensionManagerBase","__getConfirmationExtensionMap")};function a(){}e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionManager",["FBPaymentsConfirmationExtensionManagerBase"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("FBPaymentsConfirmationExtensionManagerBase"));g=c&&c.prototype;function a(){g.constructor.call(this),this.confirmationExtensionMap=new Map()}a.prototype.__getConfirmationExtensionMap=function(){return this.confirmationExtensionMap};e.exports=new a()}),null);
__d("FBPaymentsConfirmationViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getConfirmationText=function(){return this.props.confirmationText||b("React").createElement("span",null,g._("Thanks for your purchase!"))};a.prototype.getConfirmationTitle=function(){return g._("Confirmation")};a.prototype.getReceiptText=function(){return this.props.customReceiptText||g._("See receipt")};a.prototype.getDoneButtonText=function(){return this.props.doneButtonText||g._("Done")};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsSubscriptionConfirmationView.react",["cx","FBPaymentsTextWithEntities.react","FDSText.react","FlexLayout.react","Image.react","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.renewTitle?b("React").createElement(b("FDSText.react"),{color:"positive",display:"block",margin:"_3-96",size:"body1",weight:"bold"},a.renewTitle):null;return b("React").createElement("div",{className:"_40c7 _52ju _68_r _28cv"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_2pio"},b("React").createElement(b("Image.react"),{className:"_2pij",height:36,src:a.image,width:36}),b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body1",weight:"bold"},a.name),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1"},a.subtitle))),c,b("React").createElement(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a.renewMessage}))}e.exports=a}),null);
__d("FBPaymentsConfirmationView.react",["cx","ix","CommerceContactMerchantReceiptDialog.react","CurrentUser","FBPaymentsConfirmationViewBase.react","FBPaymentsDialogActions","FBPaymentsLinkHelper","FBPaymentsReceiptDialog.react","FBPaymentsSubscriptionConfirmationView.react","FBPaymentsWebdriverTestIDs","Image.react","Link.react","React","URI","XUIButton.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=36;i=babelHelpers.inherits(a,b("FBPaymentsConfirmationViewBase.react"));i&&i.prototype;a.prototype.$FBPaymentsConfirmationView1=function(a){var c=new(b("URI"))(a).getProtocol();c=c!=="http"&&c!=="https"&&c!=="";if(c){c=b("FBPaymentsLinkHelper").parseInAppUrl(a);var d=c.clientType,e=c.productID;c=c.platformContextID;d?b("FBPaymentsDialogActions").showDialog(b("FBPaymentsReceiptDialog.react"),{actorID:b("CurrentUser").getAccountID(),onDialogToggle:this.$FBPaymentsConfirmationView2,receiptID:e,receiptClientType:d}):b("FBPaymentsDialogActions").showDialog(b("CommerceContactMerchantReceiptDialog.react"),{invoiceID:e,onDialogToggle:this.$FBPaymentsConfirmationView2,platformContextID:c})}else window.open(a,"_blank")};a.prototype.$FBPaymentsConfirmationView2=function(a){a||b("FBPaymentsDialogActions").hideDialog()};a.prototype.$FBPaymentsConfirmationView3=function(){var a=this.props.receiptUrl;if(!a||this.props.forceHideReceiptCTA)return null;return this.props.enableReceiptFooterLink?b("React").createElement("div",{className:"_2ppt"},b("React").createElement(b("Link.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,onClick:function(){return this.$FBPaymentsConfirmationView1(a)}.bind(this)},this.getReceiptText())):b("React").createElement("div",{className:"_2ppt"},b("React").createElement(b("XUIButton.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,label:this.getReceiptText(),onClick:function(){return this.$FBPaymentsConfirmationView1(a)}.bind(this),size:"xlarge"}))};a.prototype.render=function(){var a=this.props.customConfirmationImage?this.props.customConfirmationImage:b("React").createElement(b("Image.react"),{className:"_3fai",src:h("94361")}),c=b("React").createElement(b("XUIGrayText.react"),{className:"_2ppu"},this.getConfirmationText()),d=this.props.merchantLogoUrl?b("React").createElement(b("Image.react"),{className:"_2ppv",height:j,src:this.props.merchantLogoUrl}):null,e=b("React").createElement(b("XUIButton.react"),{"data-testid":b("FBPaymentsWebdriverTestIDs").CONFIRMATION_SCREEN_DONE_BUTTON,label:this.getDoneButtonText(),onClick:this.props.handleConfirmationDone,size:"xlarge",use:"confirm"}),f=this.props.subscriptionConfirmationDetails?b("React").createElement("div",{className:"_2o1p"},b("React").createElement(b("FBPaymentsSubscriptionConfirmationView.react"),this.props.subscriptionConfirmationDetails)):null,g=this.props.enableReceiptFooterLink?b("React").createElement("div",null,this.props.children,this.$FBPaymentsConfirmationView3()):b("React").createElement("div",null,this.$FBPaymentsConfirmationView3(),this.props.children);return b("React").createElement("div",{"data-testid":b("FBPaymentsWebdriverTestIDs").PAYMENT_CONFIRMATION_SCREEN},b("React").createElement("div",{className:"_2ppw"},b("React").createElement("div",{className:"_2owm"+(f?"":" _2o1p")},a,c,d),f,g),b("React").createElement("div",{className:"_5kyc _2ph_ _52jw"},e))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsConfirmationContainer.react",["FBPaymentsConfirmationContainerBase.react","FBPaymentsConfirmationExtensionManager","FBPaymentsConfirmationView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("FBPaymentsConfirmationContainerBase.react"));h=g&&g.prototype;a.prototype.__getConfirmationExtensionManager=function(){return b("FBPaymentsConfirmationExtensionManager")};a.prototype.__getView=function(){return b("FBPaymentsConfirmationView.react")};a.prototype.render=function(){return h.render.call(this)};function a(){g.apply(this,arguments)}a.propTypes=b("FBPaymentsConfirmationContainerBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsEntityHeaderViewBase.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("FBPaymentsCheckoutConfigurationTypes").EntityPropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.ENTITY_IMAGE_HEIGHT=36,b}a.prototype.getTitle=function(){return this.props.entity.participant.title};a.prototype.getSubtitle=function(){return this.props.entity.participant.subtitle};a.prototype.getImageSrc=function(){return this.props.entity.participant.imageURL};a.prototype.getDescription=function(){return this.props.entity.description};a.prototype.isLargeTitle=function(){return!this.getSubtitle()};a.propTypes={entity:c.isRequired};e.exports=a}),null);
__d("FBPaymentsEntityHeaderView.react",["cx","FBPaymentsEntityHeaderViewBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FBPaymentsEntityHeaderViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.isLargeTitle()?"large":"medium";a=b("React").createElement(b("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:a},this.getTitle());var c=this.getSubtitle()?b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"meta1"},this.getSubtitle()):null,d=this.getDescription()?b("React").createElement(b("XUIGrayText.react"),{className:"_2ph_ _5kyc",display:"block",shade:"medium",size:"meta1"},this.getDescription()):null;return b("React").createElement("div",{className:b("joinClasses")("_qu2",this.props.className)},b("React").createElement(b("FBPaymentsItemSummaryView.react"),{imageClassName:"_67ya",imageHeight:this.ENTITY_IMAGE_HEIGHT,imageSrc:this.getImageSrc()},a,c),d)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsLoadingContainerBase.react",["React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,{loadingText:this.props.loadingText,showLockSpinner:this.props.showLockSpinner})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsLoadingContainerBase","__getView")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsLoadingContainer.react",["FBPaymentsLoadingContainerBase.react","FBPaymentsLoadingView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsLoadingContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsLoadingView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsOrderSummaryViewBase.react",["fbt","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getItemImage=function(a,c){return a?b("React").createElement(b("Image.react"),{src:a,width:c,height:c}):null};a.prototype.getMerchantText=function(a,b){if(a)return a;else if(b)return g._("Sold by {merchantName}",[g._param("merchantName",b)]);return null};function a(){h.apply(this,arguments)}a.propTypes={items:c.arrayOf(c.shape({title:c.string.isRequired,subtitle:c.string,subsubtitle:c.string,merchantName:c.string,merchantText:c.string,itemImageUrl:c.string})).isRequired};e.exports=a}),null);
__d("FBPaymentsOrderSummaryContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsOrderSummaryViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("FBPaymentsCheckoutConfigurationTypes").ContentConfigurationPropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,this.props.configuration)};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsOrderSummaryContainerBase","__getView")};function a(){g.apply(this,arguments)}a.propTypes={configuration:c.isRequired};e.exports=a}),null);
__d("FBPaymentsOrderSummaryView.react",["cx","FBPaymentsOrderSummaryViewBase.react","ImageBlock.react","InlineBlock.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=72;h=babelHelpers.inherits(a,b("FBPaymentsOrderSummaryViewBase.react"));h&&h.prototype;a.prototype.render=function(){var a=this.props.items[0];return b("React").createElement(b("ImageBlock.react"),{className:"_qu2 _2ph_"},b("React").createElement("div",{className:"_3-91"},this.getItemImage(a.itemImageUrl,i)),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:i},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"header4",weight:"bold"},a.title),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},a.subtitle),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},a.subsubtitle),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.getMerchantText(a.merchantText,a.merchantName))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsOrderSummaryContainer.react",["FBPaymentsOrderSummaryContainerBase.react","FBPaymentsOrderSummaryView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsOrderSummaryContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsOrderSummaryView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsAbstractPSDDataPolicy.react",["cx","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsWebdriverTestIDs","Image.react","PaymentsPSDStaticStrings","PaymentsPSDStrings","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBPaymentsLoggerConstants").LoggerFlowStep,j=b("FBPaymentsLoggerConstants").LoggerEvent;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isLoading:!1},this.handleAcceptButtonClick=function(){this.logEvent(j.CLICK),this.setState({errorMessage:null,isLoading:!0}),this.logEvent(j.API_INIT),b("FBPaymentsModulesAPIShared").acceptPSDAgreementGraphQL(this.props.psdAgreementID,this.handleAcceptAgreementSuccess,this.handleAcceptAgreementError)}.bind(this),this.handleAcceptAgreementSuccess=function(a){this.setState({isLoading:!1}),this.logEvent(j.SUCCESS),this.props.onAccepted()}.bind(this),this.handleAcceptAgreementError=function(a){this.setState({errorMessage:a.message,isLoading:!1}),this.logErrorEvent(a)}.bind(this),c}a.prototype.componentDidMount=function(){this.logEvent(j.DISPLAY)};a.prototype.logEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(i.PSD_AGREEMENT).setEventName(a).log()};a.prototype.logErrorEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(i.PSD_AGREEMENT).setEventName(j.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).log()};a.prototype.render=function(){var a=this.props,c=a.buttonRenderer,d=a.errorRenderer,e=a.loadingRenderer,f=a.headerRenderer,g=a.paragraphRenderer;a=a.textWithEntitiesRenderer;var h="_2pi4",i="_2piq",j="_2pim";d=this.state.errorMessage?b("React").createElement("div",{className:"_2pio"},d(this.state.errorMessage)):null;return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_69fu")},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_69fv",src:b("PaymentsPSDStrings").HEADER_IMAGE_PATH})),b("React").createElement("div",{className:"_2ph_"},e(this.state.isLoading),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").INTRO_PARAGRAPH_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStrings").INTRO_FIRST_PARAGRAPH))),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH))),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_PARAGRAPH)),b("React").createElement("div",{className:i},g(a(b("PaymentsPSDStrings").ENCRYPTED_AND_SECURE_PARAGRAPH)))),b("React").createElement("div",null,d,this.props.shouldHideButton?null:c(b("PaymentsPSDStaticStrings").ACCEPT_BUTTON_LABEL,this.handleAcceptButtonClick,b("FBPaymentsWebdriverTestIDs").PSD_AGREEMENT_ACCEPT_BUTTON))))};e.exports=a}),null);
__d("FBPaymentsPSDDataPolicy.react",["FBPaymentsAbstractPSDDataPolicy.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FDSButton.react","FDSText.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){return b("React").createElement(b("FDSButton.react"),{"data-testid":d,label:a,onClick:c,size:"large",use:"primary",width:"100%"})}function h(a){return b("React").createElement(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold"},a)}function i(a){return b("React").createElement(b("FDSText.react"),{color:"primary",size:"body1"},a)}function j(a){return b("React").createElement(b("FDSText.react"),{color:"negative",size:"body1"},a)}function k(a){return b("React").createElement(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a})}function l(a){return b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:a})}function a(a){return b("React").createElement(b("FBPaymentsAbstractPSDDataPolicy.react"),babelHelpers["extends"]({},a,{buttonRenderer:g,errorRenderer:j,headerRenderer:h,loadingRenderer:l,paragraphRenderer:i,textWithEntitiesRenderer:k}))}e.exports=a}),null);
__d("FBPaymentsSubscriptionUtils",["fbt","BillingAgreementType","DateStrings","LocalDate","PECurrency","Timezone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET;a=b("Timezone").getEnvironmentTimezoneID();var i=b("LocalDate").today(a),j={getSubscriptionTerms:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e||e.amount==="")return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("By clicking {text on an action button}, you're authorising today's payment along with all recurring payments of {formatted amount} to be processed on the {day of month or last day of month for transaction} of every month until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("By clicking {text on an action button}, you're authorising today's payment along with all recurring payments of {formatted amount} to be processed on {formatted date} of every year until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getSubscriptionTermsMsite:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e)return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("By tapping {text on an action button}, you're authorising today's payment along with all recurring payments of {formatted amount} to be processed on the {day of month or last day of month for transaction} of every month until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("By tapping {text on an action button}, you're authorising today's payment along with all recurring payments of {formatted amount} to be processed on {formatted date} of every year until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getFormattedDayOfMonth:function(a){a===void 0&&(a=i);a=a.getDayOfMonth();var c=b("DateStrings").getDayOfMonth(a);if(a===31)return g._("last day");else if(a>=29)return g._("{a certain day of every month} or the last day",[g._param("a certain day of every month",c)]);else return c},getFormattedDayOfYear:function(a){a===void 0&&(a=i);return a.format("F j")}};e.exports=j}),null);
__d("FBPaymentsPayActionRowViewBase.react",["fbt","FBPaymentsLinkHelper","FBPaymentsSubscriptionUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getPayButtonText=function(){return this.props.actionTitle?this.props.actionTitle:g._("Pay")};a.prototype.getBackButtonText=function(){return g._("Back")};a.prototype.getTermsAndPolicies=function(){return this.props.customTermsAndPoliciesText?this.props.customTermsAndPoliciesText:this.getDefaultTermsAndPoliciesText()};a.prototype.getInlineViewText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.text:a:a:a};a.prototype.getInlineViewRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.ranges:a:a:a};a.prototype.getActions=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?a.actions:a:a:a};a.prototype.getHeaderText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.text:a:a:a:a};a.prototype.getHeaderRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.ranges:a:a:a:a};a.prototype.getDefaultTermsAndPoliciesText=function(){var a=g._("terms and policies");a=b("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},a);if(this.props.merchantName&&this.props.processorName)return g._("By clicking {text on action button}, you agree to {merchant name}'s and {processor name}'s terms and policies.",[g._param("text on action button",this.getPayButtonText()),g._param("merchant name",b("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName)),g._param("processor name",b("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},this.props.processorName))]);else if(this.props.merchantName)return g._("By clicking {text on action button}, you agree to {merchant name}'s terms and policies.",[g._param("text on action button",this.getPayButtonText()),g._param("merchant name",b("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName))]);else if(this.props.processorName)return g._("By clicking {text on action button}, you agree to {processor name}'s terms and policies.",[g._param("text on action button",this.getPayButtonText()),g._param("processor name",b("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},this.props.processorName))]);else return g._("By clicking {text on action button}, you agree to these {=terms and policies}.",[g._param("text on action button",this.getPayButtonText()),g._param("=terms and policies",a)])};a.prototype.getSubscriptionTerms=function(){return b("FBPaymentsSubscriptionUtils").getSubscriptionTerms(this.props.subscriptionTermsDetails,this.getPayButtonText())};function a(){h.apply(this,arguments)}a.propTypes={actionTitle:c.node,backButton:c.bool,collapsibleDisclaimer:c.bool,customTermsAndPoliciesText:c.element,isLoading:c.bool.isRequired,merchantName:c.string,onBackButtonClick:c.func.isRequired,onDisclaimerClick:c.func.isRequired,onPayButtonClick:c.func.isRequired,payButtonAlwaysEnabled:c.bool,payButtonEnabled:c.bool.isRequired,payButtonGreenWhenReady:c.bool,processorName:c.string,termsAndPoliciesUrl:c.string,merchantTermsAndPoliciesUrl:c.string.isRequired,price:c.shape({amount:c.string.isRequired,currency:c.string.isRequired}),showDisclaimerPopupMenu:c.bool};a.defaultProps={merchantTermsAndPoliciesUrl:b("FBPaymentsLinkHelper").getPaymentsTermsURI().toString(),payButtonAlwaysEnabled:!1};e.exports=a}),null);
__d("FBPaymentsPayActionRowContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPayActionRowViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=b("FBPaymentsCheckoutConfigurationTypes").PayActionContentPropTypes;f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={showDisclaimerPopupMenu:!1},this.$1=function(){this.setState({showDisclaimerPopupMenu:!this.state.showDisclaimerPopupMenu})}.bind(this),b}a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,babelHelpers["extends"]({collapsibleDisclaimer:this.props.collapsibleDisclaimer,isLoading:this.props.isLoading,backButton:this.props.backButton,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonAlwaysEnabled:this.props.payButtonAlwaysEnabled,price:this.props.price,showStickyPayButton:this.props.showStickyPayButton,showDisclaimerPopupMenu:this.state.showDisclaimerPopupMenu,onDisclaimerClick:this.$1},this.props.configuration,{payButtonGreenWhenReady:this.props.payButtonGreenWhenReady,subscriptionTermsDetails:this.props.subscriptionTermsDetails,termsAndPolicies:this.props.termsAndPolicies}))};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPayActionRowContainerBase","__getView")};a.propTypes={configuration:d.isRequired,isLoading:c.bool.isRequired,onBackButtonClick:c.func.isRequired,onPayButtonClick:c.func.isRequired,payButtonEnabled:c.bool.isRequired,payButtonAlwaysEnabled:c.bool};a.defaultProps={payButtonAlwaysEnabled:!1};e.exports=a}),null);
__d("FBPaymentsPayActionButtonViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getActionText=function(){var a=this.props.actionTitle?this.props.actionTitle:g._("Pay");return a};a.prototype.getBackText=function(){return this.props.backTitle?this.props.backTitle:g._("Back")};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPayActionButtonContainerBase.react",["FBPaymentsPayActionButtonViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,{actionTitle:this.props.actionTitle,backTitle:this.props.backTitle,backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonGreenWhenReady:this.props.payButtonGreenWhenReady,use:this.props.use,price:this.props.price})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPayActionButtonContainerBase","__getView")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPayActionButtonView.react",["cx","FBPaymentsPayActionButtonViewBase.react","FBPaymentsWebdriverTestIDs","LeftRight.react","PECurrency","PECurrency.react","React","XUIButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PECurrency").DEFAULT_AMOUNT_OFFSET;h=babelHelpers.inherits(a,b("FBPaymentsPayActionButtonViewBase.react"));h&&h.prototype;a.prototype.render=function(){__p&&__p();var a;if(this.props.isLoading)a=b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"small"});else if(this.props.price){var c=this.props.price;a=b("React").createElement(b("LeftRight.react"),{className:"_304_"},b("React").createElement("div",{className:"_2pis"},this.getActionText()),b("React").createElement("div",{className:"_2pii"},b("React").createElement(b("PECurrency.react"),{code:c.currency,showSymbol:!0,value:i*Number(c.amount)})))}else a=this.getActionText();var d;this.props.backButton&&(d=b("React").createElement(b("XUIButton.react"),{className:"_2oqx",disabled:this.props.isLoading,label:this.getBackText(),size:"large",onClick:this.props.onBackButtonClick,use:"default"}));c=b("React").createElement(b("XUIButton.react"),{className:"_39gi","data-testid":b("FBPaymentsWebdriverTestIDs").PAY_BUTTON,disabled:!this.props.payButtonEnabled,label:a,size:"large",onClick:this.props.onPayButtonClick,use:this.props.use?this.props.use:"confirm"});return b("React").createElement("div",{className:"_39ge"},d,c)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPayActionButtonContainer.react",["FBPaymentsPayActionButtonContainerBase.react","FBPaymentsPayActionButtonView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPayActionButtonContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsPayActionButtonView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPayActionRowView.react",["ix","cx","FBPaymentsPayActionButtonContainer.react","FBPaymentsPayActionRowViewBase.react","Image.react","Layout.react","React","TextWithEntities.react","XUIGrayText.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").FillColumn,k=b("Layout.react").Column;i=babelHelpers.inherits(a,b("FBPaymentsPayActionRowViewBase.react"));i&&i.prototype;a.prototype.render=function(){var a=this.props.payButtonEnabled||this.props.payButtonAlwaysEnabled,c=this.getTermsAndPolicies(),d=this.getInlineViewText(),e=this.getInlineViewRanges(),f=this.getActions(),h=this.getHeaderText(),i=this.getHeaderRanges(),m=this.getSubscriptionTerms();d=this.props.collapsibleDisclaimer?b("React").createElement(b("Layout.react"),{onClick:this.props.onDisclaimerClick},b("React").createElement(j,null,b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},b("React").createElement(b("TextWithEntities.react"),{text:d||"",ranges:e||[]}))),b("React").createElement(k,null,b("React").createElement(b("Image.react"),{src:g("141419")}))):b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},c,m?"\n":null,m);e=this.props.showDisclaimerPopupMenu?b("React").createElement(l,{actions:f,headerRanges:i,headerText:h}):null;c=this.props.showDisclaimerPopupMenu&&this.props.collapsibleDisclaimer;m=b("React").createElement(b("Layout.react"),{className:"_2g16",onClick:this.props.onDisclaimerClick});return b("React").createElement("div",{className:"_5kyc _2ph_"},c?e:null,d,c?m:null,b("React").createElement(b("FBPaymentsPayActionButtonContainer.react"),{actionTitle:this.getPayButtonText(),backTitle:this.getBackButtonText(),backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:a,price:this.props.price}))};function a(){i.apply(this,arguments)}function l(a){return b("React").createElement("div",{className:"_2g17"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("TextWithEntities.react"),{text:a.headerText||"",ranges:a.headerRanges||[]}),a.actions?a.actions.map(m):null))}function m(a,c){return a?b("React").createElement("div",{className:"_2pi2"},b("React").createElement(b("TextWithEntities.react"),{text:a.text||"",ranges:a.ranges||[]})):null}e.exports=a}),null);
__d("FBPaymentsPayActionRowContainer.react",["FBPaymentsPayActionRowContainerBase.react","FBPaymentsPayActionRowView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPayActionRowContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsPayActionRowView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsPriceTableContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPriceTableViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=b("FBPaymentsCheckoutConfigurationTypes").PriceListPropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.__getView();return b("React").createElement(a,{forceTotal:this.props.forceTotal,isCalculating:this.props.isCalculating,priceList:this.props.configuration.priceList,showTaxDisclaimer:this.props.showTaxDisclaimer})};a.prototype.__getView=function(){return b("abstractMethod")("FBPaymentsPriceTableContainerBase","__getView")};function a(){g.apply(this,arguments)}a.propTypes={configuration:c.shape({priceList:d.isRequired}).isRequired,forceTotal:c.bool,isCalculating:c.bool,showTaxDisclaimer:c.bool};e.exports=a}),null);
__d("FBPaymentsPriceTableContainer.react",["FBPaymentsPriceTableContainerBase.react","FBPaymentsPriceTableView.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("FBPaymentsPriceTableContainerBase.react"));g&&g.prototype;a.prototype.__getView=function(){return b("FBPaymentsPriceTableView.react")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBPaymentsCheckoutFlowContainer.react",["DOMScroll","FBPaymentsCheckoutFlowContainerBase.react","FBPaymentsCheckoutFlowView.react","FBPaymentsComponentWithErrorBoundaryContainer","FBPaymentsConfirmationContainer.react","FBPaymentsEntityHeaderView.react","FBPaymentsExtensionManager","FBPaymentsLoadingContainer.react","FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsOrderSummaryContainer.react","FBPaymentsPayActionRowContainer.react","FBPaymentsPriceTableContainer.react","FBPaymentsPSDDataPolicy.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("FBPaymentsCheckoutFlowContainerBase.react"));h=g&&g.prototype;a.prototype.__scrollToTop=function(){b("DOMScroll").scrollToTop(!0)};a.prototype.__getExtensionManager=function(){return b("FBPaymentsExtensionManager")};a.prototype.__getCheckoutFlowView=function(){return b("FBPaymentsCheckoutFlowView.react")};a.prototype.__getPSDAgreementNUXContainer=function(){return b("FBPaymentsPSDDataPolicy.react")};a.prototype.__getLoadingContainer=function(){return b("FBPaymentsLoadingContainer.react")};a.prototype.__getConfirmationContainer=function(){return b("FBPaymentsConfirmationContainer.react")};a.prototype.__getOrderSummaryContainer=function(){return b("FBPaymentsOrderSummaryContainer.react")};a.prototype.__getEntityHeaderContainer=function(){return b("FBPaymentsEntityHeaderView.react")};a.prototype.__getPayActionRowContainer=function(){return b("FBPaymentsPayActionRowContainer.react")};a.prototype.__getPriceTableContainer=function(){return b("FBPaymentsPriceTableContainer.react")};a.prototype.__getAPI=function(){return b("FBPaymentsModulesAPI")};a.prototype.__getLogger=function(){return b("FBPaymentsLogger")};a.prototype.render=function(){return h.render.call(this)};function a(){g.apply(this,arguments)}a.propTypes=babelHelpers["extends"]({},b("FBPaymentsCheckoutFlowContainerBase.react").propTypes);a=b("FBPaymentsComponentWithErrorBoundaryContainer").create(a);e.exports=a}),null);